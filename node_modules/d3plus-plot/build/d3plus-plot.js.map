{"version":3,"file":"d3plus-plot.js","sources":["../src/buffers/discreteBuffer.js","../src/buffers/Bar.js","../src/buffers/Box.js","../src/buffers/Circle.js","../src/buffers/Line.js","../src/buffers/Rect.js","../src/Plot.js","../src/AreaPlot.js","../src/BarChart.js","../src/BoxWhisker.js","../src/BumpChart.js","../src/LinePlot.js","../src/Radar.js","../src/StackedArea.js"],"sourcesContent":["/**\n * Adds left/right padding to a point or time scale.\n * @private\n */\nexport default (scale, data, discrete) => {\n\n  if (scale.padding) scale.padding(0.5);\n  else {\n    const closest = data.map(d => d[discrete]).reduce((acc, curr, i, arr) => {\n      if (!i) return acc;\n      const prev = arr[i - 1];\n      if (!acc || curr - prev < acc) return curr - prev;\n      else return acc;\n    }, 0);\n    const domain = scale.domain().slice();\n    if (discrete === \"y\") domain.reverse();\n    domain[0] = new Date(+domain[0] - closest / 2);\n    domain[1] = new Date(+domain[1] + closest / 2);\n    if (discrete === \"y\") domain.reverse();\n    scale.domain(domain);\n  }\n\n};\n","import {max, min, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport discreteBuffer from \"./discreteBuffer\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer = 10]\n    @private\n*/\nexport default function({data, x, y, x2, y2, buffer = 10}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const oppScale = this._discrete === \"x\" ? y : x;\n\n  const oppDomain = oppScale.domain().slice();\n\n  const isDiscreteX = this._discrete === \"x\";\n\n  if (isDiscreteX) oppDomain.reverse();\n\n  let negVals, posVals;\n  if (this._stacked) {\n    const groupedData = nest()\n      .key(d => d[this._discrete])\n      .entries(data)\n      .map(d => d.values.map(x => x[isDiscreteX ? yKey : xKey]));\n    posVals = groupedData.map(arr => sum(arr.filter(d => d > 0)));\n    negVals = groupedData.map(arr => sum(arr.filter(d => d < 0)));\n  }\n  else {\n    posVals = data.map(d => d[isDiscreteX ? yKey : xKey]);\n    negVals = posVals;\n  }\n\n  let bMax = oppScale(max(posVals));\n  if (isDiscreteX ? bMax < oppScale(0) : bMax > oppScale(0)) bMax += isDiscreteX ? -buffer : buffer;\n  bMax = oppScale.invert(bMax);\n\n  let bMin = oppScale(min(negVals));\n  if (isDiscreteX ? bMin > oppScale(0) : bMin < oppScale(0)) bMin += isDiscreteX ? buffer : -buffer;\n  bMin = oppScale.invert(bMin);\n\n  if (bMax > oppDomain[1]) oppDomain[1] = bMax;\n  if (bMin < oppDomain[0]) oppDomain[0] = bMin;\n\n  if (isDiscreteX) oppDomain.reverse();\n\n  oppScale.domain(oppDomain);\n\n  discreteBuffer(isDiscreteX ? x : y, data, this._discrete);\n\n  return [x, y];\n\n}\n","import {max, min, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport discreteBuffer from \"./discreteBuffer\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer = 10]\n    @private\n*/\nexport default function({data, x, y, x2, y2, buffer = 10}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const oppScale = this._discrete === \"x\" ? y : x;\n\n  const oppDomain = oppScale.domain().slice();\n\n  const isDiscreteX = this._discrete === \"x\";\n\n  if (isDiscreteX) oppDomain.reverse();\n\n  let negVals, posVals;\n  if (this._stacked) {\n    const groupedData = nest()\n      .key(d => d[this._discrete])\n      .entries(data)\n      .map(d => d.values.map(x => x[isDiscreteX ? yKey : xKey]));\n    posVals = groupedData.map(arr => sum(arr.filter(d => d > 0)));\n    negVals = groupedData.map(arr => sum(arr.filter(d => d < 0)));\n  }\n  else {\n    posVals = data.map(d => d[isDiscreteX ? yKey : xKey]);\n    negVals = posVals;\n  }\n\n  let bMax = oppScale(max(posVals));\n  bMax += isDiscreteX ? -buffer : buffer;\n  bMax = oppScale.invert(bMax);\n\n  let bMin = oppScale(min(negVals));\n  bMin += isDiscreteX ? buffer : -buffer;\n  bMin = oppScale.invert(bMin);\n\n  if (bMax > oppDomain[1]) oppDomain[1] = bMax;\n  if (bMin < oppDomain[0]) oppDomain[0] = bMin;\n\n  if (isDiscreteX) oppDomain.reverse();\n\n  oppScale.domain(oppDomain);\n\n  discreteBuffer(isDiscreteX ? x : y, data, this._discrete);\n\n  return [x, y];\n\n}\n","import discreteBuffer from \"./discreteBuffer\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\nexport default function({data, x, y, x2, y2, config, buffer}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const xD = x.domain().slice(),\n        yD = y.domain().slice();\n\n  const xR = x.range(),\n        yR = y.range();\n\n  if (!x.invert && x.padding) discreteBuffer(x, data, this._discrete);\n  if (!y.invert && y.padding) discreteBuffer(y, data, this._discrete);\n\n  data.forEach(d => {\n\n    const s = buffer ? buffer : config.r(d.data, d.i) * 2;\n\n    if (x.invert && x(d[xKey]) - xR[0] < s) {\n      const v = x.invert(x(d[xKey]) - s);\n      if (v < xD[0]) xD[0] = v;\n    }\n    if (x.invert && xR[1] - x(d[xKey]) < s) {\n      const v = x.invert(x(d[xKey]) + s);\n      if (v > xD[1]) xD[1] = v;\n    }\n\n    if (y.invert && y(d[yKey]) - yR[0] < s) {\n      const v = y.invert(y(d[yKey]) - s);\n      if (v > yD[0]) yD[0] = v;\n    }\n    if (y.invert && yR[1] - y(d[yKey]) < s) {\n      const v = y.invert(y(d[yKey]) + s);\n      if (v < yD[1]) yD[1] = v;\n    }\n\n  });\n\n  x.domain(xD).range(xR);\n  y.domain(yD).range(yR);\n\n  return [x, y];\n\n}\n","import {max} from \"d3-array\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\nexport default function({data, x, y, x2, y2}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const s = this._discrete === \"x\" ? y : x;\n\n  const d = s.domain().slice();\n\n  if (this._discrete === \"x\") d.reverse();\n\n  const vals = data.map(d => d[this._discrete === \"x\" ? yKey : xKey]);\n  const b = s.invert(s(max(vals)) + (this._discrete === \"x\" ? -10 : 10));\n\n  if (b > d[1]) d[1] = b;\n\n  if (this._discrete === \"x\") d.reverse();\n\n  s.domain(d);\n\n  return [x, y];\n\n}\n","import discreteBuffer from \"./discreteBuffer\";\n\n/**\n    Adds a buffer to either side of the non-discrete axis.\n    @param {Array} data\n    @param {D3Scale} x\n    @param {D3Scale} y\n    @param {Object} [config]\n    @param {Number} [buffer] Defaults to the radius of the largest Circle.\n    @private\n*/\nexport default function({data, x, y, x2, y2, config}) {\n  const xKey = x2 ? \"x2\" : \"x\";\n  const yKey = y2 ? \"y2\" : \"y\";\n\n  const xD = x.domain().slice(),\n        yD = y.domain().slice();\n\n  const xR = x.range(),\n        yR = y.range();\n\n  if (!x.invert && x.padding) discreteBuffer(x, data, this._discrete);\n  if (!y.invert && y.padding) discreteBuffer(y, data, this._discrete);\n\n  data.forEach(d => {\n\n    const h = config.height(d.data, d.i),\n          w = config.width(d.data, d.i);\n\n    if (x.invert && x(d[xKey]) - xR[0] < w) {\n      const v = x.invert(x(d[xKey]) - w);\n      if (v < xD[0]) xD[0] = v;\n    }\n    if (x.invert && xR[1] - x(d[xKey]) < w) {\n      const v = x.invert(x(d[xKey]) + w);\n      if (v > xD[1]) xD[1] = v;\n    }\n\n    if (y.invert && y(d[yKey]) - yR[0] < h) {\n      const v = y.invert(y(d[yKey]) - h);\n      if (v > yD[0]) yD[0] = v;\n    }\n    if (y.invert && yR[1] - y(d[yKey]) < h) {\n      const v = y.invert(y(d[yKey]) + h);\n      if (v < yD[1]) yD[1] = v;\n    }\n\n  });\n\n  x.domain(xD);\n  y.domain(yD);\n\n  return [x, y];\n\n}\n","/* eslint no-cond-assign: 0 */\n\nimport {extent, max, merge, min, range, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport * as scales from \"d3-scale\";\nimport * as d3Shape from \"d3-shape\";\n\nimport {AxisBottom, AxisLeft, AxisRight, AxisTop, date} from \"d3plus-axis\";\nimport {colorAssign} from \"d3plus-color\";\nimport {accessor, assign, configPrep, constant, elem} from \"d3plus-common\";\nimport * as shapes from \"d3plus-shape\";\nimport {Viz} from \"d3plus-viz\";\n\nimport {default as BarBuffer} from \"./buffers/Bar.js\";\nimport {default as BoxBuffer} from \"./buffers/Box.js\";\nimport {default as CircleBuffer} from \"./buffers/Circle.js\";\nimport {default as LineBuffer} from \"./buffers/Line.js\";\nimport {default as RectBuffer} from \"./buffers/Rect.js\";\n\n/**\n    @desc Logic for determining default sizes of shapes using the sizeScaleD3 internal function.\n    @private\n*/\nfunction defaultSize(d) {\n  return this._sizeScaleD3(this._size ? this._size(d) : null);\n}\n\n/**\n    @desc Logic for determining stackOrder ascending using groups.\n    @private\n*/\nfunction stackOrderAscending(series) {\n  const sums = series.map(stackSum);\n  const keys = series.map(d => d.key.split(\"_\")[0]);\n  return d3Shape.stackOrderNone(series).sort((a, b) => keys[b].localeCompare(keys[a]) || sums[a] - sums[b]);\n}\n\n/**\n    @desc Logic for determining stackOrder descending using groups.\n    @private\n*/\nfunction stackOrderDescending(series) {\n  return stackOrderAscending(series).reverse();\n}\n\n/**\n    @desc Logic for determining default sum of shapes using the stackSum function used in d3Shape.\n    @private\n*/\nfunction stackSum(series) {\n  let i = -1, s = 0, v;\n  const n = series.length;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n\n/**\n    @class Plot\n    @extends Viz\n    @desc Creates an x/y plot based on an array of data.\n*/\nexport default class Plot extends Viz {\n\n  /**\n      @memberof Plot\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._annotations = [];\n    this._backgroundConfig = {\n      duration: 0,\n      fill: \"transparent\"\n    };\n    this._barPadding = 0;\n    this._buffer = {\n      Bar: BarBuffer,\n      Box: BoxBuffer,\n      Circle: CircleBuffer,\n      Line: LineBuffer,\n      Rect: RectBuffer\n    };\n    this._confidenceConfig = {\n      fillOpacity: constant(0.5)\n    };\n    this._discreteCutoff = 100;\n    this._groupPadding = 5;\n    this._shape = constant(\"Circle\");\n    this._shapeConfig = assign(this._shapeConfig, {\n      Area: {\n        label: (d, i) => this._stacked ? this._drawLabel(d, i) : false,\n        labelConfig: {\n          fontResize: true\n        }\n      },\n      ariaLabel: (d, i) => {\n        let ariaLabelStr = \"\";\n        if (d.nested) ariaLabelStr = `${this._drawLabel(d.data, d.i)}`;\n        else {\n          ariaLabelStr = `${this._drawLabel(d, i)}`;\n          if (this._x(d, i) !== undefined) ariaLabelStr += `, x: ${this._x(d, i)}`;\n          if (this._y(d, i) !== undefined) ariaLabelStr += `, y: ${this._y(d, i)}`;\n          if (this._x2(d, i) !== undefined) ariaLabelStr += `, x2: ${this._x2(d, i)}`;\n          if (this._y2(d, i) !== undefined) ariaLabelStr += `, y2: ${this._y2(d, i)}`;\n        }\n        return `${ariaLabelStr}.`;\n      },\n      Bar: {\n        labelConfig: {\n          textAnchor: () => this._discrete === \"x\" ? \"middle\" : \"end\",\n          verticalAlign: () => this._discrete === \"x\" ? \"top\" : \"middle\"\n        }\n      },\n      Circle: {\n        r: defaultSize.bind(this)\n      },\n      Line: {\n        fill: constant(\"none\"),\n        label: false,\n        stroke: (d, i) => colorAssign(this._id(d, i)),\n        strokeWidth: constant(1)\n      },\n      Rect: {\n        height: d => defaultSize.bind(this)(d) * 2,\n        width: d => defaultSize.bind(this)(d) * 2\n      }\n    });\n    this._shapeOrder = [\"Area\", \"Path\", \"Bar\", \"Box\", \"Line\", \"Rect\", \"Circle\"];\n    this._shapeSort = (a, b) => this._shapeOrder.indexOf(a) - this._shapeOrder.indexOf(b);\n    this._sizeMax = 20;\n    this._sizeMin = 5;\n    this._sizeScale = \"sqrt\";\n    this._stackOffset = d3Shape.stackOffsetDiverging;\n    this._stackOrder = stackOrderDescending;\n    this._timelineConfig = assign(this._timelineConfig, {brushing: true});\n\n    this._x = accessor(\"x\");\n    this._xAxis = new AxisBottom().align(\"end\");\n    this._xTest = new AxisBottom().align(\"end\").gridSize(0);\n    this._xConfig = {};\n    this._xCutoff = 150;\n\n    this._x2 = accessor(\"x2\");\n    this._x2Axis = new AxisTop().align(\"start\");\n    this._x2Test = new AxisTop().align(\"start\").gridSize(0);\n    this._x2Config = {\n      padding: 0\n    };\n\n    this._y = accessor(\"y\");\n    this._yAxis = new AxisLeft().align(\"start\");\n    this._yTest = new AxisLeft().align(\"start\").gridSize(0);\n    this._yConfig = {\n      gridConfig: {\n        stroke: d => {\n          const domain = this._yAxis.domain();\n          return domain[domain.length - 1] === d.id ? \"transparent\" : \"#ccc\";\n        }\n      }\n    };\n    this._yCutoff = 150;\n\n    this._y2 = accessor(\"y2\");\n    this._y2Axis = new AxisRight().align(\"end\");\n    this._y2Test = new AxisLeft().align(\"end\").gridSize(0);\n    this._y2Config = {};\n\n  }\n\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n  _draw(callback) {\n\n    if (!this._filteredData.length) return this;\n\n    const stackGroup = (d, i) => this._stacked\n      ? `${this._groupBy.length > 1 ? this._ids(d, i).slice(0, -1).join(\"_\") : \"group\"}`\n      : `${this._ids(d, i).join(\"_\")}`;\n\n    let data = this._filteredData.map((d, i) => ({\n      __d3plus__: true,\n      data: d,\n      group: stackGroup(d, i),\n      i,\n      hci: this._confidence && this._confidence[1] && this._confidence[1](d, i),\n      id: this._ids(d, i).slice(0, this._drawDepth + 1).join(\"_\"),\n      lci: this._confidence && this._confidence[0] && this._confidence[0](d, i),\n      shape: this._shape(d, i),\n      x: this._x(d, i),\n      x2: this._x2(d, i),\n      y: this._y(d, i),\n      y2: this._y2(d, i)\n    }));\n\n    this._formattedData = data;\n\n    if (this._size) {\n      const rExtent = extent(data, d => this._size(d.data));\n      this._sizeScaleD3 = () => this._sizeMin;\n      this._sizeScaleD3 = scales[`scale${this._sizeScale.charAt(0).toUpperCase()}${this._sizeScale.slice(1)}`]()\n        .domain(rExtent)\n        .range([rExtent[0] === rExtent[1] ? this._sizeMax : min([this._sizeMax / 2, this._sizeMin]), this._sizeMax]);\n    }\n    else {\n      this._sizeScaleD3 = () => this._sizeMin;\n    }\n\n    const x2Exists = data.some(d => d.x2 !== undefined),\n          y2Exists = data.some(d => d.y2 !== undefined);\n\n    const height = this._height - this._margin.top - this._margin.bottom,\n          opp = this._discrete ? this._discrete === \"x\" ? \"y\" : \"x\" : undefined,\n          opp2 = this._discrete ? this._discrete === \"x\" ? \"y2\" : \"x2\" : undefined,\n          opps = [opp, opp2].filter(d => d),\n          parent = this._select,\n          transition = this._transition,\n          width = this._width - this._margin.left - this._margin.right;\n\n    const x2Time = this._time && data[0].x2 === this._time(data[0].data, data[0].i),\n          xTime = this._time && data[0].x === this._time(data[0].data, data[0].i),\n          y2Time = this._time && data[0].y2 === this._time(data[0].data, data[0].i),\n          yTime = this._time && data[0].y === this._time(data[0].data, data[0].i);\n\n    for (let i = 0; i < data.length; i++) {\n      const d = data[i];\n      if (xTime) d.x = date(d.x);\n      if (x2Time) d.x2 = date(d.x2);\n      if (yTime) d.y = date(d.y);\n      if (y2Time) d.y2 = date(d.y2);\n      d.discrete = d.shape === \"Bar\" ? `${d[this._discrete]}_${d.group}` : `${d[this._discrete]}`;\n    }\n\n    let discreteKeys, domains, stackData, stackKeys;\n    if (this._stacked) {\n\n      const groupValues = nest()\n        .key(d => d.group)\n        .entries(data)\n        .reduce((obj, d) => {\n          if (!obj[d.key]) obj[d.key] = 0;\n          obj[d.key] += sum(d.values, dd => dd[opp]);\n          return obj;\n        }, {});\n\n      data = data.sort((a, b) => {\n        if (this[`_${this._discrete}Sort`]) return this[`_${this._discrete}Sort`](a.data, b.data);\n        const a1 = a[this._discrete], b1 = b[this._discrete];\n        if (a1 - b1 !== 0) return a1 - b1;\n        if (a.group !== b.group) return groupValues[b.group] - groupValues[a.group];\n        return b[opp] - a[opp];\n      });\n\n      discreteKeys = Array.from(new Set(data.map(d => d.discrete)));\n      stackKeys = Array.from(new Set(data.map(d => d.id)));\n\n      stackData = nest()\n        .key(d => d.discrete)\n        .entries(data)\n        .map(d => d.values);\n\n      stackData.forEach(g => {\n        const ids = Array.from(new Set(g.map(d => d.id)));\n        if (ids.length < stackKeys.length) {\n          stackKeys.forEach(k => {\n            if (!ids.includes(k)) {\n              const d = data.filter(d => d.id === k)[0];\n              if (d.shape === \"Area\") {\n                const group = stackGroup(d.data, d.i);\n                const fillerPoint = {\n                  __d3plus__: true,\n                  data: d.data,\n                  discrete: d.shape === \"Bar\" ? `${g[0][this._discrete]}_${group}` : `${g[0][this._discrete]}`,\n                  group,\n                  id: k,\n                  shape: d.shape,\n                  [this._discrete]: g[0][this._discrete],\n                  [opp]: 0\n                };\n                data.push(fillerPoint);\n              }\n            }\n          });\n        }\n      });\n\n      if (this[`_${this._discrete}Sort`]) {\n        data.sort((a, b) => this[`_${this._discrete}Sort`](a.data, b.data));\n      }\n      else {\n        data.sort((a, b) => a[this._discrete] - b[this._discrete]);\n      }\n\n      const order = this._stackOrder;\n\n      if (order instanceof Array) stackKeys.sort((a, b) => order.indexOf(a) - order.indexOf(b));\n      else if (order === d3Shape.stackOrderNone) stackKeys.sort((a, b) => a.localeCompare(b));\n\n      stackData = d3Shape.stack()\n        .keys(stackKeys)\n        .offset(this._stackOffset)\n        .order(order instanceof Array ? d3Shape.stackOrderNone : order)\n        .value((group, key) => {\n          const d = group.filter(g => g.id === key);\n          return d.length ? d[0][opp] : 0;\n        })(stackData);\n\n      domains = {\n        [this._discrete]: extent(data, d => d[this._discrete]),\n        [opp]: [min(stackData.map(g => min(g.map(p => p[0])))), max(stackData.map(g => max(g.map(p => p[1]))))]\n      };\n\n    }\n    else {\n      const xData = this._discrete === \"x\" ? data.map(d => d.x) : data.map(d => d.x)\n        .concat(this._confidence && this._confidence[0] ? data.map(d => d.lci) : [])\n        .concat(this._confidence && this._confidence[1] ? data.map(d => d.hci) : []);\n\n      const x2Data = this._discrete === \"x\" ? data.map(d => d.x2) : data.map(d => d.x2)\n        .concat(this._confidence && this._confidence[0] ? data.map(d => d.lci) : [])\n        .concat(this._confidence && this._confidence[1] ? data.map(d => d.hci) : []);\n\n      const yData = this._discrete === \"y\" ? data.map(d => d.y) : data.map(d => d.y)\n        .concat(this._confidence && this._confidence[0] ? data.map(d => d.lci) : [])\n        .concat(this._confidence && this._confidence[1] ? data.map(d => d.hci) : []);\n\n      const y2Data = this._discrete === \"y\" ? data.map(d => d.y2) : data.map(d => d.y2)\n        .concat(this._confidence && this._confidence[0] ? data.map(d => d.lci) : [])\n        .concat(this._confidence && this._confidence[1] ? data.map(d => d.hci) : []);\n\n      if (this[`_${this._discrete}Sort`]) {\n        data.sort((a, b) => this[`_${this._discrete}Sort`](a.data, b.data));\n      }\n      else {\n        data.sort((a, b) => a[this._discrete] - b[this._discrete]);\n      }\n\n      domains = {\n        x: this._xSort ? Array.from(new Set(data.filter(d => d.x).sort((a, b) => this._xSort(a.data, b.data)).map(d => d.x))) : extent(xData, d => d),\n        x2: this._x2Sort ? Array.from(new Set(data.filter(d => d.x2).sort((a, b) => this._x2Sort(a.data, b.data)).map(d => d.x2))) : extent(x2Data, d => d),\n        y: this._ySort ? Array.from(new Set(data.filter(d => d.y).sort((a, b) => this._ySort(a.data, b.data)).map(d => d.y))) : extent(yData, d => d),\n        y2: this._y2Sort ? Array.from(new Set(data.filter(d => d.y2).sort((a, b) => this._y2Sort(a.data, b.data)).map(d => d.y2))) : extent(y2Data, d => d)\n      };\n    }\n\n    let xDomain = this._xDomain ? this._xDomain.slice() : domains.x,\n        xScale = this._xSort ? \"Point\" : \"Linear\";\n\n    if (xDomain[0] === void 0) xDomain[0] = domains.x[0];\n    if (xDomain[1] === void 0) xDomain[1] = domains.x[1];\n\n    if (xTime) {\n      xDomain = xDomain.map(date);\n      xScale = \"Time\";\n    }\n    else if (this._discrete === \"x\") {\n      xDomain = Array.from(new Set(data.filter(d => d.x).sort((a, b) => this._xSort ? this._xSort(a.data, b.data) : a.x - b.x).map(d => d.x)));\n      xScale = \"Point\";\n    }\n\n    let x2Domain = this._x2Domain ? this._x2Domain.slice() : domains.x2,\n        x2Scale = this._x2Sort ? \"Point\" : \"Linear\";\n\n    if (x2Domain && x2Domain[0] === void 0) x2Domain[0] = domains.x2[0];\n    if (x2Domain && x2Domain[1] === void 0) x2Domain[1] = domains.x2[1];\n\n    if (x2Time) {\n      x2Domain = x2Domain.map(date);\n      x2Scale = \"Time\";\n    }\n    else if (this._discrete === \"x\") {\n      x2Domain = Array.from(new Set(data.filter(d => d.x2).sort((a, b) => this._x2Sort ? this._x2Sort(a.data, b.data) : a.x2 - b.x2).map(d => d.x2)));\n      x2Scale = \"Point\";\n    }\n\n    let yDomain = this._yDomain ? this._yDomain.slice() : domains.y,\n        yScale = this._ySort ? \"Point\" : \"Linear\";\n\n    if (yDomain[0] === void 0) yDomain[0] = domains.y[0];\n    if (yDomain[1] === void 0) yDomain[1] = domains.y[1];\n\n    let y2Domain = this._y2Domain ? this._y2Domain.slice() : domains.y2,\n        y2Scale = this._y2Sort ? \"Point\" : \"Linear\";\n\n    if (y2Domain && y2Domain[0] === void 0) y2Domain[0] = domains.y2[0];\n    if (y2Domain && y2Domain[1] === void 0) y2Domain[1] = domains.y2[1];\n\n    if (yTime) {\n      yDomain = yDomain.map(date);\n      yScale = \"Time\";\n    }\n    else if (this._discrete === \"y\") {\n      yDomain = Array.from(new Set(data.sort((a, b) => this._ySort ? this._ySort(a.data, b.data) : a.y - b.y).map(d => d.y)));\n      yScale = \"Point\";\n\n      y2Domain = Array.from(new Set(data.sort((a, b) => this._y2Sort ? this._y2Sort(a.data, b.data) : a.y2 - b.y2).map(d => d.y2)));\n      y2Scale = \"Point\";\n    }\n\n    if (y2Time) {\n      y2Domain = y2Domain.map(date);\n      y2Scale = \"Time\";\n    }\n\n    domains = {x: xDomain, x2: x2Domain || xDomain, y: yDomain, y2: y2Domain || yDomain};\n\n    opps.forEach(opp => {\n      if (this[`_${opp}Config`].domain) {\n        const d = this[`_${opp}Config`].domain;\n        if (this._discrete === \"x\") d.reverse();\n        domains[opp] = d;\n      }\n      else if (opp && this._baseline !== void 0) {\n        const b = this._baseline;\n        if (domains[opp] && domains[opp][0] > b) domains[opp][0] = b;\n        else if (domains[opp] && domains[opp][1] < b) domains[opp][1] = b;\n      }\n    });\n\n    let x = scales[`scale${xScale}`]().domain(domains.x).range(range(0, width + 1, width / (domains.x.length - 1))),\n        x2 = scales[`scale${x2Scale}`]().domain(domains.x2).range(range(0, width + 1, width / (domains.x2.length - 1))),\n        y = scales[`scale${yScale}`]().domain(domains.y.reverse()).range(range(0, height + 1, height / (domains.y.length - 1))),\n        y2 = scales[`scale${y2Scale}`]().domain(domains.y2.reverse()).range(range(0, height + 1, height / (domains.y2.length - 1)));\n\n    const shapeData = nest()\n      .key(d => d.shape)\n      .entries(data)\n      .sort((a, b) => this._shapeSort(a.key, b.key));\n\n    const oppScale = this._discrete === \"x\" ? yScale : xScale;\n    if (this._xConfig.scale !== \"log\" && this._yConfig.scale !== \"log\" && oppScale !== \"Point\") {\n      shapeData.forEach(d => {\n        if (this._buffer[d.key]) {\n          const res = this._buffer[d.key].bind(this)({data: d.values, x, y, config: this._shapeConfig[d.key]});\n          if (this._xConfig.scale !== \"log\") x = res[0];\n          if (this._yConfig.scale !== \"log\") y = res[1];\n          const res2 = this._buffer[d.key].bind(this)({data: d.values, x: x2, y: y2, x2: true, y2: true, config: this._shapeConfig[d.key]});\n          if (this._x2Config.scale !== \"log\") x2 = res2[0];\n          if (this._y2Config.scale !== \"log\") y2 = res2[1];\n        }\n      });\n    }\n    xDomain = x.domain();\n    x2Domain = x2.domain();\n    yDomain = y.domain();\n    y2Domain = y2.domain();\n\n    const defaultConfig = {\n      barConfig: {\"stroke-width\": 0},\n      gridSize: 0,\n      labels: [],\n      title: false,\n      tickSize: 0\n    };\n\n    const defaultX2Config = x2Exists ? {} : defaultConfig;\n    const defaultY2Config = y2Exists ? {} : defaultConfig;\n    const showX = this._discrete === \"x\" && this._width > this._discreteCutoff || this._width > this._xCutoff;\n    const showY = this._discrete === \"y\" && this._height > this._discreteCutoff || this._height > this._yCutoff;\n\n    const yC = {\n      gridConfig: {stroke: !this._discrete || this._discrete === \"x\" ? this._yTest.gridConfig().stroke : \"transparent\"},\n      locale: this._locale,\n      scalePadding: y.padding ? y.padding() : 0\n    };\n    if (!showX) {\n      yC.barConfig = {stroke: \"transparent\"};\n      yC.tickSize = 0;\n      yC.shapeConfig = {\n        labelBounds: (d, i) => {\n          const {width, y} = d.labelBounds;\n          const height = this._height / 2;\n          const x = i ? -height : 0;\n          return {x, y, width, height};\n        },\n        labelConfig: {\n          padding: 0,\n          rotate: 0,\n          verticalAlign: d => d.id === yTicks[0] ? \"top\" : \"bottom\"\n        },\n        labelRotation: false\n      };\n    }\n\n    const testGroup = elem(\"g.d3plus-plot-test\", {enter: {opacity: 0}, parent: this._select}),\n          x2Ticks = this._discrete === \"x\" && !x2Time ? domains.x2 : undefined,\n          xTicks = !showY ? extent(domains.x) : this._discrete === \"x\" && !xTime ? domains.x : undefined,\n          y2Ticks = this._discrete === \"y\" && !y2Time ? domains.y2 : undefined,\n          yTicks = !showX ? extent(domains.y) : this._discrete === \"y\" && !yTime ? domains.y : undefined;\n\n    if (showY) {\n      this._yTest\n        .domain(yDomain)\n        .height(height)\n        .maxSize(width / 2)\n        .range([undefined, undefined])\n        .scale(yScale.toLowerCase())\n        .select(testGroup.node())\n        .ticks(yTicks)\n        .width(width)\n        .config(yC)\n        .config(this._yConfig)\n        .render();\n    }\n\n    let yBounds = this._yTest.outerBounds();\n    let yWidth = yBounds.width ? yBounds.width + this._yTest.padding() : undefined;\n\n    if (y2Exists) {\n      this._y2Test\n        .domain(y2Domain)\n        .height(height)\n        .range([undefined, undefined])\n        .scale(y2Scale.toLowerCase())\n        .select(testGroup.node())\n        .ticks(y2Ticks)\n        .width(width)\n        .config(yC)\n        .config(defaultY2Config)\n        .config(this._y2Config)\n        .render();\n    }\n\n    let y2Bounds = this._y2Test.outerBounds();\n    let y2Width = y2Bounds.width ? y2Bounds.width + this._y2Test.padding() : undefined;\n\n    const xC = {\n      gridConfig: {stroke: !this._discrete || this._discrete === \"y\" ? this._xTest.gridConfig().stroke : \"transparent\"},\n      locale: this._locale,\n      scalePadding: x.padding ? x.padding() : 0\n    };\n    if (!showY) {\n      xC.barConfig = {stroke: \"transparent\"};\n      xC.tickSize = 0;\n      xC.shapeConfig = {\n        labelBounds: (d, i) => {\n          const {height, y} = d.labelBounds;\n          const width = this._width / 2;\n          const x = i ? -width : 0;\n          return {x, y, width, height};\n        },\n        labelConfig: {\n          padding: 0,\n          rotate: 0,\n          textAnchor: d => d.id === xTicks[0] ? \"start\" : \"end\"\n        },\n        labelRotation: false\n      };\n    }\n\n    if (showX) {\n      this._xTest\n        .domain(xDomain)\n        .height(height)\n        .maxSize(height / 2)\n        .range([undefined, undefined])\n        .scale(xScale.toLowerCase())\n        .select(testGroup.node())\n        .ticks(xTicks)\n        .width(width)\n        .config(xC)\n        .config(this._xConfig)\n        .render();\n    }\n\n    if (x2Exists) {\n      this._x2Test\n        .domain(x2Domain)\n        .height(height)\n        .range([undefined, undefined])\n        .scale(x2Scale.toLowerCase())\n        .select(testGroup.node())\n        .ticks(x2Ticks)\n        .width(width)\n        .config(xC)\n        .tickSize(0)\n        .config(defaultX2Config)\n        .config(this._x2Config)\n        .render();\n    }\n\n    const xTestRange = this._xTest._getRange();\n    const x2TestRange = this._x2Test._getRange();\n\n    const x2Bounds = this._x2Test.outerBounds();\n    const x2Height = x2Exists ? x2Bounds.height + this._x2Test.padding() : 0;\n\n    let xOffsetLeft = max([yWidth, xTestRange[0], x2TestRange[0]]);\n\n    if (showX) {\n      this._xTest\n        .range([xOffsetLeft, undefined])\n        .render();\n    }\n\n    const topOffset = showY ? this._yTest.shapeConfig().labelConfig.fontSize() / 2 : 0;\n\n    let xOffsetRight = max([y2Width, width - xTestRange[1], width - x2TestRange[1]]);\n    const xBounds = this._xTest.outerBounds();\n    const xHeight = xBounds.height + (showY ? this._xTest.padding() : 0);\n\n    this._padding.left += xOffsetLeft;\n    this._padding.right += xOffsetRight;\n    this._padding.bottom += xHeight;\n    this._padding.top += x2Height + topOffset;\n\n    super._draw(callback);\n\n    const horizontalMargin = this._margin.left + this._margin.right;\n    const verticalMargin = this._margin.top + this._margin.bottom;\n    let yRange = [x2Height, height - (xHeight + topOffset + verticalMargin)];\n\n    if (showY) {\n      this._yTest\n        .domain(yDomain)\n        .height(height)\n        .maxSize(width / 2)\n        .range(yRange)\n        .scale(yScale.toLowerCase())\n        .select(testGroup.node())\n        .ticks(yTicks)\n        .width(width)\n        .config(yC)\n        .config(this._yConfig)\n        .render();\n    }\n\n    yBounds = this._yTest.outerBounds();\n    yWidth = yBounds.width ? yBounds.width + this._yTest.padding() : undefined;\n    xOffsetLeft = max([yWidth, xTestRange[0], x2TestRange[0]]);\n\n    if (y2Exists) {\n      this._y2Test\n        .config(yC)\n        .domain(y2Domain)\n        .gridSize(0)\n        .height(height)\n        .range(yRange)\n        .scale(y2Scale.toLowerCase())\n        .select(testGroup.node())\n        .width(width - max([0, xOffsetRight - y2Width]))\n        .title(false)\n        .config(this._y2Config)\n        .config(defaultY2Config)\n        .render();\n    }\n\n    y2Bounds = this._y2Test.outerBounds();\n    y2Width = y2Bounds.width ? y2Bounds.width + this._y2Test.padding() : undefined;\n    xOffsetRight = max([0, y2Width, width - xTestRange[1], width - x2TestRange[1]]);\n    const xRange = [xOffsetLeft, width - (xOffsetRight + horizontalMargin)];\n\n    const rectGroup = elem(\"g.d3plus-plot-background\", {parent, transition});\n\n    const transform = `translate(${this._margin.left}, ${this._margin.top + x2Height + topOffset})`;\n    const x2Transform = `translate(${this._margin.left}, ${this._margin.top + topOffset})`;\n\n    const xGroup = showX && elem(\"g.d3plus-plot-x-axis\", {parent, transition, enter: {transform}, update: {transform}});\n    const x2Group = x2Exists && elem(\"g.d3plus-plot-x2-axis\", {parent, transition, enter: {transform: x2Transform}, update: {transform: x2Transform}});\n\n    const xTrans = xOffsetLeft > yWidth ? xOffsetLeft - yWidth : 0;\n    const yTransform = `translate(${this._margin.left + xTrans}, ${this._margin.top + topOffset})`;\n    const yGroup = showY && elem(\"g.d3plus-plot-y-axis\", {parent, transition, enter: {transform: yTransform}, update: {transform: yTransform}});\n\n    const y2Transform = `translate(-${this._margin.right}, ${this._margin.top + topOffset})`;\n    const y2Group = y2Exists && elem(\"g.d3plus-plot-y2-axis\", {parent, transition, enter: {transform: y2Transform}, update: {transform: y2Transform}});\n\n    this._xAxis\n      .domain(xDomain)\n      .height(height - (x2Height + topOffset + verticalMargin))\n      .maxSize(height / 2)\n      .range(xRange)\n      .scale(xScale.toLowerCase())\n      .select(showX ? xGroup.node() : undefined)\n      .ticks(xTicks)\n      .width(width)\n      .config(xC)\n      .config(this._xConfig)\n      .render();\n\n    if (x2Exists) {\n      this._x2Axis\n        .domain(x2Domain)\n        .height(height - (xHeight + topOffset + verticalMargin))\n        .range(xRange)\n        .scale(x2Scale.toLowerCase())\n        .select(x2Group.node())\n        .ticks(x2Ticks)\n        .width(width)\n        .config(xC)\n        .config(defaultX2Config)\n        .config(this._x2Config)\n        .render();\n    }\n\n    x = (d, x) => {\n      if (x === \"x2\") {\n        if (this._x2Config.scale === \"log\" && d === 0) d = x2Domain[0] < 0 ? -1 : 1;\n        return this._x2Axis._getPosition.bind(this._x2Axis)(d);\n      }\n      else {\n        if (this._xConfig.scale === \"log\" && d === 0) d = xDomain[0] < 0 ? -1 : 1;\n        return this._xAxis._getPosition.bind(this._xAxis)(d);\n      }\n    };\n\n    yRange = [this._xAxis.outerBounds().y + x2Height, height - (xHeight + topOffset + verticalMargin)];\n\n    this._yAxis\n      .domain(yDomain)\n      .height(height)\n      .maxSize(width / 2)\n      .range(yRange)\n      .scale(yScale.toLowerCase())\n      .select(showY ? yGroup.node() : undefined)\n      .ticks(yTicks)\n      .width(xRange[xRange.length - 1])\n      .config(yC)\n      .config(this._yConfig)\n      .render();\n\n    if (y2Exists) {\n      this._y2Axis\n        .config(yC)\n        .domain(y2Exists ? y2Domain : yDomain)\n        .gridSize(0)\n        .height(height)\n        .range(yRange)\n        .scale(y2Exists ? y2Scale.toLowerCase() : yScale.toLowerCase())\n        .select(y2Group.node())\n        .width(width - max([0, xOffsetRight - y2Width]))\n        .title(false)\n        .config(this._y2Config)\n        .config(defaultY2Config)\n        .render();\n    }\n\n    y = (d, y) => {\n      if (y === \"y2\") {\n        if (this._y2Config.scale === \"log\" && d === 0) d = y2Domain[0] < 0 ? -1 : 1;\n        return this._y2Axis._getPosition.bind(this._y2Axis)(d) - x2Height;\n      }\n      else {\n        if (this._yConfig.scale === \"log\" && d === 0) d = yDomain[0] < 0 ? -1 : 1;\n        return this._yAxis._getPosition.bind(this._yAxis)(d) - x2Height;\n      }\n    };\n\n    new shapes.Rect()\n      .data([{}])\n      .select(rectGroup.node())\n      .x(xRange[0] + (xRange[1] - xRange[0]) / 2)\n      .width(xRange[1] - xRange[0])\n      .y(this._margin.top + topOffset + yRange[0] + (yRange[1] - yRange[0]) / 2)\n      .height(yRange[1] - yRange[0])\n      .config(this._backgroundConfig)\n      .render();\n\n    const annotationGroup = elem(\"g.d3plus-plot-annotations\", {parent, transition, enter: {transform}, update: {transform}}).node();\n    this._annotations.forEach(annotation => {\n      new shapes[annotation.shape]()\n        .config(annotation)\n        .config({\n          x: d => d.x2 ? x(d.x2, \"x2\") : x(d.x),\n          x0: this._discrete === \"x\" ? d => d.x2 ? x(d.x2, \"x2\") : x(d.x) : x(domains.x[0]),\n          x1: this._discrete === \"x\" ? null : d => d.x2 ? x(d.x2, \"x2\") : x(d.x),\n          y: d => d.y2 ? y(d.y2, \"y2\") : y(d.y),\n          y0: this._discrete === \"y\" ? d => d.y2 ? y(d.y2, \"y2\") : y(d.y) : y(domains.y[1]) - yOffset,\n          y1: this._discrete === \"y\" ? null : d => d.y2 ? y(d.y2, \"y2\") : y(d.y) - yOffset\n        })\n        .select(annotationGroup)\n        .render();\n    });\n\n    let yOffset = this._xAxis.barConfig()[\"stroke-width\"];\n    if (yOffset) yOffset /= 2;\n\n    const shapeConfig = {\n      duration: this._duration,\n      label: d => this._drawLabel(d.data, d.i),\n      select: elem(\"g.d3plus-plot-shapes\", {parent, transition, enter: {transform}, update: {transform}}).node(),\n      x: d => d.x2 ? x(d.x2, \"x2\") : x(d.x),\n      x0: this._discrete === \"x\" ? d => d.x2 ? x(d.x2, \"x2\") : x(d.x) : x(typeof this._baseline === \"number\" ? this._baseline : domains.x[0]),\n      x1: this._discrete === \"x\" ? null : d => d.x2 ? x(d.x2, \"x2\") : x(d.x),\n      y: d => d.y2 ? y(d.y2, \"y2\") : y(d.y),\n      y0: this._discrete === \"y\" ? d => d.y2 ? y(d.y2, \"y2\") : y(d.y) : y(typeof this._baseline === \"number\" ? this._baseline : domains.y[1]) - yOffset,\n      y1: this._discrete === \"y\" ? null : d => d.y2 ? y(d.y2, \"y2\") : y(d.y) - yOffset\n    };\n\n    if (this._stacked) {\n      const scale = opp === \"x\" ? x : y;\n      shapeConfig[`${opp}`] = shapeConfig[`${opp}0`] = d => {\n        const dataIndex = stackKeys.indexOf(d.id),\n              discreteIndex = discreteKeys.indexOf(d.discrete);\n        return dataIndex >= 0 ? scale(stackData[dataIndex][discreteIndex][0]) : scale(domains[opp][opp === \"x\" ? 0 : 1]);\n      };\n      shapeConfig[`${opp}1`] = d => {\n        const dataIndex = stackKeys.indexOf(d.id),\n              discreteIndex = discreteKeys.indexOf(d.discrete);\n        return dataIndex >= 0 ? scale(stackData[dataIndex][discreteIndex][1]) : scale(domains[opp][opp === \"x\" ? 0 : 1]);\n      };\n    }\n\n    const events = Object.keys(this._on);\n    shapeData.forEach(d => {\n\n      const s = new shapes[d.key]().config(shapeConfig).data(d.values);\n\n      if (d.key === \"Bar\") {\n\n        let space;\n        const scale = this._discrete === \"x\" ? x : y;\n        const scaleType = this._discrete === \"x\" ? xScale : yScale;\n        const vals = this._discrete === \"x\" ? xDomain : yDomain;\n        const range = this._discrete === \"x\" ? xRange : yRange;\n        if (scaleType !== \"Point\" && vals.length === 2) {\n          space = (scale(d.values[this._discrete === \"x\" ? 0 : d.values.length - 1][this._discrete]) - scale(vals[0])) * 2;\n        }\n        else if (vals.length > 1) space = scale(vals[1]) - scale(vals[0]);\n        else space = range[range.length - 1] - range[0];\n        if (this._groupPadding < space) space -= this._groupPadding;\n\n        let barSize = space || 1;\n\n        const groups = nest()\n          .key(d => d[this._discrete])\n          .key(d => d.group)\n          .entries(d.values);\n\n        const ids = merge(groups.map(d => d.values.map(v => v.key)));\n        const uniqueIds = Array.from(new Set(ids));\n\n        if (max(groups.map(d => d.values.length)) === 1) {\n          s[this._discrete]((d, i) => shapeConfig[this._discrete](d, i));\n        }\n        else {\n\n          barSize = (barSize - this._barPadding * uniqueIds.length - 1) / uniqueIds.length;\n\n          const offset = space / 2 - barSize / 2;\n\n          const xMod = scales.scaleLinear()\n            .domain([0, uniqueIds.length - 1])\n            .range([-offset, offset]);\n\n          s[this._discrete]((d, i) => shapeConfig[this._discrete](d, i) + xMod(uniqueIds.indexOf(d.group)));\n\n        }\n\n        s.width(barSize);\n        s.height(barSize);\n\n      }\n      else if (d.key === \"Line\") {\n\n        s.duration(width * 1.5);\n\n        if (this._confidence) {\n          const areaConfig = Object.assign({}, shapeConfig);\n          const key = this._discrete === \"x\" ? \"y\" : \"x\";\n          const scaleFunction = this._discrete === \"x\" ? y : x;\n          areaConfig[`${key}0`] = d => scaleFunction(this._confidence[0] ? d.lci : d[key]);\n          areaConfig[`${key}1`] = d => scaleFunction(this._confidence[1] ? d.hci : d[key]);\n\n          const area = new shapes.Area().config(areaConfig).data(d.values);\n          const confidenceConfig = Object.assign(this._shapeConfig, this._confidenceConfig);\n          area.config(configPrep.bind(this)(confidenceConfig, \"shape\", \"Area\")).render();\n          this._shapes.push(area);\n        }\n\n      }\n\n      const classEvents = events.filter(e => e.includes(`.${d.key}`)),\n            globalEvents = events.filter(e => !e.includes(\".\")),\n            shapeEvents = events.filter(e => e.includes(\".shape\"));\n      for (let e = 0; e < globalEvents.length; e++) s.on(globalEvents[e], d => this._on[globalEvents[e]](d.data, d.i));\n      for (let e = 0; e < shapeEvents.length; e++) s.on(shapeEvents[e], d => this._on[shapeEvents[e]](d.data, d.i));\n      for (let e = 0; e < classEvents.length; e++) s.on(classEvents[e], d => this._on[classEvents[e]](d.data, d.i));\n\n      const userConfig = configPrep.bind(this)(this._shapeConfig, \"shape\", d.key);\n      if (this._shapeConfig.duration === undefined) delete userConfig.duration;\n      s.config(userConfig).render();\n\n      this._shapes.push(s);\n\n    });\n\n    return this;\n\n  }\n\n  /**\n      @memberof Plot\n      @desc Allows drawing custom shapes to be used as annotations in the provided x/y plot. This method accepts custom config objects for the [Shape](http://d3plus.org/docs/#Shape) class, either a single config object or an array of config objects. Each config object requires an additional parameter, the \"shape\", which denotes which [Shape](http://d3plus.org/docs/#Shape) sub-class to use ([Rect](http://d3plus.org/docs/#Rect), [Line](http://d3plus.org/docs/#Line), etc). Annotations will be drawn underneath the data to be displayed.\n      @param {Array|Object} *annotations* = []\n      @chainable\n  */\n  annotations(_) {\n    return arguments.length ? (this._annotations = _ instanceof Array ? _ : [_], this) : this._annotations;\n  }\n\n  /**\n       @memberof Plot\n       @desc A d3plus-shape configuration Object used for styling the background rectangle of the inner x/y plot (behind all of the shapes and gridlines).\n       @param {Object} [*value*]\n       @chainable\n   */\n  backgroundConfig(_) {\n    return arguments.length ? (this._backgroundConfig = assign(this._backgroundConfig, _), this) : this._backgroundConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the pixel space between each bar in a group of bars.\n      @param {Number} *value* = 0\n      @chainable\n  */\n  barPadding(_) {\n    return arguments.length ? (this._barPadding = _, this) : this._barPadding;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the baseline for the x/y plot. If *value* is not specified, returns the current baseline.\n      @param {Number} *value*\n      @chainable\n  */\n  baseline(_) {\n    return arguments.length ? (this._baseline = _, this) : this._baseline;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the confidence to the specified array of lower and upper bounds.\n       @param {String[]|Function[]} *value*\n       @chainable\n       @example <caption>Can be called with accessor functions or static keys:</caption>\n       var data = {id: \"alpha\", value: 10, lci: 9, hci: 11};\n       ...\n       // Accessor functions\n       .confidence([function(d) { return d.lci }, function(d) { return d.hci }])\n\n       // Or static keys\n       .confidence([\"lci\", \"hci\"])\n   */\n  confidence(_) {\n    if (arguments.length && _ instanceof Array) {\n      this._confidence = [];\n      const lower = _[0];\n      this._confidence[0] = typeof lower === \"function\" || !lower ? lower : accessor(lower);\n      const upper = _[1];\n      this._confidence[1] = typeof upper === \"function\" || !upper ? upper : accessor(upper);\n\n      return this;\n    }\n    else return this._confidence;\n  }\n\n  /**\n       @memberof Plot\n       @desc If *value* is specified, sets the config method for each shape rendered as a confidence interval and returns the current class instance.\n       @param {Object} [*value*]\n       @chainable\n   */\n  confidenceConfig(_) {\n    return arguments.length ? (this._confidenceConfig = assign(this._confidenceConfig, _), this) : this._confidenceConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the discrete axis to the specified string. If *value* is not specified, returns the current discrete axis.\n      @param {String} *value*\n      @chainable\n  */\n  discrete(_) {\n    return arguments.length ? (this._discrete = _, this) : this._discrete;\n  }\n\n  /**\n      @memberof Plot\n      @desc When the width or height of the chart is less than or equal to this pixel value, the discrete axis will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n      @param {Number} *value*\n      @chainable\n  */\n  discreteCutoff(_) {\n    return arguments.length ? (this._discreteCutoff = _, this) : this._discreteCutoff;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the pixel space between groups of bars.\n      @param {Number} [*value* = 5]\n      @chainable\n  */\n  groupPadding(_) {\n    return arguments.length ? (this._groupPadding = _, this) : this._groupPadding;\n  }\n\n  /**\n      @memberof Plot\n      @desc A JavaScript [sort comparator function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) that receives each shape Class (ie. \"Circle\", \"Line\", etc) as it's comparator arguments. Shapes are drawn in groups based on their type, so you are defining the layering order for all shapes of said type.\n      @param {Function} *value*\n      @chainable\n  */\n  shapeSort(_) {\n    return arguments.length ? (this._shapeSort = _, this) : this._shapeSort;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size of bubbles to the given Number, data key, or function.\n      @param {Function|Number|String} *value* = 10\n      @chainable\n  */\n  size(_) {\n    return arguments.length ? (this._size = typeof _ === \"function\" || !_ ? _ : accessor(_), this) : this._size;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size scale maximum to the specified number.\n      @param {Number} *value* = 20\n      @chainable\n  */\n  sizeMax(_) {\n    return arguments.length ? (this._sizeMax = _, this) : this._sizeMax;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size scale minimum to the specified number.\n      @param {Number} *value* = 5\n      @chainable\n  */\n  sizeMin(_) {\n    return arguments.length ? (this._sizeMin = _, this) : this._sizeMin;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the size scale to the specified string.\n      @param {String} *value* = \"sqrt\"\n      @chainable\n  */\n  sizeScale(_) {\n    return arguments.length ? (this._sizeScale = _, this) : this._sizeScale;\n  }\n\n  /**\n      @memberof Plot\n      @desc If *value* is specified, toggles shape stacking. If *value* is not specified, returns the current stack value.\n      @param {Boolean} *value* = false\n      @chainable\n  */\n  stacked(_) {\n    return arguments.length ? (this._stacked = _, this) : this._stacked;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the stack offset. If *value* is not specified, returns the current stack offset function.\n      @param {Function|String} *value* = \"descending\"\n      @chainable\n  */\n  stackOffset(_) {\n    return arguments.length ? (this._stackOffset = typeof _ === \"function\" ? _ : d3Shape[`stackOffset${_.charAt(0).toUpperCase() + _.slice(1)}`], this) : this._stackOffset;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the stack order. If *value* is not specified, returns the current stack order function.\n      @param {Function|String|Array} *value* = \"none\"\n      @chainable\n  */\n  stackOrder(_) {\n    if (arguments.length) {\n      if (typeof _ === \"string\") this._stackOrder = _ === \"ascending\" ? stackOrderAscending : _ === \"descending\" ? stackOrderDescending : d3Shape[`stackOrder${_.charAt(0).toUpperCase() + _.slice(1)}`];\n      else this._stackOrder = _;\n      return this;\n    }\n    else return this._stackOrder;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the x accessor to the specified function or number. If *value* is not specified, returns the current x accessor.\n      @param {Function|Number} *value*\n      @chainable\n  */\n  x(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._x = _;\n      else {\n        this._x = accessor(_);\n        if (!this._aggs[_] && this._discrete === \"x\") {\n          this._aggs[_] = a => {\n            const v = Array.from(new Set(a));\n            return v.length === 1 ? v[0] : v;\n          };\n        }\n      }\n      return this;\n    }\n    else return this._x;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the x2 accessor to the specified function or number. If *value* is not specified, returns the current x2 accessor.\n       @param {Function|Number} *value*\n       @chainable\n   */\n  x2(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._x2 = _;\n      else {\n        this._x2 = accessor(_);\n        if (!this._aggs[_] && this._discrete === \"x\") {\n          this._aggs[_] = a => {\n            const v = Array.from(new Set(a));\n            return v.length === 1 ? v[0] : v;\n          };\n        }\n      }\n      return this;\n    }\n    else return this._x2;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the config method for the x-axis. If *value* is not specified, returns the current x-axis configuration.\n      @param {Object} *value*\n      @chainable\n  */\n  xConfig(_) {\n    return arguments.length ? (this._xConfig = assign(this._xConfig, _), this) : this._xConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc When the width of the chart is less than or equal to this pixel value, and the x-axis is not the discrete axis, it will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n      @param {Number} *value*\n      @chainable\n  */\n  xCutoff(_) {\n    return arguments.length ? (this._xCutoff = _, this) : this._xCutoff;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the config method for the secondary x-axis. If *value* is not specified, returns the current secondary x-axis configuration.\n      @param {Object} *value*\n      @chainable\n  */\n  x2Config(_) {\n    return arguments.length ? (this._x2Config = assign(this._x2Config, _), this) : this._x2Config;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the x domain to the specified array. If *value* is not specified, returns the current x domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n      @param {Array} *value*\n      @chainable\n  */\n  xDomain(_) {\n    return arguments.length ? (this._xDomain = _, this) : this._xDomain;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the x2 domain to the specified array. If *value* is not specified, returns the current x2 domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n       @param {Array} *value*\n       @chainable\n   */\n  x2Domain(_) {\n    return arguments.length ? (this._x2Domain = _, this) : this._x2Domain;\n  }\n\n  /**\n      @memberof Plot\n      @desc Defines a custom sorting comparitor function to be used for discrete x axes.\n      @param {Function} *value*\n      @chainable\n  */\n  xSort(_) {\n    return arguments.length ? (this._xSort = _, this) : this._xSort;\n  }\n\n  /**\n       @memberof Plot\n       @desc Defines a custom sorting comparitor function to be used for discrete x2 axes.\n       @param {Function} *value*\n       @chainable\n   */\n  x2Sort(_) {\n    return arguments.length ? (this._x2Sort = _, this) : this._x2Sort;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the y accessor to the specified function or number. If *value* is not specified, returns the current y accessor.\n      @param {Function|Number} *value*\n      @chainable\n  */\n  y(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._y = _;\n      else {\n        this._y = accessor(_);\n        if (!this._aggs[_] && this._discrete === \"y\") {\n          this._aggs[_] = a => {\n            const v = Array.from(new Set(a));\n            return v.length === 1 ? v[0] : v;\n          };\n        }\n      }\n      return this;\n    }\n    else return this._y;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the y2 accessor to the specified function or number. If *value* is not specified, returns the current y2 accessor.\n       @param {Function|Number} *value*\n       @chainable\n   */\n  y2(_) {\n    if (arguments.length) {\n      if (typeof _ === \"function\") this._y2 = _;\n      else {\n        this._y2 = accessor(_);\n        if (!this._aggs[_] && this._discrete === \"y2\") {\n          this._aggs[_] = a => {\n            const v = Array.from(new Set(a));\n            return v.length === 1 ? v[0] : v;\n          };\n        }\n      }\n      return this;\n    }\n    else return this._y2;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the config method for the y-axis. If *value* is not specified, returns the current y-axis configuration.\n\n*Note:* If a \"domain\" array is passed to the y-axis config, it will be reversed.\n      @param {Object} *value*\n      @chainable\n  */\n  yConfig(_) {\n    if (arguments.length) {\n      if (_.domain) _.domain = _.domain.slice().reverse();\n      this._yConfig = assign(this._yConfig, _);\n      return this;\n    }\n    return this._yConfig;\n  }\n\n  /**\n      @memberof Plot\n      @desc When the height of the chart is less than or equal to this pixel value, and the y-axis is not the discrete axis, it will not be shown. This helps produce slick sparklines. Set this value to `0` to disable the behavior entirely.\n      @param {Number} *value*\n      @chainable\n  */\n  yCutoff(_) {\n    return arguments.length ? (this._yCutoff = _, this) : this._yCutoff;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the config method for the secondary y-axis. If *value* is not specified, returns the current secondary y-axis configuration.\n      @param {Object} *value*\n      @chainable\n  */\n  y2Config(_) {\n    return arguments.length ? (this._y2Config = assign(this._y2Config, _), this) : this._y2Config;\n  }\n\n  /**\n      @memberof Plot\n      @desc Sets the y domain to the specified array. If *value* is not specified, returns the current y domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n      @param {Array} *value*\n      @chainable\n  */\n  yDomain(_) {\n    return arguments.length ? (this._yDomain = _, this) : this._yDomain;\n  }\n\n  /**\n       @memberof Plot\n       @desc Sets the y2 domain to the specified array. If *value* is not specified, returns the current y2 domain. Additionally, if either value of the array is undefined, it will be calculated from the data.\n       @param {Array} *value*\n       @chainable\n   */\n  y2Domain(_) {\n    return arguments.length ? (this._y2Domain = _, this) : this._y2Domain;\n  }\n\n  /**\n      @memberof Plot\n      @desc Defines a custom sorting comparitor function to be used for discrete y axes.\n      @param {Function} *value*\n      @chainable\n  */\n  ySort(_) {\n    return arguments.length ? (this._ySort = _, this) : this._ySort;\n  }\n\n  /**\n       @memberof Plot\n       @desc Defines a custom sorting comparitor function to be used for discrete y2 axes.\n       @param {Function} *value*\n       @chainable\n   */\n  y2Sort(_) {\n    return arguments.length ? (this._y2Sort = _, this) : this._y2Sort;\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot\";\n\n/**\n    @class AreaPlot\n    @extends Plot\n    @desc Creates an area plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .baseline(0)\n  .discrete(\"x\")\n  .shape(\"Area\")\n*/\nexport default class AreaPlot extends Plot {\n\n  /**\n      @memberof AreaPlot\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._baseline = 0;\n    this._discrete = \"x\";\n    this._shape = constant(\"Area\");\n    this.x(\"x\");\n\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot\";\n\n/**\n    @class BarChart\n    @extends Plot\n    @desc Creates a bar chart based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .baseline(0)\n  .discrete(\"x\")\n  .shape(\"Bar\")\n*/\nexport default class BarChart extends Plot {\n\n  /**\n      @memberof BarChart\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._baseline = 0;\n    this._discrete = \"x\";\n    this._shape = constant(\"Bar\");\n    this.x(\"x\");\n\n  }\n\n}\n","import {assign, constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot\";\n\n/**\n    @class BoxWhisker\n    @extends Plot\n    @desc Creates a simple box and whisker based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .discrete(\"x\")\n  .shape(\"Box\")\n*/\nexport default class BoxWhisker extends Plot {\n\n  /**\n      @memberof BoxWhisker\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._discrete = \"x\";\n    this._shape = constant(\"Box\");\n    this.x(\"x\");\n\n    this._tooltipConfig = assign(this._tooltipConfig, {\n      title: (d, i) => {\n        if (!d) return \"\";\n        while (d.__d3plus__ && d.data) {\n          d = d.data;\n          i = d.i;\n        }\n        if (this._label) return this._label(d, i);\n        const l = this._ids(d, i).slice(0, this._drawDepth);\n        return l[l.length - 1];\n      }\n    });\n\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot\";\n\n/**\n    @class BumpChart\n    @extends Plot\n    @desc Creates a bump chart based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .discrete(\"x\")\n  .shape(\"Line\")\n  .x(\"x\")\n  .y2(d => this._y(d))\n  .yConfig({\n    tickFormat: val => {\n      const data = this._formattedData;\n      const xDomain = this._xDomain;\n      const startData = data.filter(d => d.x === xDomain[0]);\n      const d = startData.find(d => d.y === val);\n      return this._drawLabel(d, d.i);\n     }\n   })\n  .y2Config({\n    tickFormat: val => {\n      const data = this._formattedData;\n      const xDomain = this._xDomain;\n      const endData = data.filter(d => d.x === xDomain[xDomain.length - 1]);\n      const d = endData.find(d => d.y === val);\n      return this._drawLabel(d, d.i);\n     }\n   })\n  .ySort((a, b) => b.y - a.y)\n  .y2Sort((a, b) => b.y - a.y)\n*/\nexport default class BumpChart extends Plot {\n\n  /**\n      @memberof BumpChart\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._discrete = \"x\";\n    this._shape = constant(\"Line\");\n    this.x(\"x\");\n    this.y2(d => this._y(d));\n\n    this.yConfig({\n      tickFormat: val => {\n        const data = this._formattedData;\n        const xMin = data[0].x instanceof Date ? data[0].x.getTime() : data[0].x;\n        const startData = data.filter(d => (d.x instanceof Date ? d.x.getTime() : d.x) === xMin);\n        const d = startData.find(d => d.y === val);\n        return d ? this._drawLabel(d, d.i) : \"\";\n      }\n    });\n    this.y2Config({\n      tickFormat: val => {\n        const data = this._formattedData;\n        const xMax = data[data.length - 1].x instanceof Date ? data[data.length - 1].x.getTime() : data[data.length - 1].x;\n        const endData = data.filter(d => (d.x instanceof Date ? d.x.getTime() : d.x) === xMax);\n        const d = endData.find(d => d.y === val);\n        return d ? this._drawLabel(d, d.i) : \"\";\n      }\n    });\n    this.ySort((a, b) => this._y(b) - this._y(a));\n    this.y2Sort((a, b) => this._y(b) - this._y(a));\n  }\n\n}\n","import {constant} from \"d3plus-common\";\n\nimport {default as Plot} from \"./Plot\";\n\n/**\n    @class LinePlot\n    @extends Plot\n    @desc Creates a line plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.Plot()\n  .discrete(\"x\")\n  .shape(\"Line\")\n*/\nexport default class LinePlot extends Plot {\n\n  /**\n      @memberof LinePlot\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._discrete = \"x\";\n    this._shape = constant(\"Line\");\n    this.x(\"x\");\n\n  }\n\n}\n","/**\n    @external Viz\n    @see https://github.com/d3plus/d3plus-viz#Viz\n*/\n\nimport {min, max, sum} from \"d3-array\";\nimport {nest} from \"d3-collection\";\nimport {mouse} from \"d3-selection\";\nimport {accessor, assign, configPrep, constant, elem, merge} from \"d3plus-common\";\nimport {Circle, Path, Rect} from \"d3plus-shape\";\nimport {Viz} from \"d3plus-viz\";\n\nconst tau = Math.PI * 2;\n\n/**\n    @class Radar\n    @extends Viz\n    @desc Creates a radar visualization based on an array of data.\n*/\nexport default class Radar extends Viz {\n\n  /**\n      @memberof Radar\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Viz.\n      @private\n  */\n  constructor() {\n    super();\n\n    this._axisConfig = {\n      shapeConfig: {\n        fill: constant(\"none\"),\n        labelConfig: {\n          fontColor: \"#000\",\n          padding: 0,\n          textAnchor: d => d.textAnchor,\n          rotateAnchor: d => d.data.rotateAnchor,\n          verticalAlign: \"middle\"\n        },\n        stroke: \"#ccc\",\n        strokeWidth: constant(1)\n      }\n    };\n    this._discrete = \"metric\";\n    this._levels = 6;\n    this._metric = accessor(\"metric\");\n    this._outerPadding = 100;\n    this._shape = constant(\"Path\");\n    this._value = accessor(\"value\");\n  }\n\n  /**\n      Extends the draw behavior of the abstract Viz class.\n      @private\n  */\n  _draw(callback) {\n    super._draw(callback);\n    const height = this._height - this._margin.top - this._margin.bottom,\n          width = this._width - this._margin.left - this._margin.right;\n\n    const radius = min([height, width]) / 2 - this._outerPadding,\n          transform = `translate(${width / 2}, ${height / 2})`;\n\n    const nestedAxisData = nest()\n        .key(this._metric)\n        .entries(this._filteredData),\n          nestedGroupData = nest()\n        .key(this._id)\n        .key(this._metric)\n        .entries(this._filteredData);\n\n    const maxValue = max(nestedGroupData.map(h => h.values.map(d => sum(d.values, (x, i) => this._value(x, i)))).flat());\n\n    const circularAxis = Array.from(Array(this._levels).keys()).map(d => ({\n      id: d,\n      r: radius * ((d + 1) / this._levels)\n    }));\n\n    const circleConfig = configPrep.bind(this)(this._axisConfig.shapeConfig, \"shape\", \"Circle\");\n    delete circleConfig.label;\n\n    new Circle()\n      .data(circularAxis)\n      .select(\n        elem(\"g.d3plus-Radar-radial-circles\", {\n          parent: this._select,\n          enter: {transform},\n          update: {transform}\n        }).node()\n      )\n      .config(circleConfig)\n      .render();\n\n    const totalAxis = nestedAxisData.length;\n    const polarAxis = nestedAxisData\n      .map((d, i) => {\n        const width = this._outerPadding;\n        const fontSize =\n          this._shapeConfig.labelConfig.fontSize &&\n            this._shapeConfig.labelConfig.fontSize(d, i) ||\n          11;\n\n        const lineHeight = fontSize * 1.4;\n        const height = lineHeight * 2;\n        const padding = 10,\n              quadrant = parseInt(360 - 360 / totalAxis * i / 90, 10) % 4 + 1,\n              radians = tau / totalAxis * i;\n\n        let angle = 360 / totalAxis * i;\n\n        let textAnchor = \"start\";\n        let x = padding;\n\n        if (quadrant === 2 || quadrant === 3) {\n          x = -width - padding;\n          textAnchor = \"end\";\n          angle += 180;\n        }\n\n        const labelBounds = {\n          x,\n          y: -height / 2,\n          width,\n          height\n        };\n\n        return {\n          __d3plus__: true,\n          data: merge(d.values),\n          i,\n          id: d.key,\n          angle,\n          textAnchor,\n          labelBounds,\n          rotateAnchor: [-x, height / 2],\n          x: radius * Math.cos(radians),\n          y: radius * Math.sin(radians)\n        };\n      })\n      .sort((a, b) => a.key - b.key);\n\n    new Rect()\n      .data(polarAxis)\n      .rotate(d => d.angle)\n      .width(0)\n      .height(0)\n      .x(d => d.x)\n      .y(d => d.y)\n      .label(d => d.id)\n      .labelBounds(d => d.labelBounds)\n      .labelConfig(this._axisConfig.shapeConfig.labelConfig)\n      .select(\n        elem(\"g.d3plus-Radar-text\", {\n          parent: this._select,\n          enter: {transform},\n          update: {transform}\n        }).node()\n      )\n      .render();\n\n    new Path()\n      .data(polarAxis)\n      .d(d => `M${0},${0} ${-d.x},${-d.y}`)\n      .select(\n        elem(\"g.d3plus-Radar-axis\", {\n          parent: this._select,\n          enter: {transform},\n          update: {transform}\n        }).node()\n      )\n      .config(configPrep.bind(this)(this._axisConfig.shapeConfig, \"shape\", \"Path\"))\n      .render();\n\n    const groupData = nestedGroupData.map(h => {\n\n      const q = h.values.map((d, i) => {\n        const value = sum(d.values, (x, i) => this._value(x, i));\n        const r = value / maxValue * radius,\n              radians = tau / totalAxis * i;\n        return {\n          x: r * Math.cos(radians),\n          y: r * Math.sin(radians)\n        };\n      });\n\n      const d = `M ${q[0].x} ${q[0].y} ${q\n        .map(l => `L ${l.x} ${l.y}`)\n        .join(\" \")} L ${q[0].x} ${q[0].y}`;\n\n      return {\n        arr: h.values.map(d => merge(d.values)),\n        id: h.key,\n        points: q,\n        d,\n        __d3plus__: true,\n        data: merge(h.values.map(d => merge(d.values)))\n      };\n\n    });\n\n    const pathConfig = configPrep.bind(this)(this._shapeConfig, \"shape\", \"Path\");\n    const events = Object.keys(pathConfig.on);\n    pathConfig.on = {};\n    for (let e = 0; e < events.length; e++) {\n      const event = events[e];\n      pathConfig.on[event] = (d, i) => {\n        const x = d.points.map(p => p.x + width / 2);\n        const y = d.points.map(p => p.y + height / 2);\n        const cursor = mouse(this._select.node());\n        const xDist = x.map(p => Math.abs(p - cursor[0]));\n        const yDist = y.map(p => Math.abs(p - cursor[1]));\n        const dists = xDist.map((d, i) => d + yDist[i]);\n        this._on[event].bind(this)(d.arr[dists.indexOf(min(dists))], i);\n      };\n    }\n\n    this._shapes.push(\n      new Path()\n        .data(groupData)\n        .d(d => d.d)\n        .select(\n          elem(\"g.d3plus-Radar-items\", {\n            parent: this._select,\n            enter: {transform},\n            update: {transform}\n          }).node()\n        )\n        .config(pathConfig)\n        .render()\n    );\n\n    return this;\n  }\n\n  /**\n      @memberof Radar\n      @desc Sets the config method used for the radial spokes, circles, and labels.\n      @param {Object} *value*\n      @chainable\n  */\n  axisConfig(_) {\n    return arguments.length ? (this._axisConfig = assign(this._axisConfig, _), this) : this._axisConfig;\n  }\n\n  /**\n      @memberof Radar\n      @desc Defines the value used as axis. If *value* is specified, sets the accessor to the specified metric function. If *value* is not specified, returns the current metric accessor.\n      @param {Function|String} *value*\n      @chainable\n  */\n  metric(_) {\n    return arguments.length ? (this._metric = typeof _ === \"function\" ? _ : accessor(_), this) : this._metric;\n  }\n\n  /**\n      @memberof Radar\n      @desc Determines how much pixel spaces to give the outer labels.\n      @param {Number} [*value* = 100]\n      @chainable\n  */\n  outerPadding(_) {\n    return arguments.length ? (this._outerPadding = _, this) : this._outerPadding;\n  }\n\n  /**\n      @memberof Radar\n      @desc If *value* is specified, sets the value accessor to the specified function or number and returns the current class instance. If *value* is not specified, returns the current value accessor.\n      @param {Function|String} *value*\n      @example\nfunction value(d) {\n  return d.value;\n}\n  */\n  value(_) {\n    return arguments.length ? (this._value = typeof _ === \"function\" ? _ : accessor(_), this) : this._value;\n  }\n\n}\n","import {default as AreaPlot} from \"./AreaPlot\";\n\n/**\n    @class StackedArea\n    @extends Area\n    @desc Creates a stacked area plot based on an array of data.\n    @example <caption>the equivalent of calling:</caption>\nnew d3plus.AreaPlot()\n  .stacked(true)\n*/\nexport default class StackedArea extends AreaPlot {\n\n  /**\n      @memberof StackedArea\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Plot.\n      @private\n  */\n  constructor() {\n\n    super();\n    this._stacked = true;\n\n  }\n\n}\n"],"names":["scale","data","discrete","padding","closest","map","d","reduce","acc","curr","i","arr","prev","domain","slice","reverse","Date","x","y","x2","y2","buffer","xKey","yKey","oppScale","_discrete","oppDomain","isDiscreteX","negVals","posVals","_stacked","groupedData","nest","key","entries","values","sum","filter","bMax","max","invert","bMin","min","discreteBuffer","config","xD","yD","xR","range","yR","forEach","s","r","v","vals","b","h","height","w","width","defaultSize","_sizeScaleD3","_size","stackOrderAscending","series","sums","stackSum","keys","split","d3Shape","sort","a","localeCompare","stackOrderDescending","n","length","Plot","_annotations","_backgroundConfig","duration","fill","_barPadding","_buffer","Bar","BarBuffer","Box","BoxBuffer","Circle","CircleBuffer","Line","LineBuffer","Rect","RectBuffer","_confidenceConfig","fillOpacity","constant","_discreteCutoff","_groupPadding","_shape","_shapeConfig","assign","Area","label","_drawLabel","labelConfig","fontResize","ariaLabel","ariaLabelStr","nested","_x","undefined","_y","_x2","_y2","textAnchor","verticalAlign","bind","stroke","colorAssign","_id","strokeWidth","_shapeOrder","_shapeSort","indexOf","_sizeMax","_sizeMin","_sizeScale","_stackOffset","_stackOrder","_timelineConfig","brushing","accessor","_xAxis","AxisBottom","align","_xTest","gridSize","_xConfig","_xCutoff","_x2Axis","AxisTop","_x2Test","_x2Config","_yAxis","AxisLeft","_yTest","_yConfig","gridConfig","id","_yCutoff","_y2Axis","AxisRight","_y2Test","_y2Config","callback","_filteredData","stackGroup","_groupBy","_ids","join","__d3plus__","group","hci","_confidence","_drawDepth","lci","shape","_formattedData","rExtent","extent","scales","charAt","toUpperCase","x2Exists","some","y2Exists","_height","_margin","top","bottom","opp","opp2","opps","parent","_select","transition","_transition","_width","left","right","x2Time","_time","xTime","y2Time","yTime","date","discreteKeys","domains","stackData","stackKeys","groupValues","obj","dd","a1","b1","Array","from","Set","g","ids","k","includes","fillerPoint","push","order","offset","value","p","xData","concat","x2Data","yData","y2Data","_xSort","_x2Sort","_ySort","_y2Sort","xDomain","_xDomain","xScale","x2Domain","_x2Domain","x2Scale","yDomain","_yDomain","yScale","y2Domain","_y2Domain","y2Scale","_baseline","shapeData","res","res2","defaultConfig","barConfig","labels","title","tickSize","defaultX2Config","defaultY2Config","showX","showY","yC","locale","_locale","scalePadding","shapeConfig","labelBounds","rotate","yTicks","labelRotation","testGroup","elem","enter","opacity","x2Ticks","xTicks","y2Ticks","maxSize","toLowerCase","select","node","ticks","render","yBounds","outerBounds","yWidth","y2Bounds","y2Width","xC","xTestRange","_getRange","x2TestRange","x2Bounds","x2Height","xOffsetLeft","topOffset","fontSize","xOffsetRight","xBounds","xHeight","_padding","horizontalMargin","verticalMargin","yRange","xRange","rectGroup","transform","x2Transform","xGroup","update","x2Group","xTrans","yTransform","yGroup","y2Transform","y2Group","_getPosition","shapes","annotationGroup","annotation","x0","x1","y0","yOffset","y1","_duration","dataIndex","discreteIndex","events","Object","_on","space","scaleType","barSize","groups","merge","uniqueIds","xMod","areaConfig","scaleFunction","area","confidenceConfig","configPrep","_shapes","classEvents","e","globalEvents","shapeEvents","on","userConfig","_","arguments","lower","upper","_aggs","Viz","AreaPlot","BarChart","BoxWhisker","_tooltipConfig","_label","l","BumpChart","yConfig","tickFormat","val","xMin","getTime","startData","find","y2Config","xMax","endData","ySort","y2Sort","LinePlot","tau","Math","PI","Radar","_axisConfig","fontColor","rotateAnchor","_levels","_metric","_outerPadding","_value","radius","nestedAxisData","nestedGroupData","maxValue","flat","circularAxis","circleConfig","totalAxis","polarAxis","lineHeight","quadrant","parseInt","radians","angle","cos","sin","Path","groupData","q","points","pathConfig","event","cursor","mouse","xDist","abs","yDist","dists","StackedArea"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;;;;AAIA,wBAAe,UAACA,KAAD,EAAQC,IAAR,EAAcC,QAAd,EAA2B;EAExC,MAAIF,KAAK,CAACG,OAAV,EAAmBH,KAAK,CAACG,OAAN,CAAc,GAAd,EAAnB,KACK;EACH,QAAMC,OAAO,GAAGH,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,aAAIA,CAAC,CAACJ,QAAD,CAAL;EAAA,KAAV,EAA2BK,MAA3B,CAAkC,UAACC,GAAD,EAAMC,IAAN,EAAYC,CAAZ,EAAeC,GAAf,EAAuB;EACvE,UAAI,CAACD,CAAL,EAAQ,OAAOF,GAAP;EACR,UAAMI,IAAI,GAAGD,GAAG,CAACD,CAAC,GAAG,CAAL,CAAhB;EACA,UAAI,CAACF,GAAD,IAAQC,IAAI,GAAGG,IAAP,GAAcJ,GAA1B,EAA+B,OAAOC,IAAI,GAAGG,IAAd,CAA/B,KACK,OAAOJ,GAAP;EACN,KALe,EAKb,CALa,CAAhB;EAMA,QAAMK,MAAM,GAAGb,KAAK,CAACa,MAAN,GAAeC,KAAf,EAAf;EACA,QAAIZ,QAAQ,KAAK,GAAjB,EAAsBW,MAAM,CAACE,OAAP;EACtBF,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAIG,IAAJ,CAAS,CAACH,MAAM,CAAC,CAAD,CAAP,GAAaT,OAAO,GAAG,CAAhC,CAAZ;EACAS,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAIG,IAAJ,CAAS,CAACH,MAAM,CAAC,CAAD,CAAP,GAAaT,OAAO,GAAG,CAAhC,CAAZ;EACA,QAAIF,QAAQ,KAAK,GAAjB,EAAsBW,MAAM,CAACE,OAAP;EACtBf,IAAAA,KAAK,CAACa,MAAN,CAAaA,MAAb;EACD;EAEF,CAlBD;;ECAA;;;;;;;;;;AASA,EAAe,0BAA4C;EAAA;;EAAA,MAAlCZ,IAAkC,QAAlCA,IAAkC;EAAA,MAA5BgB,CAA4B,QAA5BA,CAA4B;EAAA,MAAzBC,CAAyB,QAAzBA,CAAyB;EAAA,MAAtBC,EAAsB,QAAtBA,EAAsB;EAAA,MAAlBC,EAAkB,QAAlBA,EAAkB;EAAA,yBAAdC,MAAc;EAAA,MAAdA,MAAc,4BAAL,EAAK;EACzD,MAAMC,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EACA,MAAMI,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EAEA,MAAMI,QAAQ,GAAG,KAAKC,SAAL,KAAmB,GAAnB,GAAyBP,CAAzB,GAA6BD,CAA9C;EAEA,MAAMS,SAAS,GAAGF,QAAQ,CAACX,MAAT,GAAkBC,KAAlB,EAAlB;EAEA,MAAMa,WAAW,GAAG,KAAKF,SAAL,KAAmB,GAAvC;EAEA,MAAIE,WAAJ,EAAiBD,SAAS,CAACX,OAAV;EAEjB,MAAIa,OAAJ,EAAaC,OAAb;;EACA,MAAI,KAAKC,QAAT,EAAmB;EACjB,QAAMC,WAAW,GAAGC,iBAAI,GACrBC,GADiB,CACb,UAAA3B,CAAC;EAAA,aAAIA,CAAC,CAAC,KAAI,CAACmB,SAAN,CAAL;EAAA,KADY,EAEjBS,OAFiB,CAETjC,IAFS,EAGjBI,GAHiB,CAGb,UAAAC,CAAC;EAAA,aAAIA,CAAC,CAAC6B,MAAF,CAAS9B,GAAT,CAAa,UAAAY,CAAC;EAAA,eAAIA,CAAC,CAACU,WAAW,GAAGJ,IAAH,GAAUD,IAAtB,CAAL;EAAA,OAAd,CAAJ;EAAA,KAHY,CAApB;EAIAO,IAAAA,OAAO,GAAGE,WAAW,CAAC1B,GAAZ,CAAgB,UAAAM,GAAG;EAAA,aAAIyB,WAAG,CAACzB,GAAG,CAAC0B,MAAJ,CAAW,UAAA/B,CAAC;EAAA,eAAIA,CAAC,GAAG,CAAR;EAAA,OAAZ,CAAD,CAAP;EAAA,KAAnB,CAAV;EACAsB,IAAAA,OAAO,GAAGG,WAAW,CAAC1B,GAAZ,CAAgB,UAAAM,GAAG;EAAA,aAAIyB,WAAG,CAACzB,GAAG,CAAC0B,MAAJ,CAAW,UAAA/B,CAAC;EAAA,eAAIA,CAAC,GAAG,CAAR;EAAA,OAAZ,CAAD,CAAP;EAAA,KAAnB,CAAV;EACD,GAPD,MAQK;EACHuB,IAAAA,OAAO,GAAG5B,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,aAAIA,CAAC,CAACqB,WAAW,GAAGJ,IAAH,GAAUD,IAAtB,CAAL;EAAA,KAAV,CAAV;EACAM,IAAAA,OAAO,GAAGC,OAAV;EACD;;EAED,MAAIS,IAAI,GAAGd,QAAQ,CAACe,WAAG,CAACV,OAAD,CAAJ,CAAnB;EACA,MAAIF,WAAW,GAAGW,IAAI,GAAGd,QAAQ,CAAC,CAAD,CAAlB,GAAwBc,IAAI,GAAGd,QAAQ,CAAC,CAAD,CAAtD,EAA2Dc,IAAI,IAAIX,WAAW,GAAG,CAACN,MAAJ,GAAaA,MAAhC;EAC3DiB,EAAAA,IAAI,GAAGd,QAAQ,CAACgB,MAAT,CAAgBF,IAAhB,CAAP;EAEA,MAAIG,IAAI,GAAGjB,QAAQ,CAACkB,WAAG,CAACd,OAAD,CAAJ,CAAnB;EACA,MAAID,WAAW,GAAGc,IAAI,GAAGjB,QAAQ,CAAC,CAAD,CAAlB,GAAwBiB,IAAI,GAAGjB,QAAQ,CAAC,CAAD,CAAtD,EAA2DiB,IAAI,IAAId,WAAW,GAAGN,MAAH,GAAY,CAACA,MAAhC;EAC3DoB,EAAAA,IAAI,GAAGjB,QAAQ,CAACgB,MAAT,CAAgBC,IAAhB,CAAP;EAEA,MAAIH,IAAI,GAAGZ,SAAS,CAAC,CAAD,CAApB,EAAyBA,SAAS,CAAC,CAAD,CAAT,GAAeY,IAAf;EACzB,MAAIG,IAAI,GAAGf,SAAS,CAAC,CAAD,CAApB,EAAyBA,SAAS,CAAC,CAAD,CAAT,GAAee,IAAf;EAEzB,MAAId,WAAJ,EAAiBD,SAAS,CAACX,OAAV;EAEjBS,EAAAA,QAAQ,CAACX,MAAT,CAAgBa,SAAhB;EAEAiB,EAAAA,cAAc,CAAChB,WAAW,GAAGV,CAAH,GAAOC,CAAnB,EAAsBjB,IAAtB,EAA4B,KAAKwB,SAAjC,CAAd;EAEA,SAAO,CAACR,CAAD,EAAIC,CAAJ,CAAP;EAED;;ECtDD;;;;;;;;;;AASA,EAAe,0BAA4C;EAAA;;EAAA,MAAlCjB,IAAkC,QAAlCA,IAAkC;EAAA,MAA5BgB,CAA4B,QAA5BA,CAA4B;EAAA,MAAzBC,CAAyB,QAAzBA,CAAyB;EAAA,MAAtBC,EAAsB,QAAtBA,EAAsB;EAAA,MAAlBC,EAAkB,QAAlBA,EAAkB;EAAA,yBAAdC,MAAc;EAAA,MAAdA,MAAc,4BAAL,EAAK;EACzD,MAAMC,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EACA,MAAMI,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EAEA,MAAMI,QAAQ,GAAG,KAAKC,SAAL,KAAmB,GAAnB,GAAyBP,CAAzB,GAA6BD,CAA9C;EAEA,MAAMS,SAAS,GAAGF,QAAQ,CAACX,MAAT,GAAkBC,KAAlB,EAAlB;EAEA,MAAMa,WAAW,GAAG,KAAKF,SAAL,KAAmB,GAAvC;EAEA,MAAIE,WAAJ,EAAiBD,SAAS,CAACX,OAAV;EAEjB,MAAIa,OAAJ,EAAaC,OAAb;;EACA,MAAI,KAAKC,QAAT,EAAmB;EACjB,QAAMC,WAAW,GAAGC,iBAAI,GACrBC,GADiB,CACb,UAAA3B,CAAC;EAAA,aAAIA,CAAC,CAAC,KAAI,CAACmB,SAAN,CAAL;EAAA,KADY,EAEjBS,OAFiB,CAETjC,IAFS,EAGjBI,GAHiB,CAGb,UAAAC,CAAC;EAAA,aAAIA,CAAC,CAAC6B,MAAF,CAAS9B,GAAT,CAAa,UAAAY,CAAC;EAAA,eAAIA,CAAC,CAACU,WAAW,GAAGJ,IAAH,GAAUD,IAAtB,CAAL;EAAA,OAAd,CAAJ;EAAA,KAHY,CAApB;EAIAO,IAAAA,OAAO,GAAGE,WAAW,CAAC1B,GAAZ,CAAgB,UAAAM,GAAG;EAAA,aAAIyB,WAAG,CAACzB,GAAG,CAAC0B,MAAJ,CAAW,UAAA/B,CAAC;EAAA,eAAIA,CAAC,GAAG,CAAR;EAAA,OAAZ,CAAD,CAAP;EAAA,KAAnB,CAAV;EACAsB,IAAAA,OAAO,GAAGG,WAAW,CAAC1B,GAAZ,CAAgB,UAAAM,GAAG;EAAA,aAAIyB,WAAG,CAACzB,GAAG,CAAC0B,MAAJ,CAAW,UAAA/B,CAAC;EAAA,eAAIA,CAAC,GAAG,CAAR;EAAA,OAAZ,CAAD,CAAP;EAAA,KAAnB,CAAV;EACD,GAPD,MAQK;EACHuB,IAAAA,OAAO,GAAG5B,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,aAAIA,CAAC,CAACqB,WAAW,GAAGJ,IAAH,GAAUD,IAAtB,CAAL;EAAA,KAAV,CAAV;EACAM,IAAAA,OAAO,GAAGC,OAAV;EACD;;EAED,MAAIS,IAAI,GAAGd,QAAQ,CAACe,WAAG,CAACV,OAAD,CAAJ,CAAnB;EACAS,EAAAA,IAAI,IAAIX,WAAW,GAAG,CAACN,MAAJ,GAAaA,MAAhC;EACAiB,EAAAA,IAAI,GAAGd,QAAQ,CAACgB,MAAT,CAAgBF,IAAhB,CAAP;EAEA,MAAIG,IAAI,GAAGjB,QAAQ,CAACkB,WAAG,CAACd,OAAD,CAAJ,CAAnB;EACAa,EAAAA,IAAI,IAAId,WAAW,GAAGN,MAAH,GAAY,CAACA,MAAhC;EACAoB,EAAAA,IAAI,GAAGjB,QAAQ,CAACgB,MAAT,CAAgBC,IAAhB,CAAP;EAEA,MAAIH,IAAI,GAAGZ,SAAS,CAAC,CAAD,CAApB,EAAyBA,SAAS,CAAC,CAAD,CAAT,GAAeY,IAAf;EACzB,MAAIG,IAAI,GAAGf,SAAS,CAAC,CAAD,CAApB,EAAyBA,SAAS,CAAC,CAAD,CAAT,GAAee,IAAf;EAEzB,MAAId,WAAJ,EAAiBD,SAAS,CAACX,OAAV;EAEjBS,EAAAA,QAAQ,CAACX,MAAT,CAAgBa,SAAhB;EAEAiB,EAAAA,cAAc,CAAChB,WAAW,GAAGV,CAAH,GAAOC,CAAnB,EAAsBjB,IAAtB,EAA4B,KAAKwB,SAAjC,CAAd;EAEA,SAAO,CAACR,CAAD,EAAIC,CAAJ,CAAP;EAED;;ECxDD;;;;;;;;;;AASA,EAAe,6BAA+C;EAAA,MAArCjB,IAAqC,QAArCA,IAAqC;EAAA,MAA/BgB,CAA+B,QAA/BA,CAA+B;EAAA,MAA5BC,CAA4B,QAA5BA,CAA4B;EAAA,MAAzBC,EAAyB,QAAzBA,EAAyB;EAAA,MAArBC,EAAqB,QAArBA,EAAqB;EAAA,MAAjBwB,MAAiB,QAAjBA,MAAiB;EAAA,MAATvB,MAAS,QAATA,MAAS;EAC5D,MAAMC,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EACA,MAAMI,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EAEA,MAAMyB,EAAE,GAAG5B,CAAC,CAACJ,MAAF,GAAWC,KAAX,EAAX;EAAA,MACMgC,EAAE,GAAG5B,CAAC,CAACL,MAAF,GAAWC,KAAX,EADX;EAGA,MAAMiC,EAAE,GAAG9B,CAAC,CAAC+B,KAAF,EAAX;EAAA,MACMC,EAAE,GAAG/B,CAAC,CAAC8B,KAAF,EADX;EAGA,MAAI,CAAC/B,CAAC,CAACuB,MAAH,IAAavB,CAAC,CAACd,OAAnB,EAA4BwC,cAAc,CAAC1B,CAAD,EAAIhB,IAAJ,EAAU,KAAKwB,SAAf,CAAd;EAC5B,MAAI,CAACP,CAAC,CAACsB,MAAH,IAAatB,CAAC,CAACf,OAAnB,EAA4BwC,cAAc,CAACzB,CAAD,EAAIjB,IAAJ,EAAU,KAAKwB,SAAf,CAAd;EAE5BxB,EAAAA,IAAI,CAACiD,OAAL,CAAa,UAAA5C,CAAC,EAAI;EAEhB,QAAM6C,CAAC,GAAG9B,MAAM,GAAGA,MAAH,GAAYuB,MAAM,CAACQ,CAAP,CAAS9C,CAAC,CAACL,IAAX,EAAiBK,CAAC,CAACI,CAAnB,IAAwB,CAApD;;EAEA,QAAIO,CAAC,CAACuB,MAAF,IAAYvB,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAD,GAAayB,EAAE,CAAC,CAAD,CAAf,GAAqBI,CAArC,EAAwC;EACtC,UAAME,CAAC,GAAGpC,CAAC,CAACuB,MAAF,CAASvB,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAD,GAAa6B,CAAtB,CAAV;EACA,UAAIE,CAAC,GAAGR,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQQ,CAAR;EAChB;;EACD,QAAIpC,CAAC,CAACuB,MAAF,IAAYO,EAAE,CAAC,CAAD,CAAF,GAAQ9B,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAT,GAAqB6B,CAArC,EAAwC;EACtC,UAAME,EAAC,GAAGpC,CAAC,CAACuB,MAAF,CAASvB,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAD,GAAa6B,CAAtB,CAAV;;EACA,UAAIE,EAAC,GAAGR,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQQ,EAAR;EAChB;;EAED,QAAInC,CAAC,CAACsB,MAAF,IAAYtB,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAD,GAAa0B,EAAE,CAAC,CAAD,CAAf,GAAqBE,CAArC,EAAwC;EACtC,UAAME,GAAC,GAAGnC,CAAC,CAACsB,MAAF,CAAStB,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAD,GAAa4B,CAAtB,CAAV;;EACA,UAAIE,GAAC,GAAGP,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQO,GAAR;EAChB;;EACD,QAAInC,CAAC,CAACsB,MAAF,IAAYS,EAAE,CAAC,CAAD,CAAF,GAAQ/B,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAT,GAAqB4B,CAArC,EAAwC;EACtC,UAAME,GAAC,GAAGnC,CAAC,CAACsB,MAAF,CAAStB,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAD,GAAa4B,CAAtB,CAAV;;EACA,UAAIE,GAAC,GAAGP,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQO,GAAR;EAChB;EAEF,GAtBD;EAwBApC,EAAAA,CAAC,CAACJ,MAAF,CAASgC,EAAT,EAAaG,KAAb,CAAmBD,EAAnB;EACA7B,EAAAA,CAAC,CAACL,MAAF,CAASiC,EAAT,EAAaE,KAAb,CAAmBC,EAAnB;EAEA,SAAO,CAAChC,CAAD,EAAIC,CAAJ,CAAP;EAED;;ECnDD;;;;;;;;;;AASA,EAAe,2BAA+B;EAAA;;EAAA,MAArBjB,IAAqB,QAArBA,IAAqB;EAAA,MAAfgB,CAAe,QAAfA,CAAe;EAAA,MAAZC,CAAY,QAAZA,CAAY;EAAA,MAATC,EAAS,QAATA,EAAS;EAAA,MAALC,EAAK,QAALA,EAAK;EAC5C,MAAME,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EACA,MAAMI,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EAEA,MAAM+B,CAAC,GAAG,KAAK1B,SAAL,KAAmB,GAAnB,GAAyBP,CAAzB,GAA6BD,CAAvC;EAEA,MAAMX,CAAC,GAAG6C,CAAC,CAACtC,MAAF,GAAWC,KAAX,EAAV;EAEA,MAAI,KAAKW,SAAL,KAAmB,GAAvB,EAA4BnB,CAAC,CAACS,OAAF;EAE5B,MAAMuC,IAAI,GAAGrD,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,WAAIA,CAAC,CAAC,KAAI,CAACmB,SAAL,KAAmB,GAAnB,GAAyBF,IAAzB,GAAgCD,IAAjC,CAAL;EAAA,GAAV,CAAb;EACA,MAAMiC,CAAC,GAAGJ,CAAC,CAACX,MAAF,CAASW,CAAC,CAACZ,WAAG,CAACe,IAAD,CAAJ,CAAD,IAAgB,KAAK7B,SAAL,KAAmB,GAAnB,GAAyB,CAAC,EAA1B,GAA+B,EAA/C,CAAT,CAAV;EAEA,MAAI8B,CAAC,GAAGjD,CAAC,CAAC,CAAD,CAAT,EAAcA,CAAC,CAAC,CAAD,CAAD,GAAOiD,CAAP;EAEd,MAAI,KAAK9B,SAAL,KAAmB,GAAvB,EAA4BnB,CAAC,CAACS,OAAF;EAE5BoC,EAAAA,CAAC,CAACtC,MAAF,CAASP,CAAT;EAEA,SAAO,CAACW,CAAD,EAAIC,CAAJ,CAAP;EAED;;EC9BD;;;;;;;;;;AASA,EAAe,2BAAuC;EAAA,MAA7BjB,IAA6B,QAA7BA,IAA6B;EAAA,MAAvBgB,CAAuB,QAAvBA,CAAuB;EAAA,MAApBC,CAAoB,QAApBA,CAAoB;EAAA,MAAjBC,EAAiB,QAAjBA,EAAiB;EAAA,MAAbC,EAAa,QAAbA,EAAa;EAAA,MAATwB,MAAS,QAATA,MAAS;EACpD,MAAMtB,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EACA,MAAMI,IAAI,GAAGH,EAAE,GAAG,IAAH,GAAU,GAAzB;EAEA,MAAMyB,EAAE,GAAG5B,CAAC,CAACJ,MAAF,GAAWC,KAAX,EAAX;EAAA,MACMgC,EAAE,GAAG5B,CAAC,CAACL,MAAF,GAAWC,KAAX,EADX;EAGA,MAAMiC,EAAE,GAAG9B,CAAC,CAAC+B,KAAF,EAAX;EAAA,MACMC,EAAE,GAAG/B,CAAC,CAAC8B,KAAF,EADX;EAGA,MAAI,CAAC/B,CAAC,CAACuB,MAAH,IAAavB,CAAC,CAACd,OAAnB,EAA4BwC,cAAc,CAAC1B,CAAD,EAAIhB,IAAJ,EAAU,KAAKwB,SAAf,CAAd;EAC5B,MAAI,CAACP,CAAC,CAACsB,MAAH,IAAatB,CAAC,CAACf,OAAnB,EAA4BwC,cAAc,CAACzB,CAAD,EAAIjB,IAAJ,EAAU,KAAKwB,SAAf,CAAd;EAE5BxB,EAAAA,IAAI,CAACiD,OAAL,CAAa,UAAA5C,CAAC,EAAI;EAEhB,QAAMkD,CAAC,GAAGZ,MAAM,CAACa,MAAP,CAAcnD,CAAC,CAACL,IAAhB,EAAsBK,CAAC,CAACI,CAAxB,CAAV;EAAA,QACMgD,CAAC,GAAGd,MAAM,CAACe,KAAP,CAAarD,CAAC,CAACL,IAAf,EAAqBK,CAAC,CAACI,CAAvB,CADV;;EAGA,QAAIO,CAAC,CAACuB,MAAF,IAAYvB,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAD,GAAayB,EAAE,CAAC,CAAD,CAAf,GAAqBW,CAArC,EAAwC;EACtC,UAAML,CAAC,GAAGpC,CAAC,CAACuB,MAAF,CAASvB,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAD,GAAaoC,CAAtB,CAAV;EACA,UAAIL,CAAC,GAAGR,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQQ,CAAR;EAChB;;EACD,QAAIpC,CAAC,CAACuB,MAAF,IAAYO,EAAE,CAAC,CAAD,CAAF,GAAQ9B,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAT,GAAqBoC,CAArC,EAAwC;EACtC,UAAML,EAAC,GAAGpC,CAAC,CAACuB,MAAF,CAASvB,CAAC,CAACX,CAAC,CAACgB,IAAD,CAAF,CAAD,GAAaoC,CAAtB,CAAV;;EACA,UAAIL,EAAC,GAAGR,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQQ,EAAR;EAChB;;EAED,QAAInC,CAAC,CAACsB,MAAF,IAAYtB,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAD,GAAa0B,EAAE,CAAC,CAAD,CAAf,GAAqBO,CAArC,EAAwC;EACtC,UAAMH,GAAC,GAAGnC,CAAC,CAACsB,MAAF,CAAStB,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAD,GAAaiC,CAAtB,CAAV;;EACA,UAAIH,GAAC,GAAGP,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQO,GAAR;EAChB;;EACD,QAAInC,CAAC,CAACsB,MAAF,IAAYS,EAAE,CAAC,CAAD,CAAF,GAAQ/B,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAT,GAAqBiC,CAArC,EAAwC;EACtC,UAAMH,GAAC,GAAGnC,CAAC,CAACsB,MAAF,CAAStB,CAAC,CAACZ,CAAC,CAACiB,IAAD,CAAF,CAAD,GAAaiC,CAAtB,CAAV;;EACA,UAAIH,GAAC,GAAGP,EAAE,CAAC,CAAD,CAAV,EAAeA,EAAE,CAAC,CAAD,CAAF,GAAQO,GAAR;EAChB;EAEF,GAvBD;EAyBApC,EAAAA,CAAC,CAACJ,MAAF,CAASgC,EAAT;EACA3B,EAAAA,CAAC,CAACL,MAAF,CAASiC,EAAT;EAEA,SAAO,CAAC7B,CAAD,EAAIC,CAAJ,CAAP;EAED;;ECnCD;;;;;EAIA,SAAS0C,WAAT,CAAqBtD,CAArB,EAAwB;EACtB,SAAO,KAAKuD,YAAL,CAAkB,KAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWxD,CAAX,CAAb,GAA6B,IAA/C,CAAP;EACD;EAED;;;;;;EAIA,SAASyD,mBAAT,CAA6BC,MAA7B,EAAqC;EACnC,MAAMC,IAAI,GAAGD,MAAM,CAAC3D,GAAP,CAAW6D,QAAX,CAAb;EACA,MAAMC,IAAI,GAAGH,MAAM,CAAC3D,GAAP,CAAW,UAAAC,CAAC;EAAA,WAAIA,CAAC,CAAC2B,GAAF,CAAMmC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAJ;EAAA,GAAZ,CAAb;EACA,SAAOC,sBAAA,CAAuBL,MAAvB,EAA+BM,IAA/B,CAAoC,UAACC,CAAD,EAAIhB,CAAJ;EAAA,WAAUY,IAAI,CAACZ,CAAD,CAAJ,CAAQiB,aAAR,CAAsBL,IAAI,CAACI,CAAD,CAA1B,KAAkCN,IAAI,CAACM,CAAD,CAAJ,GAAUN,IAAI,CAACV,CAAD,CAA1D;EAAA,GAApC,CAAP;EACD;EAED;;;;;;EAIA,SAASkB,oBAAT,CAA8BT,MAA9B,EAAsC;EACpC,SAAOD,mBAAmB,CAACC,MAAD,CAAnB,CAA4BjD,OAA5B,EAAP;EACD;EAED;;;;;;EAIA,SAASmD,QAAT,CAAkBF,MAAlB,EAA0B;EACxB,MAAItD,CAAC,GAAG,CAAC,CAAT;EAAA,MAAYyC,CAAC,GAAG,CAAhB;EAAA,MAAmBE,CAAnB;EACA,MAAMqB,CAAC,GAAGV,MAAM,CAACW,MAAjB;;EACA,SAAO,EAAEjE,CAAF,GAAMgE,CAAb;EAAgB,QAAIrB,CAAC,GAAG,CAACW,MAAM,CAACtD,CAAD,CAAN,CAAU,CAAV,CAAT,EAAuByC,CAAC,IAAIE,CAAL;EAAvC;;EACA,SAAOF,CAAP;EACD;EAED;;;;;;;MAKqByB;;;;;EAEnB;;;;;EAKA,kBAAc;EAAA;;EAAA;;EAEZ;EACA,UAAKC,YAAL,GAAoB,EAApB;EACA,UAAKC,iBAAL,GAAyB;EACvBC,MAAAA,QAAQ,EAAE,CADa;EAEvBC,MAAAA,IAAI,EAAE;EAFiB,KAAzB;EAIA,UAAKC,WAAL,GAAmB,CAAnB;EACA,UAAKC,OAAL,GAAe;EACbC,MAAAA,GAAG,EAAEC,SADQ;EAEbC,MAAAA,GAAG,EAAEC,SAFQ;EAGbC,MAAAA,MAAM,EAAEC,YAHK;EAIbC,MAAAA,IAAI,EAAEC,UAJO;EAKbC,MAAAA,IAAI,EAAEC;EALO,KAAf;EAOA,UAAKC,iBAAL,GAAyB;EACvBC,MAAAA,WAAW,EAAEC,qBAAQ,CAAC,GAAD;EADE,KAAzB;EAGA,UAAKC,eAAL,GAAuB,GAAvB;EACA,UAAKC,aAAL,GAAqB,CAArB;EACA,UAAKC,MAAL,GAAcH,qBAAQ,CAAC,QAAD,CAAtB;EACA,UAAKI,YAAL,GAAoBC,mBAAM,CAAC,MAAKD,YAAN,EAAoB;EAC5CE,MAAAA,IAAI,EAAE;EACJC,QAAAA,KAAK,EAAE,eAAChG,CAAD,EAAII,CAAJ;EAAA,iBAAU,MAAKoB,QAAL,GAAgB,MAAKyE,UAAL,CAAgBjG,CAAhB,EAAmBI,CAAnB,CAAhB,GAAwC,KAAlD;EAAA,SADH;EAEJ8F,QAAAA,WAAW,EAAE;EACXC,UAAAA,UAAU,EAAE;EADD;EAFT,OADsC;EAO5CC,MAAAA,SAAS,EAAE,mBAACpG,CAAD,EAAII,CAAJ,EAAU;EACnB,YAAIiG,YAAY,GAAG,EAAnB;EACA,YAAIrG,CAAC,CAACsG,MAAN,EAAcD,YAAY,aAAM,MAAKJ,UAAL,CAAgBjG,CAAC,CAACL,IAAlB,EAAwBK,CAAC,CAACI,CAA1B,CAAN,CAAZ,CAAd,KACK;EACHiG,UAAAA,YAAY,aAAM,MAAKJ,UAAL,CAAgBjG,CAAhB,EAAmBI,CAAnB,CAAN,CAAZ;EACA,cAAI,MAAKmG,EAAL,CAAQvG,CAAR,EAAWI,CAAX,MAAkBoG,SAAtB,EAAiCH,YAAY,mBAAY,MAAKE,EAAL,CAAQvG,CAAR,EAAWI,CAAX,CAAZ,CAAZ;EACjC,cAAI,MAAKqG,EAAL,CAAQzG,CAAR,EAAWI,CAAX,MAAkBoG,SAAtB,EAAiCH,YAAY,mBAAY,MAAKI,EAAL,CAAQzG,CAAR,EAAWI,CAAX,CAAZ,CAAZ;EACjC,cAAI,MAAKsG,GAAL,CAAS1G,CAAT,EAAYI,CAAZ,MAAmBoG,SAAvB,EAAkCH,YAAY,oBAAa,MAAKK,GAAL,CAAS1G,CAAT,EAAYI,CAAZ,CAAb,CAAZ;EAClC,cAAI,MAAKuG,GAAL,CAAS3G,CAAT,EAAYI,CAAZ,MAAmBoG,SAAvB,EAAkCH,YAAY,oBAAa,MAAKM,GAAL,CAAS3G,CAAT,EAAYI,CAAZ,CAAb,CAAZ;EACnC;EACD,yBAAUiG,YAAV;EACD,OAlB2C;EAmB5CxB,MAAAA,GAAG,EAAE;EACHqB,QAAAA,WAAW,EAAE;EACXU,UAAAA,UAAU,EAAE;EAAA,mBAAM,MAAKzF,SAAL,KAAmB,GAAnB,GAAyB,QAAzB,GAAoC,KAA1C;EAAA,WADD;EAEX0F,UAAAA,aAAa,EAAE;EAAA,mBAAM,MAAK1F,SAAL,KAAmB,GAAnB,GAAyB,KAAzB,GAAiC,QAAvC;EAAA;EAFJ;EADV,OAnBuC;EAyB5C8D,MAAAA,MAAM,EAAE;EACNnC,QAAAA,CAAC,EAAEQ,WAAW,CAACwD,IAAZ;EADG,OAzBoC;EA4B5C3B,MAAAA,IAAI,EAAE;EACJT,QAAAA,IAAI,EAAEe,qBAAQ,CAAC,MAAD,CADV;EAEJO,QAAAA,KAAK,EAAE,KAFH;EAGJe,QAAAA,MAAM,EAAE,gBAAC/G,CAAD,EAAII,CAAJ;EAAA,iBAAU4G,uBAAW,CAAC,MAAKC,GAAL,CAASjH,CAAT,EAAYI,CAAZ,CAAD,CAArB;EAAA,SAHJ;EAIJ8G,QAAAA,WAAW,EAAEzB,qBAAQ,CAAC,CAAD;EAJjB,OA5BsC;EAkC5CJ,MAAAA,IAAI,EAAE;EACJlC,QAAAA,MAAM,EAAE,gBAAAnD,CAAC;EAAA,iBAAIsD,WAAW,CAACwD,IAAZ,gCAAuB9G,CAAvB,IAA4B,CAAhC;EAAA,SADL;EAEJqD,QAAAA,KAAK,EAAE,eAAArD,CAAC;EAAA,iBAAIsD,WAAW,CAACwD,IAAZ,gCAAuB9G,CAAvB,IAA4B,CAAhC;EAAA;EAFJ;EAlCsC,KAApB,CAA1B;EAuCA,UAAKmH,WAAL,GAAmB,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,EAAwB,KAAxB,EAA+B,MAA/B,EAAuC,MAAvC,EAA+C,QAA/C,CAAnB;;EACA,UAAKC,UAAL,GAAkB,UAACnD,CAAD,EAAIhB,CAAJ;EAAA,aAAU,MAAKkE,WAAL,CAAiBE,OAAjB,CAAyBpD,CAAzB,IAA8B,MAAKkD,WAAL,CAAiBE,OAAjB,CAAyBpE,CAAzB,CAAxC;EAAA,KAAlB;;EACA,UAAKqE,QAAL,GAAgB,EAAhB;EACA,UAAKC,QAAL,GAAgB,CAAhB;EACA,UAAKC,UAAL,GAAkB,MAAlB;EACA,UAAKC,YAAL,GAAoB1D,4BAApB;EACA,UAAK2D,WAAL,GAAmBvD,oBAAnB;EACA,UAAKwD,eAAL,GAAuB7B,mBAAM,CAAC,MAAK6B,eAAN,EAAuB;EAACC,MAAAA,QAAQ,EAAE;EAAX,KAAvB,CAA7B;EAEA,UAAKrB,EAAL,GAAUsB,qBAAQ,CAAC,GAAD,CAAlB;EACA,UAAKC,MAAL,GAAc,IAAIC,qBAAJ,GAAiBC,KAAjB,CAAuB,KAAvB,CAAd;EACA,UAAKC,MAAL,GAAc,IAAIF,qBAAJ,GAAiBC,KAAjB,CAAuB,KAAvB,EAA8BE,QAA9B,CAAuC,CAAvC,CAAd;EACA,UAAKC,QAAL,GAAgB,EAAhB;EACA,UAAKC,QAAL,GAAgB,GAAhB;EAEA,UAAK1B,GAAL,GAAWmB,qBAAQ,CAAC,IAAD,CAAnB;EACA,UAAKQ,OAAL,GAAe,IAAIC,kBAAJ,GAAcN,KAAd,CAAoB,OAApB,CAAf;EACA,UAAKO,OAAL,GAAe,IAAID,kBAAJ,GAAcN,KAAd,CAAoB,OAApB,EAA6BE,QAA7B,CAAsC,CAAtC,CAAf;EACA,UAAKM,SAAL,GAAiB;EACf3I,MAAAA,OAAO,EAAE;EADM,KAAjB;EAIA,UAAK4G,EAAL,GAAUoB,qBAAQ,CAAC,GAAD,CAAlB;EACA,UAAKY,MAAL,GAAc,IAAIC,mBAAJ,GAAeV,KAAf,CAAqB,OAArB,CAAd;EACA,UAAKW,MAAL,GAAc,IAAID,mBAAJ,GAAeV,KAAf,CAAqB,OAArB,EAA8BE,QAA9B,CAAuC,CAAvC,CAAd;EACA,UAAKU,QAAL,GAAgB;EACdC,MAAAA,UAAU,EAAE;EACV9B,QAAAA,MAAM,EAAE,gBAAA/G,CAAC,EAAI;EACX,cAAMO,MAAM,GAAG,MAAKkI,MAAL,CAAYlI,MAAZ,EAAf;;EACA,iBAAOA,MAAM,CAACA,MAAM,CAAC8D,MAAP,GAAgB,CAAjB,CAAN,KAA8BrE,CAAC,CAAC8I,EAAhC,GAAqC,aAArC,GAAqD,MAA5D;EACD;EAJS;EADE,KAAhB;EAQA,UAAKC,QAAL,GAAgB,GAAhB;EAEA,UAAKpC,GAAL,GAAWkB,qBAAQ,CAAC,IAAD,CAAnB;EACA,UAAKmB,OAAL,GAAe,IAAIC,oBAAJ,GAAgBjB,KAAhB,CAAsB,KAAtB,CAAf;EACA,UAAKkB,OAAL,GAAe,IAAIR,mBAAJ,GAAeV,KAAf,CAAqB,KAArB,EAA4BE,QAA5B,CAAqC,CAArC,CAAf;EACA,UAAKiB,SAAL,GAAiB,EAAjB;EAnGY;EAqGb;EAED;;;;;;;;4BAIMC,UAAU;EAAA;;EAEd,UAAI,CAAC,KAAKC,aAAL,CAAmBhF,MAAxB,EAAgC,OAAO,IAAP;;EAEhC,UAAMiF,UAAU,GAAG,SAAbA,UAAa,CAACtJ,CAAD,EAAII,CAAJ;EAAA,eAAU,MAAI,CAACoB,QAAL,aACtB,MAAI,CAAC+H,QAAL,CAAclF,MAAd,GAAuB,CAAvB,GAA2B,MAAI,CAACmF,IAAL,CAAUxJ,CAAV,EAAaI,CAAb,EAAgBI,KAAhB,CAAsB,CAAtB,EAAyB,CAAC,CAA1B,EAA6BiJ,IAA7B,CAAkC,GAAlC,CAA3B,GAAoE,OAD9C,cAEtB,MAAI,CAACD,IAAL,CAAUxJ,CAAV,EAAaI,CAAb,EAAgBqJ,IAAhB,CAAqB,GAArB,CAFsB,CAAV;EAAA,OAAnB;;EAIA,UAAI9J,IAAI,GAAG,KAAK0J,aAAL,CAAmBtJ,GAAnB,CAAuB,UAACC,CAAD,EAAII,CAAJ;EAAA,eAAW;EAC3CsJ,UAAAA,UAAU,EAAE,IAD+B;EAE3C/J,UAAAA,IAAI,EAAEK,CAFqC;EAG3C2J,UAAAA,KAAK,EAAEL,UAAU,CAACtJ,CAAD,EAAII,CAAJ,CAH0B;EAI3CA,UAAAA,CAAC,EAADA,CAJ2C;EAK3CwJ,UAAAA,GAAG,EAAE,MAAI,CAACC,WAAL,IAAoB,MAAI,CAACA,WAAL,CAAiB,CAAjB,CAApB,IAA2C,MAAI,CAACA,WAAL,CAAiB,CAAjB,EAAoB7J,CAApB,EAAuBI,CAAvB,CALL;EAM3C0I,UAAAA,EAAE,EAAE,MAAI,CAACU,IAAL,CAAUxJ,CAAV,EAAaI,CAAb,EAAgBI,KAAhB,CAAsB,CAAtB,EAAyB,MAAI,CAACsJ,UAAL,GAAkB,CAA3C,EAA8CL,IAA9C,CAAmD,GAAnD,CANuC;EAO3CM,UAAAA,GAAG,EAAE,MAAI,CAACF,WAAL,IAAoB,MAAI,CAACA,WAAL,CAAiB,CAAjB,CAApB,IAA2C,MAAI,CAACA,WAAL,CAAiB,CAAjB,EAAoB7J,CAApB,EAAuBI,CAAvB,CAPL;EAQ3C4J,UAAAA,KAAK,EAAE,MAAI,CAACpE,MAAL,CAAY5F,CAAZ,EAAeI,CAAf,CARoC;EAS3CO,UAAAA,CAAC,EAAE,MAAI,CAAC4F,EAAL,CAAQvG,CAAR,EAAWI,CAAX,CATwC;EAU3CS,UAAAA,EAAE,EAAE,MAAI,CAAC6F,GAAL,CAAS1G,CAAT,EAAYI,CAAZ,CAVuC;EAW3CQ,UAAAA,CAAC,EAAE,MAAI,CAAC6F,EAAL,CAAQzG,CAAR,EAAWI,CAAX,CAXwC;EAY3CU,UAAAA,EAAE,EAAE,MAAI,CAAC6F,GAAL,CAAS3G,CAAT,EAAYI,CAAZ;EAZuC,SAAX;EAAA,OAAvB,CAAX;;EAeA,WAAK6J,cAAL,GAAsBtK,IAAtB;;EAEA,UAAI,KAAK6D,KAAT,EAAgB;EACd,YAAM0G,OAAO,GAAGC,cAAM,CAACxK,IAAD,EAAO,UAAAK,CAAC;EAAA,iBAAI,MAAI,CAACwD,KAAL,CAAWxD,CAAC,CAACL,IAAb,CAAJ;EAAA,SAAR,CAAtB;;EACA,aAAK4D,YAAL,GAAoB;EAAA,iBAAM,MAAI,CAACgE,QAAX;EAAA,SAApB;;EACA,aAAKhE,YAAL,GAAoB6G,MAAM,gBAAS,KAAK5C,UAAL,CAAgB6C,MAAhB,CAAuB,CAAvB,EAA0BC,WAA1B,EAAT,SAAmD,KAAK9C,UAAL,CAAgBhH,KAAhB,CAAsB,CAAtB,CAAnD,EAAN,GACjBD,MADiB,CACV2J,OADU,EAEjBxH,KAFiB,CAEX,CAACwH,OAAO,CAAC,CAAD,CAAP,KAAeA,OAAO,CAAC,CAAD,CAAtB,GAA4B,KAAK5C,QAAjC,GAA4ClF,WAAG,CAAC,CAAC,KAAKkF,QAAL,GAAgB,CAAjB,EAAoB,KAAKC,QAAzB,CAAD,CAAhD,EAAsF,KAAKD,QAA3F,CAFW,CAApB;EAGD,OAND,MAOK;EACH,aAAK/D,YAAL,GAAoB;EAAA,iBAAM,MAAI,CAACgE,QAAX;EAAA,SAApB;EACD;;EAED,UAAMgD,QAAQ,GAAG5K,IAAI,CAAC6K,IAAL,CAAU,UAAAxK,CAAC;EAAA,eAAIA,CAAC,CAACa,EAAF,KAAS2F,SAAb;EAAA,OAAX,CAAjB;EAAA,UACMiE,QAAQ,GAAG9K,IAAI,CAAC6K,IAAL,CAAU,UAAAxK,CAAC;EAAA,eAAIA,CAAC,CAACc,EAAF,KAAS0F,SAAb;EAAA,OAAX,CADjB;EAGA,UAAMrD,MAAM,GAAG,KAAKuH,OAAL,GAAe,KAAKC,OAAL,CAAaC,GAA5B,GAAkC,KAAKD,OAAL,CAAaE,MAA9D;EAAA,UACMC,GAAG,GAAG,KAAK3J,SAAL,GAAiB,KAAKA,SAAL,KAAmB,GAAnB,GAAyB,GAAzB,GAA+B,GAAhD,GAAsDqF,SADlE;EAAA,UAEMuE,IAAI,GAAG,KAAK5J,SAAL,GAAiB,KAAKA,SAAL,KAAmB,GAAnB,GAAyB,IAAzB,GAAgC,IAAjD,GAAwDqF,SAFrE;EAAA,UAGMwE,IAAI,GAAG,CAACF,GAAD,EAAMC,IAAN,EAAYhJ,MAAZ,CAAmB,UAAA/B,CAAC;EAAA,eAAIA,CAAJ;EAAA,OAApB,CAHb;EAAA,UAIMiL,MAAM,GAAG,KAAKC,OAJpB;EAAA,UAKMC,UAAU,GAAG,KAAKC,WALxB;EAAA,UAMM/H,KAAK,GAAG,KAAKgI,MAAL,GAAc,KAAKV,OAAL,CAAaW,IAA3B,GAAkC,KAAKX,OAAL,CAAaY,KAN7D;;EAQA,UAAMC,MAAM,GAAG,KAAKC,KAAL,IAAc9L,IAAI,CAAC,CAAD,CAAJ,CAAQkB,EAAR,KAAe,KAAK4K,KAAL,CAAW9L,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAnB,EAAyBA,IAAI,CAAC,CAAD,CAAJ,CAAQS,CAAjC,CAA5C;EAAA,UACMsL,KAAK,GAAG,KAAKD,KAAL,IAAc9L,IAAI,CAAC,CAAD,CAAJ,CAAQgB,CAAR,KAAc,KAAK8K,KAAL,CAAW9L,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAnB,EAAyBA,IAAI,CAAC,CAAD,CAAJ,CAAQS,CAAjC,CAD1C;EAAA,UAEMuL,MAAM,GAAG,KAAKF,KAAL,IAAc9L,IAAI,CAAC,CAAD,CAAJ,CAAQmB,EAAR,KAAe,KAAK2K,KAAL,CAAW9L,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAnB,EAAyBA,IAAI,CAAC,CAAD,CAAJ,CAAQS,CAAjC,CAF5C;EAAA,UAGMwL,KAAK,GAAG,KAAKH,KAAL,IAAc9L,IAAI,CAAC,CAAD,CAAJ,CAAQiB,CAAR,KAAc,KAAK6K,KAAL,CAAW9L,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAnB,EAAyBA,IAAI,CAAC,CAAD,CAAJ,CAAQS,CAAjC,CAH1C;;EAKA,WAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,IAAI,CAAC0E,MAAzB,EAAiCjE,CAAC,EAAlC,EAAsC;EACpC,YAAMJ,CAAC,GAAGL,IAAI,CAACS,CAAD,CAAd;EACA,YAAIsL,KAAJ,EAAW1L,CAAC,CAACW,CAAF,GAAMkL,eAAI,CAAC7L,CAAC,CAACW,CAAH,CAAV;EACX,YAAI6K,MAAJ,EAAYxL,CAAC,CAACa,EAAF,GAAOgL,eAAI,CAAC7L,CAAC,CAACa,EAAH,CAAX;EACZ,YAAI+K,KAAJ,EAAW5L,CAAC,CAACY,CAAF,GAAMiL,eAAI,CAAC7L,CAAC,CAACY,CAAH,CAAV;EACX,YAAI+K,MAAJ,EAAY3L,CAAC,CAACc,EAAF,GAAO+K,eAAI,CAAC7L,CAAC,CAACc,EAAH,CAAX;EACZd,QAAAA,CAAC,CAACJ,QAAF,GAAaI,CAAC,CAACgK,KAAF,KAAY,KAAZ,aAAuBhK,CAAC,CAAC,KAAKmB,SAAN,CAAxB,cAA4CnB,CAAC,CAAC2J,KAA9C,cAA2D3J,CAAC,CAAC,KAAKmB,SAAN,CAA5D,CAAb;EACD;;EAED,UAAI2K,YAAJ,EAAkBC,OAAlB,EAA2BC,SAA3B,EAAsCC,SAAtC;;EACA,UAAI,KAAKzK,QAAT,EAAmB;EAAA;;EAEjB,YAAM0K,WAAW,GAAGxK,iBAAI,GACrBC,GADiB,CACb,UAAA3B,CAAC;EAAA,iBAAIA,CAAC,CAAC2J,KAAN;EAAA,SADY,EAEjB/H,OAFiB,CAETjC,IAFS,EAGjBM,MAHiB,CAGV,UAACkM,GAAD,EAAMnM,CAAN,EAAY;EAClB,cAAI,CAACmM,GAAG,CAACnM,CAAC,CAAC2B,GAAH,CAAR,EAAiBwK,GAAG,CAACnM,CAAC,CAAC2B,GAAH,CAAH,GAAa,CAAb;EACjBwK,UAAAA,GAAG,CAACnM,CAAC,CAAC2B,GAAH,CAAH,IAAcG,WAAG,CAAC9B,CAAC,CAAC6B,MAAH,EAAW,UAAAuK,EAAE;EAAA,mBAAIA,EAAE,CAACtB,GAAD,CAAN;EAAA,WAAb,CAAjB;EACA,iBAAOqB,GAAP;EACD,SAPiB,EAOf,EAPe,CAApB;EASAxM,QAAAA,IAAI,GAAGA,IAAI,CAACqE,IAAL,CAAU,UAACC,CAAD,EAAIhB,CAAJ,EAAU;EACzB,cAAI,MAAI,YAAK,MAAI,CAAC9B,SAAV,UAAR,EAAoC,OAAO,MAAI,YAAK,MAAI,CAACA,SAAV,UAAJ,CAA+B8C,CAAC,CAACtE,IAAjC,EAAuCsD,CAAC,CAACtD,IAAzC,CAAP;EACpC,cAAM0M,EAAE,GAAGpI,CAAC,CAAC,MAAI,CAAC9C,SAAN,CAAZ;EAAA,cAA8BmL,EAAE,GAAGrJ,CAAC,CAAC,MAAI,CAAC9B,SAAN,CAApC;EACA,cAAIkL,EAAE,GAAGC,EAAL,KAAY,CAAhB,EAAmB,OAAOD,EAAE,GAAGC,EAAZ;EACnB,cAAIrI,CAAC,CAAC0F,KAAF,KAAY1G,CAAC,CAAC0G,KAAlB,EAAyB,OAAOuC,WAAW,CAACjJ,CAAC,CAAC0G,KAAH,CAAX,GAAuBuC,WAAW,CAACjI,CAAC,CAAC0F,KAAH,CAAzC;EACzB,iBAAO1G,CAAC,CAAC6H,GAAD,CAAD,GAAS7G,CAAC,CAAC6G,GAAD,CAAjB;EACD,SANM,CAAP;EAQAgB,QAAAA,YAAY,GAAGS,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACJ,QAAN;EAAA,SAAV,CAAR,CAAX,CAAf;EACAqM,QAAAA,SAAS,GAAGM,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC8I,EAAN;EAAA,SAAV,CAAR,CAAX,CAAZ;EAEAkD,QAAAA,SAAS,GAAGtK,iBAAI,GACbC,GADS,CACL,UAAA3B,CAAC;EAAA,iBAAIA,CAAC,CAACJ,QAAN;EAAA,SADI,EAETgC,OAFS,CAEDjC,IAFC,EAGTI,GAHS,CAGL,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC6B,MAAN;EAAA,SAHI,CAAZ;EAKAmK,QAAAA,SAAS,CAACpJ,OAAV,CAAkB,UAAA8J,CAAC,EAAI;EACrB,cAAMC,GAAG,GAAGJ,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQC,CAAC,CAAC3M,GAAF,CAAM,UAAAC,CAAC;EAAA,mBAAIA,CAAC,CAAC8I,EAAN;EAAA,WAAP,CAAR,CAAX,CAAZ;;EACA,cAAI6D,GAAG,CAACtI,MAAJ,GAAa4H,SAAS,CAAC5H,MAA3B,EAAmC;EACjC4H,YAAAA,SAAS,CAACrJ,OAAV,CAAkB,UAAAgK,CAAC,EAAI;EACrB,kBAAI,CAACD,GAAG,CAACE,QAAJ,CAAaD,CAAb,CAAL,EAAsB;EACpB,oBAAM5M,EAAC,GAAGL,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,yBAAIA,CAAC,CAAC8I,EAAF,KAAS8D,CAAb;EAAA,iBAAb,EAA6B,CAA7B,CAAV;;EACA,oBAAI5M,EAAC,CAACgK,KAAF,KAAY,MAAhB,EAAwB;EAAA;;EACtB,sBAAML,KAAK,GAAGL,UAAU,CAACtJ,EAAC,CAACL,IAAH,EAASK,EAAC,CAACI,CAAX,CAAxB;EACA,sBAAM0M,WAAW;EACfpD,oBAAAA,UAAU,EAAE,IADG;EAEf/J,oBAAAA,IAAI,EAAEK,EAAC,CAACL,IAFO;EAGfC,oBAAAA,QAAQ,EAAEI,EAAC,CAACgK,KAAF,KAAY,KAAZ,aAAuB0C,CAAC,CAAC,CAAD,CAAD,CAAK,MAAI,CAACvL,SAAV,CAAvB,cAA+CwI,KAA/C,cAA4D+C,CAAC,CAAC,CAAD,CAAD,CAAK,MAAI,CAACvL,SAAV,CAA5D,CAHK;EAIfwI,oBAAAA,KAAK,EAALA,KAJe;EAKfb,oBAAAA,EAAE,EAAE8D,CALW;EAMf5C,oBAAAA,KAAK,EAAEhK,EAAC,CAACgK;EANM,mDAOd,MAAI,CAAC7I,SAPS,EAOGuL,CAAC,CAAC,CAAD,CAAD,CAAK,MAAI,CAACvL,SAAV,CAPH,iCAQd2J,GARc,EAQR,CARQ,gBAAjB;EAUAnL,kBAAAA,IAAI,CAACoN,IAAL,CAAUD,WAAV;EACD;EACF;EACF,aAlBD;EAmBD;EACF,SAvBD;;EAyBA,YAAI,gBAAS,KAAK3L,SAAd,UAAJ,EAAoC;EAClCxB,UAAAA,IAAI,CAACqE,IAAL,CAAU,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAU,MAAI,YAAK,MAAI,CAAC9B,SAAV,UAAJ,CAA+B8C,CAAC,CAACtE,IAAjC,EAAuCsD,CAAC,CAACtD,IAAzC,CAAV;EAAA,WAAV;EACD,SAFD,MAGK;EACHA,UAAAA,IAAI,CAACqE,IAAL,CAAU,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAUgB,CAAC,CAAC,MAAI,CAAC9C,SAAN,CAAD,GAAoB8B,CAAC,CAAC,MAAI,CAAC9B,SAAN,CAA/B;EAAA,WAAV;EACD;;EAED,YAAM6L,KAAK,GAAG,KAAKtF,WAAnB;EAEA,YAAIsF,KAAK,YAAYT,KAArB,EAA4BN,SAAS,CAACjI,IAAV,CAAe,UAACC,CAAD,EAAIhB,CAAJ;EAAA,iBAAU+J,KAAK,CAAC3F,OAAN,CAAcpD,CAAd,IAAmB+I,KAAK,CAAC3F,OAAN,CAAcpE,CAAd,CAA7B;EAAA,SAAf,EAA5B,KACK,IAAI+J,KAAK,KAAKjJ,sBAAd,EAAsCkI,SAAS,CAACjI,IAAV,CAAe,UAACC,CAAD,EAAIhB,CAAJ;EAAA,iBAAUgB,CAAC,CAACC,aAAF,CAAgBjB,CAAhB,CAAV;EAAA,SAAf;EAE3C+I,QAAAA,SAAS,GAAGjI,aAAA,GACTF,IADS,CACJoI,SADI,EAETgB,MAFS,CAEF,KAAKxF,YAFH,EAGTuF,KAHS,CAGHA,KAAK,YAAYT,KAAjB,GAAyBxI,sBAAzB,GAAkDiJ,KAH/C,EAITE,KAJS,CAIH,UAACvD,KAAD,EAAQhI,GAAR,EAAgB;EACrB,cAAM3B,CAAC,GAAG2J,KAAK,CAAC5H,MAAN,CAAa,UAAA2K,CAAC;EAAA,mBAAIA,CAAC,CAAC5D,EAAF,KAASnH,GAAb;EAAA,WAAd,CAAV;EACA,iBAAO3B,CAAC,CAACqE,MAAF,GAAWrE,CAAC,CAAC,CAAD,CAAD,CAAK8K,GAAL,CAAX,GAAuB,CAA9B;EACD,SAPS,EAOPkB,SAPO,CAAZ;EASAD,QAAAA,OAAO,6CACJ,KAAK5K,SADD,EACagJ,cAAM,CAACxK,IAAD,EAAO,UAAAK,CAAC;EAAA,iBAAIA,CAAC,CAAC,MAAI,CAACmB,SAAN,CAAL;EAAA,SAAR,CADnB,6BAEJ2J,GAFI,EAEE,CAAC1I,WAAG,CAAC4J,SAAS,CAACjM,GAAV,CAAc,UAAA2M,CAAC;EAAA,iBAAItK,WAAG,CAACsK,CAAC,CAAC3M,GAAF,CAAM,UAAAoN,CAAC;EAAA,mBAAIA,CAAC,CAAC,CAAD,CAAL;EAAA,WAAP,CAAD,CAAP;EAAA,SAAf,CAAD,CAAJ,EAAiDlL,WAAG,CAAC+J,SAAS,CAACjM,GAAV,CAAc,UAAA2M,CAAC;EAAA,iBAAIzK,WAAG,CAACyK,CAAC,CAAC3M,GAAF,CAAM,UAAAoN,CAAC;EAAA,mBAAIA,CAAC,CAAC,CAAD,CAAL;EAAA,WAAP,CAAD,CAAP;EAAA,SAAf,CAAD,CAApD,CAFF,YAAP;EAKD,OA9ED,MA+EK;EACH,YAAMC,KAAK,GAAG,KAAKjM,SAAL,KAAmB,GAAnB,GAAyBxB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACW,CAAN;EAAA,SAAV,CAAzB,GAA8ChB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACW,CAAN;EAAA,SAAV,EACzD0M,MADyD,CAClD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC+J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EADf,EAEzDsD,MAFyD,CAElD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC4J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EAFf,CAA5D;EAIA,YAAM0D,MAAM,GAAG,KAAKnM,SAAL,KAAmB,GAAnB,GAAyBxB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACa,EAAN;EAAA,SAAV,CAAzB,GAA+ClB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACa,EAAN;EAAA,SAAV,EAC3DwM,MAD2D,CACpD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC+J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EADb,EAE3DsD,MAF2D,CAEpD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC4J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EAFb,CAA9D;EAIA,YAAM2D,KAAK,GAAG,KAAKpM,SAAL,KAAmB,GAAnB,GAAyBxB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACY,CAAN;EAAA,SAAV,CAAzB,GAA8CjB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACY,CAAN;EAAA,SAAV,EACzDyM,MADyD,CAClD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC+J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EADf,EAEzDsD,MAFyD,CAElD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC4J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EAFf,CAA5D;EAIA,YAAM4D,MAAM,GAAG,KAAKrM,SAAL,KAAmB,GAAnB,GAAyBxB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACc,EAAN;EAAA,SAAV,CAAzB,GAA+CnB,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACc,EAAN;EAAA,SAAV,EAC3DuM,MAD2D,CACpD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC+J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EADb,EAE3DsD,MAF2D,CAEpD,KAAKxD,WAAL,IAAoB,KAAKA,WAAL,CAAiB,CAAjB,CAApB,GAA0ClK,IAAI,CAACI,GAAL,CAAS,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAAC4J,GAAN;EAAA,SAAV,CAA1C,GAAiE,EAFb,CAA9D;;EAIA,YAAI,gBAAS,KAAKzI,SAAd,UAAJ,EAAoC;EAClCxB,UAAAA,IAAI,CAACqE,IAAL,CAAU,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAU,MAAI,YAAK,MAAI,CAAC9B,SAAV,UAAJ,CAA+B8C,CAAC,CAACtE,IAAjC,EAAuCsD,CAAC,CAACtD,IAAzC,CAAV;EAAA,WAAV;EACD,SAFD,MAGK;EACHA,UAAAA,IAAI,CAACqE,IAAL,CAAU,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAUgB,CAAC,CAAC,MAAI,CAAC9C,SAAN,CAAD,GAAoB8B,CAAC,CAAC,MAAI,CAAC9B,SAAN,CAA/B;EAAA,WAAV;EACD;;EAED4K,QAAAA,OAAO,GAAG;EACRpL,UAAAA,CAAC,EAAE,KAAK8M,MAAL,GAAclB,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,mBAAIA,CAAC,CAACW,CAAN;EAAA,WAAb,EAAsBqD,IAAtB,CAA2B,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAU,MAAI,CAACwK,MAAL,CAAYxJ,CAAC,CAACtE,IAAd,EAAoBsD,CAAC,CAACtD,IAAtB,CAAV;EAAA,WAA3B,EAAkEI,GAAlE,CAAsE,UAAAC,CAAC;EAAA,mBAAIA,CAAC,CAACW,CAAN;EAAA,WAAvE,CAAR,CAAX,CAAd,GAAqHwJ,cAAM,CAACiD,KAAD,EAAQ,UAAApN,CAAC;EAAA,mBAAIA,CAAJ;EAAA,WAAT,CADtH;EAERa,UAAAA,EAAE,EAAE,KAAK6M,OAAL,GAAenB,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,mBAAIA,CAAC,CAACa,EAAN;EAAA,WAAb,EAAuBmD,IAAvB,CAA4B,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAU,MAAI,CAACyK,OAAL,CAAazJ,CAAC,CAACtE,IAAf,EAAqBsD,CAAC,CAACtD,IAAvB,CAAV;EAAA,WAA5B,EAAoEI,GAApE,CAAwE,UAAAC,CAAC;EAAA,mBAAIA,CAAC,CAACa,EAAN;EAAA,WAAzE,CAAR,CAAX,CAAf,GAAyHsJ,cAAM,CAACmD,MAAD,EAAS,UAAAtN,CAAC;EAAA,mBAAIA,CAAJ;EAAA,WAAV,CAF3H;EAGRY,UAAAA,CAAC,EAAE,KAAK+M,MAAL,GAAcpB,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,mBAAIA,CAAC,CAACY,CAAN;EAAA,WAAb,EAAsBoD,IAAtB,CAA2B,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAU,MAAI,CAAC0K,MAAL,CAAY1J,CAAC,CAACtE,IAAd,EAAoBsD,CAAC,CAACtD,IAAtB,CAAV;EAAA,WAA3B,EAAkEI,GAAlE,CAAsE,UAAAC,CAAC;EAAA,mBAAIA,CAAC,CAACY,CAAN;EAAA,WAAvE,CAAR,CAAX,CAAd,GAAqHuJ,cAAM,CAACoD,KAAD,EAAQ,UAAAvN,CAAC;EAAA,mBAAIA,CAAJ;EAAA,WAAT,CAHtH;EAIRc,UAAAA,EAAE,EAAE,KAAK8M,OAAL,GAAerB,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,mBAAIA,CAAC,CAACc,EAAN;EAAA,WAAb,EAAuBkD,IAAvB,CAA4B,UAACC,CAAD,EAAIhB,CAAJ;EAAA,mBAAU,MAAI,CAAC2K,OAAL,CAAa3J,CAAC,CAACtE,IAAf,EAAqBsD,CAAC,CAACtD,IAAvB,CAAV;EAAA,WAA5B,EAAoEI,GAApE,CAAwE,UAAAC,CAAC;EAAA,mBAAIA,CAAC,CAACc,EAAN;EAAA,WAAzE,CAAR,CAAX,CAAf,GAAyHqJ,cAAM,CAACqD,MAAD,EAAS,UAAAxN,CAAC;EAAA,mBAAIA,CAAJ;EAAA,WAAV;EAJ3H,SAAV;EAMD;;EAED,UAAI6N,OAAO,GAAG,KAAKC,QAAL,GAAgB,KAAKA,QAAL,CAActN,KAAd,EAAhB,GAAwCuL,OAAO,CAACpL,CAA9D;EAAA,UACIoN,MAAM,GAAG,KAAKN,MAAL,GAAc,OAAd,GAAwB,QADrC;EAGA,UAAII,OAAO,CAAC,CAAD,CAAP,KAAe,KAAK,CAAxB,EAA2BA,OAAO,CAAC,CAAD,CAAP,GAAa9B,OAAO,CAACpL,CAAR,CAAU,CAAV,CAAb;EAC3B,UAAIkN,OAAO,CAAC,CAAD,CAAP,KAAe,KAAK,CAAxB,EAA2BA,OAAO,CAAC,CAAD,CAAP,GAAa9B,OAAO,CAACpL,CAAR,CAAU,CAAV,CAAb;;EAE3B,UAAI+K,KAAJ,EAAW;EACTmC,QAAAA,OAAO,GAAGA,OAAO,CAAC9N,GAAR,CAAY8L,eAAZ,CAAV;EACAkC,QAAAA,MAAM,GAAG,MAAT;EACD,OAHD,MAIK,IAAI,KAAK5M,SAAL,KAAmB,GAAvB,EAA4B;EAC/B0M,QAAAA,OAAO,GAAGtB,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,iBAAIA,CAAC,CAACW,CAAN;EAAA,SAAb,EAAsBqD,IAAtB,CAA2B,UAACC,CAAD,EAAIhB,CAAJ;EAAA,iBAAU,MAAI,CAACwK,MAAL,GAAc,MAAI,CAACA,MAAL,CAAYxJ,CAAC,CAACtE,IAAd,EAAoBsD,CAAC,CAACtD,IAAtB,CAAd,GAA4CsE,CAAC,CAACtD,CAAF,GAAMsC,CAAC,CAACtC,CAA9D;EAAA,SAA3B,EAA4FZ,GAA5F,CAAgG,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACW,CAAN;EAAA,SAAjG,CAAR,CAAX,CAAV;EACAoN,QAAAA,MAAM,GAAG,OAAT;EACD;;EAED,UAAIC,QAAQ,GAAG,KAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAezN,KAAf,EAAjB,GAA0CuL,OAAO,CAAClL,EAAjE;EAAA,UACIqN,OAAO,GAAG,KAAKR,OAAL,GAAe,OAAf,GAAyB,QADvC;EAGA,UAAIM,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgB,KAAK,CAArC,EAAwCA,QAAQ,CAAC,CAAD,CAAR,GAAcjC,OAAO,CAAClL,EAAR,CAAW,CAAX,CAAd;EACxC,UAAImN,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgB,KAAK,CAArC,EAAwCA,QAAQ,CAAC,CAAD,CAAR,GAAcjC,OAAO,CAAClL,EAAR,CAAW,CAAX,CAAd;;EAExC,UAAI2K,MAAJ,EAAY;EACVwC,QAAAA,QAAQ,GAAGA,QAAQ,CAACjO,GAAT,CAAa8L,eAAb,CAAX;EACAqC,QAAAA,OAAO,GAAG,MAAV;EACD,OAHD,MAIK,IAAI,KAAK/M,SAAL,KAAmB,GAAvB,EAA4B;EAC/B6M,QAAAA,QAAQ,GAAGzB,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,iBAAIA,CAAC,CAACa,EAAN;EAAA,SAAb,EAAuBmD,IAAvB,CAA4B,UAACC,CAAD,EAAIhB,CAAJ;EAAA,iBAAU,MAAI,CAACyK,OAAL,GAAe,MAAI,CAACA,OAAL,CAAazJ,CAAC,CAACtE,IAAf,EAAqBsD,CAAC,CAACtD,IAAvB,CAAf,GAA8CsE,CAAC,CAACpD,EAAF,GAAOoC,CAAC,CAACpC,EAAjE;EAAA,SAA5B,EAAiGd,GAAjG,CAAqG,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACa,EAAN;EAAA,SAAtG,CAAR,CAAX,CAAX;EACAqN,QAAAA,OAAO,GAAG,OAAV;EACD;;EAED,UAAIC,OAAO,GAAG,KAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAc5N,KAAd,EAAhB,GAAwCuL,OAAO,CAACnL,CAA9D;EAAA,UACIyN,MAAM,GAAG,KAAKV,MAAL,GAAc,OAAd,GAAwB,QADrC;EAGA,UAAIQ,OAAO,CAAC,CAAD,CAAP,KAAe,KAAK,CAAxB,EAA2BA,OAAO,CAAC,CAAD,CAAP,GAAapC,OAAO,CAACnL,CAAR,CAAU,CAAV,CAAb;EAC3B,UAAIuN,OAAO,CAAC,CAAD,CAAP,KAAe,KAAK,CAAxB,EAA2BA,OAAO,CAAC,CAAD,CAAP,GAAapC,OAAO,CAACnL,CAAR,CAAU,CAAV,CAAb;EAE3B,UAAI0N,QAAQ,GAAG,KAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAe/N,KAAf,EAAjB,GAA0CuL,OAAO,CAACjL,EAAjE;EAAA,UACI0N,OAAO,GAAG,KAAKZ,OAAL,GAAe,OAAf,GAAyB,QADvC;EAGA,UAAIU,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgB,KAAK,CAArC,EAAwCA,QAAQ,CAAC,CAAD,CAAR,GAAcvC,OAAO,CAACjL,EAAR,CAAW,CAAX,CAAd;EACxC,UAAIwN,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgB,KAAK,CAArC,EAAwCA,QAAQ,CAAC,CAAD,CAAR,GAAcvC,OAAO,CAACjL,EAAR,CAAW,CAAX,CAAd;;EAExC,UAAI8K,KAAJ,EAAW;EACTuC,QAAAA,OAAO,GAAGA,OAAO,CAACpO,GAAR,CAAY8L,eAAZ,CAAV;EACAwC,QAAAA,MAAM,GAAG,MAAT;EACD,OAHD,MAIK,IAAI,KAAKlN,SAAL,KAAmB,GAAvB,EAA4B;EAC/BgN,QAAAA,OAAO,GAAG5B,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACqE,IAAL,CAAU,UAACC,CAAD,EAAIhB,CAAJ;EAAA,iBAAU,MAAI,CAAC0K,MAAL,GAAc,MAAI,CAACA,MAAL,CAAY1J,CAAC,CAACtE,IAAd,EAAoBsD,CAAC,CAACtD,IAAtB,CAAd,GAA4CsE,CAAC,CAACrD,CAAF,GAAMqC,CAAC,CAACrC,CAA9D;EAAA,SAAV,EAA2Eb,GAA3E,CAA+E,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACY,CAAN;EAAA,SAAhF,CAAR,CAAX,CAAV;EACAyN,QAAAA,MAAM,GAAG,OAAT;EAEAC,QAAAA,QAAQ,GAAG/B,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQ9M,IAAI,CAACqE,IAAL,CAAU,UAACC,CAAD,EAAIhB,CAAJ;EAAA,iBAAU,MAAI,CAAC2K,OAAL,GAAe,MAAI,CAACA,OAAL,CAAa3J,CAAC,CAACtE,IAAf,EAAqBsD,CAAC,CAACtD,IAAvB,CAAf,GAA8CsE,CAAC,CAACnD,EAAF,GAAOmC,CAAC,CAACnC,EAAjE;EAAA,SAAV,EAA+Ef,GAA/E,CAAmF,UAAAC,CAAC;EAAA,iBAAIA,CAAC,CAACc,EAAN;EAAA,SAApF,CAAR,CAAX,CAAX;EACA0N,QAAAA,OAAO,GAAG,OAAV;EACD;;EAED,UAAI7C,MAAJ,EAAY;EACV2C,QAAAA,QAAQ,GAAGA,QAAQ,CAACvO,GAAT,CAAa8L,eAAb,CAAX;EACA2C,QAAAA,OAAO,GAAG,MAAV;EACD;;EAEDzC,MAAAA,OAAO,GAAG;EAACpL,QAAAA,CAAC,EAAEkN,OAAJ;EAAahN,QAAAA,EAAE,EAAEmN,QAAQ,IAAIH,OAA7B;EAAsCjN,QAAAA,CAAC,EAAEuN,OAAzC;EAAkDrN,QAAAA,EAAE,EAAEwN,QAAQ,IAAIH;EAAlE,OAAV;EAEAnD,MAAAA,IAAI,CAACpI,OAAL,CAAa,UAAAkI,GAAG,EAAI;EAClB,YAAI,MAAI,YAAKA,GAAL,YAAJ,CAAsBvK,MAA1B,EAAkC;EAChC,cAAMP,GAAC,GAAG,MAAI,YAAK8K,GAAL,YAAJ,CAAsBvK,MAAhC;;EACA,cAAI,MAAI,CAACY,SAAL,KAAmB,GAAvB,EAA4BnB,GAAC,CAACS,OAAF;EAC5BsL,UAAAA,OAAO,CAACjB,GAAD,CAAP,GAAe9K,GAAf;EACD,SAJD,MAKK,IAAI8K,GAAG,IAAI,MAAI,CAAC2D,SAAL,KAAmB,KAAK,CAAnC,EAAsC;EACzC,cAAMxL,CAAC,GAAG,MAAI,CAACwL,SAAf;EACA,cAAI1C,OAAO,CAACjB,GAAD,CAAP,IAAgBiB,OAAO,CAACjB,GAAD,CAAP,CAAa,CAAb,IAAkB7H,CAAtC,EAAyC8I,OAAO,CAACjB,GAAD,CAAP,CAAa,CAAb,IAAkB7H,CAAlB,CAAzC,KACK,IAAI8I,OAAO,CAACjB,GAAD,CAAP,IAAgBiB,OAAO,CAACjB,GAAD,CAAP,CAAa,CAAb,IAAkB7H,CAAtC,EAAyC8I,OAAO,CAACjB,GAAD,CAAP,CAAa,CAAb,IAAkB7H,CAAlB;EAC/C;EACF,OAXD;;EAaA,UAAItC,GAAC,GAAGyJ,MAAM,gBAAS2D,MAAT,EAAN,GAA2BxN,MAA3B,CAAkCwL,OAAO,CAACpL,CAA1C,EAA6C+B,KAA7C,CAAmDA,aAAK,CAAC,CAAD,EAAIW,KAAK,GAAG,CAAZ,EAAeA,KAAK,IAAI0I,OAAO,CAACpL,CAAR,CAAU0D,MAAV,GAAmB,CAAvB,CAApB,CAAxD,CAAR;EAAA,UACIxD,EAAE,GAAGuJ,MAAM,gBAAS8D,OAAT,EAAN,GAA4B3N,MAA5B,CAAmCwL,OAAO,CAAClL,EAA3C,EAA+C6B,KAA/C,CAAqDA,aAAK,CAAC,CAAD,EAAIW,KAAK,GAAG,CAAZ,EAAeA,KAAK,IAAI0I,OAAO,CAAClL,EAAR,CAAWwD,MAAX,GAAoB,CAAxB,CAApB,CAA1D,CADT;EAAA,UAEIzD,GAAC,GAAGwJ,MAAM,gBAASiE,MAAT,EAAN,GAA2B9N,MAA3B,CAAkCwL,OAAO,CAACnL,CAAR,CAAUH,OAAV,EAAlC,EAAuDiC,KAAvD,CAA6DA,aAAK,CAAC,CAAD,EAAIS,MAAM,GAAG,CAAb,EAAgBA,MAAM,IAAI4I,OAAO,CAACnL,CAAR,CAAUyD,MAAV,GAAmB,CAAvB,CAAtB,CAAlE,CAFR;EAAA,UAGIvD,EAAE,GAAGsJ,MAAM,gBAASoE,OAAT,EAAN,GAA4BjO,MAA5B,CAAmCwL,OAAO,CAACjL,EAAR,CAAWL,OAAX,EAAnC,EAAyDiC,KAAzD,CAA+DA,aAAK,CAAC,CAAD,EAAIS,MAAM,GAAG,CAAb,EAAgBA,MAAM,IAAI4I,OAAO,CAACjL,EAAR,CAAWuD,MAAX,GAAoB,CAAxB,CAAtB,CAApE,CAHT;;EAKA,UAAMqK,SAAS,GAAGhN,iBAAI,GACnBC,GADe,CACX,UAAA3B,CAAC;EAAA,eAAIA,CAAC,CAACgK,KAAN;EAAA,OADU,EAEfpI,OAFe,CAEPjC,IAFO,EAGfqE,IAHe,CAGV,UAACC,CAAD,EAAIhB,CAAJ;EAAA,eAAU,MAAI,CAACmE,UAAL,CAAgBnD,CAAC,CAACtC,GAAlB,EAAuBsB,CAAC,CAACtB,GAAzB,CAAV;EAAA,OAHU,CAAlB;EAKA,UAAMT,QAAQ,GAAG,KAAKC,SAAL,KAAmB,GAAnB,GAAyBkN,MAAzB,GAAkCN,MAAnD;;EACA,UAAI,KAAK5F,QAAL,CAAczI,KAAd,KAAwB,KAAxB,IAAiC,KAAKkJ,QAAL,CAAclJ,KAAd,KAAwB,KAAzD,IAAkEwB,QAAQ,KAAK,OAAnF,EAA4F;EAC1FwN,QAAAA,SAAS,CAAC9L,OAAV,CAAkB,UAAA5C,CAAC,EAAI;EACrB,cAAI,MAAI,CAAC4E,OAAL,CAAa5E,CAAC,CAAC2B,GAAf,CAAJ,EAAyB;EACvB,gBAAMgN,GAAG,GAAG,MAAI,CAAC/J,OAAL,CAAa5E,CAAC,CAAC2B,GAAf,EAAoBmF,IAApB,CAAyB,MAAzB,EAA+B;EAACnH,cAAAA,IAAI,EAAEK,CAAC,CAAC6B,MAAT;EAAiBlB,cAAAA,CAAC,EAADA,GAAjB;EAAoBC,cAAAA,CAAC,EAADA,GAApB;EAAuB0B,cAAAA,MAAM,EAAE,MAAI,CAACuD,YAAL,CAAkB7F,CAAC,CAAC2B,GAApB;EAA/B,aAA/B,CAAZ;;EACA,gBAAI,MAAI,CAACwG,QAAL,CAAczI,KAAd,KAAwB,KAA5B,EAAmCiB,GAAC,GAAGgO,GAAG,CAAC,CAAD,CAAP;EACnC,gBAAI,MAAI,CAAC/F,QAAL,CAAclJ,KAAd,KAAwB,KAA5B,EAAmCkB,GAAC,GAAG+N,GAAG,CAAC,CAAD,CAAP;;EACnC,gBAAMC,IAAI,GAAG,MAAI,CAAChK,OAAL,CAAa5E,CAAC,CAAC2B,GAAf,EAAoBmF,IAApB,CAAyB,MAAzB,EAA+B;EAACnH,cAAAA,IAAI,EAAEK,CAAC,CAAC6B,MAAT;EAAiBlB,cAAAA,CAAC,EAAEE,EAApB;EAAwBD,cAAAA,CAAC,EAAEE,EAA3B;EAA+BD,cAAAA,EAAE,EAAE,IAAnC;EAAyCC,cAAAA,EAAE,EAAE,IAA7C;EAAmDwB,cAAAA,MAAM,EAAE,MAAI,CAACuD,YAAL,CAAkB7F,CAAC,CAAC2B,GAApB;EAA3D,aAA/B,CAAb;;EACA,gBAAI,MAAI,CAAC6G,SAAL,CAAe9I,KAAf,KAAyB,KAA7B,EAAoCmB,EAAE,GAAG+N,IAAI,CAAC,CAAD,CAAT;EACpC,gBAAI,MAAI,CAACzF,SAAL,CAAezJ,KAAf,KAAyB,KAA7B,EAAoCoB,EAAE,GAAG8N,IAAI,CAAC,CAAD,CAAT;EACrC;EACF,SATD;EAUD;;EACDf,MAAAA,OAAO,GAAGlN,GAAC,CAACJ,MAAF,EAAV;EACAyN,MAAAA,QAAQ,GAAGnN,EAAE,CAACN,MAAH,EAAX;EACA4N,MAAAA,OAAO,GAAGvN,GAAC,CAACL,MAAF,EAAV;EACA+N,MAAAA,QAAQ,GAAGxN,EAAE,CAACP,MAAH,EAAX;EAEA,UAAMsO,aAAa,GAAG;EACpBC,QAAAA,SAAS,EAAE;EAAC,0BAAgB;EAAjB,SADS;EAEpB5G,QAAAA,QAAQ,EAAE,CAFU;EAGpB6G,QAAAA,MAAM,EAAE,EAHY;EAIpBC,QAAAA,KAAK,EAAE,KAJa;EAKpBC,QAAAA,QAAQ,EAAE;EALU,OAAtB;EAQA,UAAMC,eAAe,GAAG3E,QAAQ,GAAG,EAAH,GAAQsE,aAAxC;EACA,UAAMM,eAAe,GAAG1E,QAAQ,GAAG,EAAH,GAAQoE,aAAxC;EACA,UAAMO,KAAK,GAAG,KAAKjO,SAAL,KAAmB,GAAnB,IAA0B,KAAKkK,MAAL,GAAc,KAAK3F,eAA7C,IAAgE,KAAK2F,MAAL,GAAc,KAAKjD,QAAjG;EACA,UAAMiH,KAAK,GAAG,KAAKlO,SAAL,KAAmB,GAAnB,IAA0B,KAAKuJ,OAAL,GAAe,KAAKhF,eAA9C,IAAiE,KAAKgF,OAAL,GAAe,KAAK3B,QAAnG;EAEA,UAAMuG,EAAE,GAAG;EACTzG,QAAAA,UAAU,EAAE;EAAC9B,UAAAA,MAAM,EAAE,CAAC,KAAK5F,SAAN,IAAmB,KAAKA,SAAL,KAAmB,GAAtC,GAA4C,KAAKwH,MAAL,CAAYE,UAAZ,GAAyB9B,MAArE,GAA8E;EAAvF,SADH;EAETwI,QAAAA,MAAM,EAAE,KAAKC,OAFJ;EAGTC,QAAAA,YAAY,EAAE7O,GAAC,CAACf,OAAF,GAAYe,GAAC,CAACf,OAAF,EAAZ,GAA0B;EAH/B,OAAX;;EAKA,UAAI,CAACuP,KAAL,EAAY;EACVE,QAAAA,EAAE,CAACR,SAAH,GAAe;EAAC/H,UAAAA,MAAM,EAAE;EAAT,SAAf;EACAuI,QAAAA,EAAE,CAACL,QAAH,GAAc,CAAd;EACAK,QAAAA,EAAE,CAACI,WAAH,GAAiB;EACfC,UAAAA,WAAW,EAAE,qBAAC3P,CAAD,EAAII,CAAJ,EAAU;EAAA,iCACFJ,CAAC,CAAC2P,WADA;EAAA,gBACdtM,KADc,kBACdA,KADc;EAAA,gBACPzC,CADO,kBACPA,CADO;EAErB,gBAAMuC,MAAM,GAAG,MAAI,CAACuH,OAAL,GAAe,CAA9B;EACA,gBAAM/J,CAAC,GAAGP,CAAC,GAAG,CAAC+C,MAAJ,GAAa,CAAxB;EACA,mBAAO;EAACxC,cAAAA,CAAC,EAADA,CAAD;EAAIC,cAAAA,CAAC,EAADA,CAAJ;EAAOyC,cAAAA,KAAK,EAALA,KAAP;EAAcF,cAAAA,MAAM,EAANA;EAAd,aAAP;EACD,WANc;EAOf+C,UAAAA,WAAW,EAAE;EACXrG,YAAAA,OAAO,EAAE,CADE;EAEX+P,YAAAA,MAAM,EAAE,CAFG;EAGX/I,YAAAA,aAAa,EAAE,uBAAA7G,CAAC;EAAA,qBAAIA,CAAC,CAAC8I,EAAF,KAAS+G,MAAM,CAAC,CAAD,CAAf,GAAqB,KAArB,GAA6B,QAAjC;EAAA;EAHL,WAPE;EAYfC,UAAAA,aAAa,EAAE;EAZA,SAAjB;EAcD;;EAED,UAAMC,SAAS,GAAGC,iBAAI,CAAC,oBAAD,EAAuB;EAACC,QAAAA,KAAK,EAAE;EAACC,UAAAA,OAAO,EAAE;EAAV,SAAR;EAAsBjF,QAAAA,MAAM,EAAE,KAAKC;EAAnC,OAAvB,CAAtB;EAAA,UACMiF,OAAO,GAAG,KAAKhP,SAAL,KAAmB,GAAnB,IAA0B,CAACqK,MAA3B,GAAoCO,OAAO,CAAClL,EAA5C,GAAiD2F,SADjE;EAAA,UAEM4J,MAAM,GAAG,CAACf,KAAD,GAASlF,cAAM,CAAC4B,OAAO,CAACpL,CAAT,CAAf,GAA6B,KAAKQ,SAAL,KAAmB,GAAnB,IAA0B,CAACuK,KAA3B,GAAmCK,OAAO,CAACpL,CAA3C,GAA+C6F,SAF3F;EAAA,UAGM6J,OAAO,GAAG,KAAKlP,SAAL,KAAmB,GAAnB,IAA0B,CAACwK,MAA3B,GAAoCI,OAAO,CAACjL,EAA5C,GAAiD0F,SAHjE;EAAA,UAIMqJ,MAAM,GAAG,CAACT,KAAD,GAASjF,cAAM,CAAC4B,OAAO,CAACnL,CAAT,CAAf,GAA6B,KAAKO,SAAL,KAAmB,GAAnB,IAA0B,CAACyK,KAA3B,GAAmCG,OAAO,CAACnL,CAA3C,GAA+C4F,SAJ3F;;EAMA,UAAI6I,KAAJ,EAAW;EACT,aAAK1G,MAAL,CACGpI,MADH,CACU4N,OADV,EAEGhL,MAFH,CAEUA,MAFV,EAGGmN,OAHH,CAGWjN,KAAK,GAAG,CAHnB,EAIGX,KAJH,CAIS,CAAC8D,SAAD,EAAYA,SAAZ,CAJT,EAKG9G,KALH,CAKS2O,MAAM,CAACkC,WAAP,EALT,EAMGC,MANH,CAMUT,SAAS,CAACU,IAAV,EANV,EAOGC,KAPH,CAOSb,MAPT,EAQGxM,KARH,CAQSA,KART,EASGf,MATH,CASUgN,EATV,EAUGhN,MAVH,CAUU,KAAKsG,QAVf,EAWG+H,MAXH;EAYD;;EAED,UAAIC,OAAO,GAAG,KAAKjI,MAAL,CAAYkI,WAAZ,EAAd;;EACA,UAAIC,MAAM,GAAGF,OAAO,CAACvN,KAAR,GAAgBuN,OAAO,CAACvN,KAAR,GAAgB,KAAKsF,MAAL,CAAY9I,OAAZ,EAAhC,GAAwD2G,SAArE;;EAEA,UAAIiE,QAAJ,EAAc;EACZ,aAAKvB,OAAL,CACG3I,MADH,CACU+N,QADV,EAEGnL,MAFH,CAEUA,MAFV,EAGGT,KAHH,CAGS,CAAC8D,SAAD,EAAYA,SAAZ,CAHT,EAIG9G,KAJH,CAIS8O,OAAO,CAAC+B,WAAR,EAJT,EAKGC,MALH,CAKUT,SAAS,CAACU,IAAV,EALV,EAMGC,KANH,CAMSL,OANT,EAOGhN,KAPH,CAOSA,KAPT,EAQGf,MARH,CAQUgN,EARV,EASGhN,MATH,CASU6M,eATV,EAUG7M,MAVH,CAUU,KAAK6G,SAVf,EAWGwH,MAXH;EAYD;;EAED,UAAII,QAAQ,GAAG,KAAK7H,OAAL,CAAa2H,WAAb,EAAf;;EACA,UAAIG,OAAO,GAAGD,QAAQ,CAAC1N,KAAT,GAAiB0N,QAAQ,CAAC1N,KAAT,GAAiB,KAAK6F,OAAL,CAAarJ,OAAb,EAAlC,GAA2D2G,SAAzE;EAEA,UAAMyK,EAAE,GAAG;EACTpI,QAAAA,UAAU,EAAE;EAAC9B,UAAAA,MAAM,EAAE,CAAC,KAAK5F,SAAN,IAAmB,KAAKA,SAAL,KAAmB,GAAtC,GAA4C,KAAK8G,MAAL,CAAYY,UAAZ,GAAyB9B,MAArE,GAA8E;EAAvF,SADH;EAETwI,QAAAA,MAAM,EAAE,KAAKC,OAFJ;EAGTC,QAAAA,YAAY,EAAE9O,GAAC,CAACd,OAAF,GAAYc,GAAC,CAACd,OAAF,EAAZ,GAA0B;EAH/B,OAAX;;EAKA,UAAI,CAACwP,KAAL,EAAY;EACV4B,QAAAA,EAAE,CAACnC,SAAH,GAAe;EAAC/H,UAAAA,MAAM,EAAE;EAAT,SAAf;EACAkK,QAAAA,EAAE,CAAChC,QAAH,GAAc,CAAd;EACAgC,QAAAA,EAAE,CAACvB,WAAH,GAAiB;EACfC,UAAAA,WAAW,EAAE,qBAAC3P,CAAD,EAAII,CAAJ,EAAU;EAAA,kCACDJ,CAAC,CAAC2P,WADD;EAAA,gBACdxM,MADc,mBACdA,MADc;EAAA,gBACNvC,CADM,mBACNA,CADM;EAErB,gBAAMyC,KAAK,GAAG,MAAI,CAACgI,MAAL,GAAc,CAA5B;EACA,gBAAM1K,CAAC,GAAGP,CAAC,GAAG,CAACiD,KAAJ,GAAY,CAAvB;EACA,mBAAO;EAAC1C,cAAAA,CAAC,EAADA,CAAD;EAAIC,cAAAA,CAAC,EAADA,CAAJ;EAAOyC,cAAAA,KAAK,EAALA,KAAP;EAAcF,cAAAA,MAAM,EAANA;EAAd,aAAP;EACD,WANc;EAOf+C,UAAAA,WAAW,EAAE;EACXrG,YAAAA,OAAO,EAAE,CADE;EAEX+P,YAAAA,MAAM,EAAE,CAFG;EAGXhJ,YAAAA,UAAU,EAAE,oBAAA5G,CAAC;EAAA,qBAAIA,CAAC,CAAC8I,EAAF,KAASsH,MAAM,CAAC,CAAD,CAAf,GAAqB,OAArB,GAA+B,KAAnC;EAAA;EAHF,WAPE;EAYfN,UAAAA,aAAa,EAAE;EAZA,SAAjB;EAcD;;EAED,UAAIV,KAAJ,EAAW;EACT,aAAKnH,MAAL,CACG1H,MADH,CACUsN,OADV,EAEG1K,MAFH,CAEUA,MAFV,EAGGmN,OAHH,CAGWnN,MAAM,GAAG,CAHpB,EAIGT,KAJH,CAIS,CAAC8D,SAAD,EAAYA,SAAZ,CAJT,EAKG9G,KALH,CAKSqO,MAAM,CAACwC,WAAP,EALT,EAMGC,MANH,CAMUT,SAAS,CAACU,IAAV,EANV,EAOGC,KAPH,CAOSN,MAPT,EAQG/M,KARH,CAQSA,KART,EASGf,MATH,CASU2O,EATV,EAUG3O,MAVH,CAUU,KAAK6F,QAVf,EAWGwI,MAXH;EAYD;;EAED,UAAIpG,QAAJ,EAAc;EACZ,aAAKhC,OAAL,CACGhI,MADH,CACUyN,QADV,EAEG7K,MAFH,CAEUA,MAFV,EAGGT,KAHH,CAGS,CAAC8D,SAAD,EAAYA,SAAZ,CAHT,EAIG9G,KAJH,CAISwO,OAAO,CAACqC,WAAR,EAJT,EAKGC,MALH,CAKUT,SAAS,CAACU,IAAV,EALV,EAMGC,KANH,CAMSP,OANT,EAOG9M,KAPH,CAOSA,KAPT,EAQGf,MARH,CAQU2O,EARV,EASGhC,QATH,CASY,CATZ,EAUG3M,MAVH,CAUU4M,eAVV,EAWG5M,MAXH,CAWU,KAAKkG,SAXf,EAYGmI,MAZH;EAaD;;EAED,UAAMO,UAAU,GAAG,KAAKjJ,MAAL,CAAYkJ,SAAZ,EAAnB;;EACA,UAAMC,WAAW,GAAG,KAAK7I,OAAL,CAAa4I,SAAb,EAApB;;EAEA,UAAME,QAAQ,GAAG,KAAK9I,OAAL,CAAasI,WAAb,EAAjB;;EACA,UAAMS,QAAQ,GAAG/G,QAAQ,GAAG8G,QAAQ,CAAClO,MAAT,GAAkB,KAAKoF,OAAL,CAAa1I,OAAb,EAArB,GAA8C,CAAvE;EAEA,UAAI0R,WAAW,GAAGtP,WAAG,CAAC,CAAC6O,MAAD,EAASI,UAAU,CAAC,CAAD,CAAnB,EAAwBE,WAAW,CAAC,CAAD,CAAnC,CAAD,CAArB;;EAEA,UAAIhC,KAAJ,EAAW;EACT,aAAKnH,MAAL,CACGvF,KADH,CACS,CAAC6O,WAAD,EAAc/K,SAAd,CADT,EAEGmK,MAFH;EAGD;;EAED,UAAMa,SAAS,GAAGnC,KAAK,GAAG,KAAK1G,MAAL,CAAY+G,WAAZ,GAA0BxJ,WAA1B,CAAsCuL,QAAtC,KAAmD,CAAtD,GAA0D,CAAjF;EAEA,UAAIC,YAAY,GAAGzP,WAAG,CAAC,CAAC+O,OAAD,EAAU3N,KAAK,GAAG6N,UAAU,CAAC,CAAD,CAA5B,EAAiC7N,KAAK,GAAG+N,WAAW,CAAC,CAAD,CAApD,CAAD,CAAtB;;EACA,UAAMO,OAAO,GAAG,KAAK1J,MAAL,CAAY4I,WAAZ,EAAhB;;EACA,UAAMe,OAAO,GAAGD,OAAO,CAACxO,MAAR,IAAkBkM,KAAK,GAAG,KAAKpH,MAAL,CAAYpI,OAAZ,EAAH,GAA2B,CAAlD,CAAhB;EAEA,WAAKgS,QAAL,CAAcvG,IAAd,IAAsBiG,WAAtB;EACA,WAAKM,QAAL,CAActG,KAAd,IAAuBmG,YAAvB;EACA,WAAKG,QAAL,CAAchH,MAAd,IAAwB+G,OAAxB;EACA,WAAKC,QAAL,CAAcjH,GAAd,IAAqB0G,QAAQ,GAAGE,SAAhC;;EAEA,sEAAYpI,QAAZ;;EAEA,UAAM0I,gBAAgB,GAAG,KAAKnH,OAAL,CAAaW,IAAb,GAAoB,KAAKX,OAAL,CAAaY,KAA1D;EACA,UAAMwG,cAAc,GAAG,KAAKpH,OAAL,CAAaC,GAAb,GAAmB,KAAKD,OAAL,CAAaE,MAAvD;EACA,UAAImH,MAAM,GAAG,CAACV,QAAD,EAAWnO,MAAM,IAAIyO,OAAO,GAAGJ,SAAV,GAAsBO,cAA1B,CAAjB,CAAb;;EAEA,UAAI1C,KAAJ,EAAW;EACT,aAAK1G,MAAL,CACGpI,MADH,CACU4N,OADV,EAEGhL,MAFH,CAEUA,MAFV,EAGGmN,OAHH,CAGWjN,KAAK,GAAG,CAHnB,EAIGX,KAJH,CAISsP,MAJT,EAKGtS,KALH,CAKS2O,MAAM,CAACkC,WAAP,EALT,EAMGC,MANH,CAMUT,SAAS,CAACU,IAAV,EANV,EAOGC,KAPH,CAOSb,MAPT,EAQGxM,KARH,CAQSA,KART,EASGf,MATH,CASUgN,EATV,EAUGhN,MAVH,CAUU,KAAKsG,QAVf,EAWG+H,MAXH;EAYD;;EAEDC,MAAAA,OAAO,GAAG,KAAKjI,MAAL,CAAYkI,WAAZ,EAAV;EACAC,MAAAA,MAAM,GAAGF,OAAO,CAACvN,KAAR,GAAgBuN,OAAO,CAACvN,KAAR,GAAgB,KAAKsF,MAAL,CAAY9I,OAAZ,EAAhC,GAAwD2G,SAAjE;EACA+K,MAAAA,WAAW,GAAGtP,WAAG,CAAC,CAAC6O,MAAD,EAASI,UAAU,CAAC,CAAD,CAAnB,EAAwBE,WAAW,CAAC,CAAD,CAAnC,CAAD,CAAjB;;EAEA,UAAI3G,QAAJ,EAAc;EACZ,aAAKvB,OAAL,CACG5G,MADH,CACUgN,EADV,EAEG/O,MAFH,CAEU+N,QAFV,EAGGpG,QAHH,CAGY,CAHZ,EAIG/E,MAJH,CAIUA,MAJV,EAKGT,KALH,CAKSsP,MALT,EAMGtS,KANH,CAMS8O,OAAO,CAAC+B,WAAR,EANT,EAOGC,MAPH,CAOUT,SAAS,CAACU,IAAV,EAPV,EAQGpN,KARH,CAQSA,KAAK,GAAGpB,WAAG,CAAC,CAAC,CAAD,EAAIyP,YAAY,GAAGV,OAAnB,CAAD,CARpB,EASGhC,KATH,CASS,KATT,EAUG1M,MAVH,CAUU,KAAK6G,SAVf,EAWG7G,MAXH,CAWU6M,eAXV,EAYGwB,MAZH;EAaD;;EAEDI,MAAAA,QAAQ,GAAG,KAAK7H,OAAL,CAAa2H,WAAb,EAAX;EACAG,MAAAA,OAAO,GAAGD,QAAQ,CAAC1N,KAAT,GAAiB0N,QAAQ,CAAC1N,KAAT,GAAiB,KAAK6F,OAAL,CAAarJ,OAAb,EAAlC,GAA2D2G,SAArE;EACAkL,MAAAA,YAAY,GAAGzP,WAAG,CAAC,CAAC,CAAD,EAAI+O,OAAJ,EAAa3N,KAAK,GAAG6N,UAAU,CAAC,CAAD,CAA/B,EAAoC7N,KAAK,GAAG+N,WAAW,CAAC,CAAD,CAAvD,CAAD,CAAlB;EACA,UAAMa,MAAM,GAAG,CAACV,WAAD,EAAclO,KAAK,IAAIqO,YAAY,GAAGI,gBAAnB,CAAnB,CAAf;EAEA,UAAMI,SAAS,GAAGlC,iBAAI,CAAC,0BAAD,EAA6B;EAAC/E,QAAAA,MAAM,EAANA,MAAD;EAASE,QAAAA,UAAU,EAAVA;EAAT,OAA7B,CAAtB;EAEA,UAAMgH,SAAS,uBAAgB,KAAKxH,OAAL,CAAaW,IAA7B,eAAsC,KAAKX,OAAL,CAAaC,GAAb,GAAmB0G,QAAnB,GAA8BE,SAApE,MAAf;EACA,UAAMY,WAAW,uBAAgB,KAAKzH,OAAL,CAAaW,IAA7B,eAAsC,KAAKX,OAAL,CAAaC,GAAb,GAAmB4G,SAAzD,MAAjB;EAEA,UAAMa,MAAM,GAAGjD,KAAK,IAAIY,iBAAI,CAAC,sBAAD,EAAyB;EAAC/E,QAAAA,MAAM,EAANA,MAAD;EAASE,QAAAA,UAAU,EAAVA,UAAT;EAAqB8E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAATA;EAAD,SAA5B;EAAyCG,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAATA;EAAD;EAAjD,OAAzB,CAA5B;EACA,UAAMI,OAAO,GAAGhI,QAAQ,IAAIyF,iBAAI,CAAC,uBAAD,EAA0B;EAAC/E,QAAAA,MAAM,EAANA,MAAD;EAASE,QAAAA,UAAU,EAAVA,UAAT;EAAqB8E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAAEC;EAAZ,SAA5B;EAAsDE,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAAEC;EAAZ;EAA9D,OAA1B,CAAhC;EAEA,UAAMI,MAAM,GAAGjB,WAAW,GAAGT,MAAd,GAAuBS,WAAW,GAAGT,MAArC,GAA8C,CAA7D;EACA,UAAM2B,UAAU,uBAAgB,KAAK9H,OAAL,CAAaW,IAAb,GAAoBkH,MAApC,eAA+C,KAAK7H,OAAL,CAAaC,GAAb,GAAmB4G,SAAlE,MAAhB;EACA,UAAMkB,MAAM,GAAGrD,KAAK,IAAIW,iBAAI,CAAC,sBAAD,EAAyB;EAAC/E,QAAAA,MAAM,EAANA,MAAD;EAASE,QAAAA,UAAU,EAAVA,UAAT;EAAqB8E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAAEM;EAAZ,SAA5B;EAAqDH,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAAEM;EAAZ;EAA7D,OAAzB,CAA5B;EAEA,UAAME,WAAW,wBAAiB,KAAKhI,OAAL,CAAaY,KAA9B,eAAwC,KAAKZ,OAAL,CAAaC,GAAb,GAAmB4G,SAA3D,MAAjB;EACA,UAAMoB,OAAO,GAAGnI,QAAQ,IAAIuF,iBAAI,CAAC,uBAAD,EAA0B;EAAC/E,QAAAA,MAAM,EAANA,MAAD;EAASE,QAAAA,UAAU,EAAVA,UAAT;EAAqB8E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAAEQ;EAAZ,SAA5B;EAAsDL,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAAEQ;EAAZ;EAA9D,OAA1B,CAAhC;;EAEA,WAAK7K,MAAL,CACGvH,MADH,CACUsN,OADV,EAEG1K,MAFH,CAEUA,MAAM,IAAImO,QAAQ,GAAGE,SAAX,GAAuBO,cAA3B,CAFhB,EAGGzB,OAHH,CAGWnN,MAAM,GAAG,CAHpB,EAIGT,KAJH,CAISuP,MAJT,EAKGvS,KALH,CAKSqO,MAAM,CAACwC,WAAP,EALT,EAMGC,MANH,CAMUpB,KAAK,GAAGiD,MAAM,CAAC5B,IAAP,EAAH,GAAmBjK,SANlC,EAOGkK,KAPH,CAOSN,MAPT,EAQG/M,KARH,CAQSA,KART,EASGf,MATH,CASU2O,EATV,EAUG3O,MAVH,CAUU,KAAK6F,QAVf,EAWGwI,MAXH;;EAaA,UAAIpG,QAAJ,EAAc;EACZ,aAAKlC,OAAL,CACG9H,MADH,CACUyN,QADV,EAEG7K,MAFH,CAEUA,MAAM,IAAIyO,OAAO,GAAGJ,SAAV,GAAsBO,cAA1B,CAFhB,EAGGrP,KAHH,CAGSuP,MAHT,EAIGvS,KAJH,CAISwO,OAAO,CAACqC,WAAR,EAJT,EAKGC,MALH,CAKU+B,OAAO,CAAC9B,IAAR,EALV,EAMGC,KANH,CAMSP,OANT,EAOG9M,KAPH,CAOSA,KAPT,EAQGf,MARH,CAQU2O,EARV,EASG3O,MATH,CASU4M,eATV,EAUG5M,MAVH,CAUU,KAAKkG,SAVf,EAWGmI,MAXH;EAYD;;EAEDhQ,MAAAA,GAAC,GAAG,WAACX,CAAD,EAAIW,EAAJ,EAAU;EACZ,YAAIA,EAAC,KAAK,IAAV,EAAgB;EACd,cAAI,MAAI,CAAC6H,SAAL,CAAe9I,KAAf,KAAyB,KAAzB,IAAkCM,CAAC,KAAK,CAA5C,EAA+CA,CAAC,GAAGgO,QAAQ,CAAC,CAAD,CAAR,GAAc,CAAd,GAAkB,CAAC,CAAnB,GAAuB,CAA3B;EAC/C,iBAAO,MAAI,CAAC3F,OAAL,CAAawK,YAAb,CAA0B/L,IAA1B,CAA+B,MAAI,CAACuB,OAApC,EAA6CrI,CAA7C,CAAP;EACD,SAHD,MAIK;EACH,cAAI,MAAI,CAACmI,QAAL,CAAczI,KAAd,KAAwB,KAAxB,IAAiCM,CAAC,KAAK,CAA3C,EAA8CA,CAAC,GAAG6N,OAAO,CAAC,CAAD,CAAP,GAAa,CAAb,GAAiB,CAAC,CAAlB,GAAsB,CAA1B;EAC9C,iBAAO,MAAI,CAAC/F,MAAL,CAAY+K,YAAZ,CAAyB/L,IAAzB,CAA8B,MAAI,CAACgB,MAAnC,EAA2C9H,CAA3C,CAAP;EACD;EACF,OATD;;EAWAgS,MAAAA,MAAM,GAAG,CAAC,KAAKlK,MAAL,CAAY+I,WAAZ,GAA0BjQ,CAA1B,GAA8B0Q,QAA/B,EAAyCnO,MAAM,IAAIyO,OAAO,GAAGJ,SAAV,GAAsBO,cAA1B,CAA/C,CAAT;;EAEA,WAAKtJ,MAAL,CACGlI,MADH,CACU4N,OADV,EAEGhL,MAFH,CAEUA,MAFV,EAGGmN,OAHH,CAGWjN,KAAK,GAAG,CAHnB,EAIGX,KAJH,CAISsP,MAJT,EAKGtS,KALH,CAKS2O,MAAM,CAACkC,WAAP,EALT,EAMGC,MANH,CAMUnB,KAAK,GAAGqD,MAAM,CAACjC,IAAP,EAAH,GAAmBjK,SANlC,EAOGkK,KAPH,CAOSb,MAPT,EAQGxM,KARH,CAQS4O,MAAM,CAACA,MAAM,CAAC5N,MAAP,GAAgB,CAAjB,CARf,EASG/B,MATH,CASUgN,EATV,EAUGhN,MAVH,CAUU,KAAKsG,QAVf,EAWG+H,MAXH;;EAaA,UAAIlG,QAAJ,EAAc;EACZ,aAAKzB,OAAL,CACG1G,MADH,CACUgN,EADV,EAEG/O,MAFH,CAEUkK,QAAQ,GAAG6D,QAAH,GAAcH,OAFhC,EAGGjG,QAHH,CAGY,CAHZ,EAIG/E,MAJH,CAIUA,MAJV,EAKGT,KALH,CAKSsP,MALT,EAMGtS,KANH,CAMS+K,QAAQ,GAAG+D,OAAO,CAAC+B,WAAR,EAAH,GAA2BlC,MAAM,CAACkC,WAAP,EAN5C,EAOGC,MAPH,CAOUoC,OAAO,CAACnC,IAAR,EAPV,EAQGpN,KARH,CAQSA,KAAK,GAAGpB,WAAG,CAAC,CAAC,CAAD,EAAIyP,YAAY,GAAGV,OAAnB,CAAD,CARpB,EASGhC,KATH,CASS,KATT,EAUG1M,MAVH,CAUU,KAAK6G,SAVf,EAWG7G,MAXH,CAWU6M,eAXV,EAYGwB,MAZH;EAaD;;EAED/P,MAAAA,GAAC,GAAG,WAACZ,CAAD,EAAIY,EAAJ,EAAU;EACZ,YAAIA,EAAC,KAAK,IAAV,EAAgB;EACd,cAAI,MAAI,CAACuI,SAAL,CAAezJ,KAAf,KAAyB,KAAzB,IAAkCM,CAAC,KAAK,CAA5C,EAA+CA,CAAC,GAAGsO,QAAQ,CAAC,CAAD,CAAR,GAAc,CAAd,GAAkB,CAAC,CAAnB,GAAuB,CAA3B;EAC/C,iBAAO,MAAI,CAACtF,OAAL,CAAa6J,YAAb,CAA0B/L,IAA1B,CAA+B,MAAI,CAACkC,OAApC,EAA6ChJ,CAA7C,IAAkDsR,QAAzD;EACD,SAHD,MAIK;EACH,cAAI,MAAI,CAAC1I,QAAL,CAAclJ,KAAd,KAAwB,KAAxB,IAAiCM,CAAC,KAAK,CAA3C,EAA8CA,CAAC,GAAGmO,OAAO,CAAC,CAAD,CAAP,GAAa,CAAb,GAAiB,CAAC,CAAlB,GAAsB,CAA1B;EAC9C,iBAAO,MAAI,CAAC1F,MAAL,CAAYoK,YAAZ,CAAyB/L,IAAzB,CAA8B,MAAI,CAAC2B,MAAnC,EAA2CzI,CAA3C,IAAgDsR,QAAvD;EACD;EACF,OATD;;EAWA,UAAIwB,WAAJ,GACGnT,IADH,CACQ,CAAC,EAAD,CADR,EAEG6Q,MAFH,CAEU0B,SAAS,CAACzB,IAAV,EAFV,EAGG9P,CAHH,CAGKsR,MAAM,CAAC,CAAD,CAAN,GAAY,CAACA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAnB,IAA0B,CAH3C,EAIG5O,KAJH,CAIS4O,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAJ3B,EAKGrR,CALH,CAKK,KAAK+J,OAAL,CAAaC,GAAb,GAAmB4G,SAAnB,GAA+BQ,MAAM,CAAC,CAAD,CAArC,GAA2C,CAACA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAnB,IAA0B,CAL1E,EAMG7O,MANH,CAMU6O,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAN5B,EAOG1P,MAPH,CAOU,KAAKkC,iBAPf,EAQGmM,MARH;EAUA,UAAMoC,eAAe,GAAG/C,iBAAI,CAAC,2BAAD,EAA8B;EAAC/E,QAAAA,MAAM,EAANA,MAAD;EAASE,QAAAA,UAAU,EAAVA,UAAT;EAAqB8E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAATA;EAAD,SAA5B;EAAyCG,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAATA;EAAD;EAAjD,OAA9B,CAAJ,CAAiG1B,IAAjG,EAAxB;;EACA,WAAKlM,YAAL,CAAkB3B,OAAlB,CAA0B,UAAAoQ,UAAU,EAAI;EACtC,YAAIF,MAAM,CAACE,UAAU,CAAChJ,KAAZ,CAAV,GACG1H,MADH,CACU0Q,UADV,EAEG1Q,MAFH,CAEU;EACN3B,UAAAA,CAAC,EAAE,WAAAX,CAAC;EAAA,mBAAIA,CAAC,CAACa,EAAF,GAAOF,GAAC,CAACX,CAAC,CAACa,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACX,CAAC,CAACW,CAAH,CAA5B;EAAA,WADE;EAENsS,UAAAA,EAAE,EAAE,MAAI,CAAC9R,SAAL,KAAmB,GAAnB,GAAyB,UAAAnB,CAAC;EAAA,mBAAIA,CAAC,CAACa,EAAF,GAAOF,GAAC,CAACX,CAAC,CAACa,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACX,CAAC,CAACW,CAAH,CAA5B;EAAA,WAA1B,GAA8DA,GAAC,CAACoL,OAAO,CAACpL,CAAR,CAAU,CAAV,CAAD,CAF7D;EAGNuS,UAAAA,EAAE,EAAE,MAAI,CAAC/R,SAAL,KAAmB,GAAnB,GAAyB,IAAzB,GAAgC,UAAAnB,CAAC;EAAA,mBAAIA,CAAC,CAACa,EAAF,GAAOF,GAAC,CAACX,CAAC,CAACa,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACX,CAAC,CAACW,CAAH,CAA5B;EAAA,WAH/B;EAINC,UAAAA,CAAC,EAAE,WAAAZ,CAAC;EAAA,mBAAIA,CAAC,CAACc,EAAF,GAAOF,GAAC,CAACZ,CAAC,CAACc,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACZ,CAAC,CAACY,CAAH,CAA5B;EAAA,WAJE;EAKNuS,UAAAA,EAAE,EAAE,MAAI,CAAChS,SAAL,KAAmB,GAAnB,GAAyB,UAAAnB,CAAC;EAAA,mBAAIA,CAAC,CAACc,EAAF,GAAOF,GAAC,CAACZ,CAAC,CAACc,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACZ,CAAC,CAACY,CAAH,CAA5B;EAAA,WAA1B,GAA8DA,GAAC,CAACmL,OAAO,CAACnL,CAAR,CAAU,CAAV,CAAD,CAAD,GAAkBwS,OAL9E;EAMNC,UAAAA,EAAE,EAAE,MAAI,CAAClS,SAAL,KAAmB,GAAnB,GAAyB,IAAzB,GAAgC,UAAAnB,CAAC;EAAA,mBAAIA,CAAC,CAACc,EAAF,GAAOF,GAAC,CAACZ,CAAC,CAACc,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACZ,CAAC,CAACY,CAAH,CAAD,GAASwS,OAApC;EAAA;EAN/B,SAFV,EAUG5C,MAVH,CAUUuC,eAVV,EAWGpC,MAXH;EAYD,OAbD;;EAeA,UAAIyC,OAAO,GAAG,KAAKtL,MAAL,CAAYgH,SAAZ,GAAwB,cAAxB,CAAd;;EACA,UAAIsE,OAAJ,EAAaA,OAAO,IAAI,CAAX;EAEb,UAAM1D,WAAW,GAAG;EAClBjL,QAAAA,QAAQ,EAAE,KAAK6O,SADG;EAElBtN,QAAAA,KAAK,EAAE,eAAAhG,CAAC;EAAA,iBAAI,MAAI,CAACiG,UAAL,CAAgBjG,CAAC,CAACL,IAAlB,EAAwBK,CAAC,CAACI,CAA1B,CAAJ;EAAA,SAFU;EAGlBoQ,QAAAA,MAAM,EAAER,iBAAI,CAAC,sBAAD,EAAyB;EAAC/E,UAAAA,MAAM,EAANA,MAAD;EAASE,UAAAA,UAAU,EAAVA,UAAT;EAAqB8E,UAAAA,KAAK,EAAE;EAACkC,YAAAA,SAAS,EAATA;EAAD,WAA5B;EAAyCG,UAAAA,MAAM,EAAE;EAACH,YAAAA,SAAS,EAATA;EAAD;EAAjD,SAAzB,CAAJ,CAA4F1B,IAA5F,EAHU;EAIlB9P,QAAAA,CAAC,EAAE,WAAAX,CAAC;EAAA,iBAAIA,CAAC,CAACa,EAAF,GAAOF,GAAC,CAACX,CAAC,CAACa,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACX,CAAC,CAACW,CAAH,CAA5B;EAAA,SAJc;EAKlBsS,QAAAA,EAAE,EAAE,KAAK9R,SAAL,KAAmB,GAAnB,GAAyB,UAAAnB,CAAC;EAAA,iBAAIA,CAAC,CAACa,EAAF,GAAOF,GAAC,CAACX,CAAC,CAACa,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACX,CAAC,CAACW,CAAH,CAA5B;EAAA,SAA1B,GAA8DA,GAAC,CAAC,OAAO,KAAK8N,SAAZ,KAA0B,QAA1B,GAAqC,KAAKA,SAA1C,GAAsD1C,OAAO,CAACpL,CAAR,CAAU,CAAV,CAAvD,CALjD;EAMlBuS,QAAAA,EAAE,EAAE,KAAK/R,SAAL,KAAmB,GAAnB,GAAyB,IAAzB,GAAgC,UAAAnB,CAAC;EAAA,iBAAIA,CAAC,CAACa,EAAF,GAAOF,GAAC,CAACX,CAAC,CAACa,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACX,CAAC,CAACW,CAAH,CAA5B;EAAA,SANnB;EAOlBC,QAAAA,CAAC,EAAE,WAAAZ,CAAC;EAAA,iBAAIA,CAAC,CAACc,EAAF,GAAOF,GAAC,CAACZ,CAAC,CAACc,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACZ,CAAC,CAACY,CAAH,CAA5B;EAAA,SAPc;EAQlBuS,QAAAA,EAAE,EAAE,KAAKhS,SAAL,KAAmB,GAAnB,GAAyB,UAAAnB,CAAC;EAAA,iBAAIA,CAAC,CAACc,EAAF,GAAOF,GAAC,CAACZ,CAAC,CAACc,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACZ,CAAC,CAACY,CAAH,CAA5B;EAAA,SAA1B,GAA8DA,GAAC,CAAC,OAAO,KAAK6N,SAAZ,KAA0B,QAA1B,GAAqC,KAAKA,SAA1C,GAAsD1C,OAAO,CAACnL,CAAR,CAAU,CAAV,CAAvD,CAAD,GAAwEwS,OARxH;EASlBC,QAAAA,EAAE,EAAE,KAAKlS,SAAL,KAAmB,GAAnB,GAAyB,IAAzB,GAAgC,UAAAnB,CAAC;EAAA,iBAAIA,CAAC,CAACc,EAAF,GAAOF,GAAC,CAACZ,CAAC,CAACc,EAAH,EAAO,IAAP,CAAR,GAAuBF,GAAC,CAACZ,CAAC,CAACY,CAAH,CAAD,GAASwS,OAApC;EAAA;EATnB,OAApB;;EAYA,UAAI,KAAK5R,QAAT,EAAmB;EACjB,YAAM9B,KAAK,GAAGoL,GAAG,KAAK,GAAR,GAAcnK,GAAd,GAAkBC,GAAhC;;EACA8O,QAAAA,WAAW,WAAI5E,GAAJ,EAAX,GAAwB4E,WAAW,WAAI5E,GAAJ,OAAX,GAAyB,UAAA9K,CAAC,EAAI;EACpD,cAAMuT,SAAS,GAAGtH,SAAS,CAAC5E,OAAV,CAAkBrH,CAAC,CAAC8I,EAApB,CAAlB;EAAA,cACM0K,aAAa,GAAG1H,YAAY,CAACzE,OAAb,CAAqBrH,CAAC,CAACJ,QAAvB,CADtB;EAEA,iBAAO2T,SAAS,IAAI,CAAb,GAAiB7T,KAAK,CAACsM,SAAS,CAACuH,SAAD,CAAT,CAAqBC,aAArB,EAAoC,CAApC,CAAD,CAAtB,GAAiE9T,KAAK,CAACqM,OAAO,CAACjB,GAAD,CAAP,CAAaA,GAAG,KAAK,GAAR,GAAc,CAAd,GAAkB,CAA/B,CAAD,CAA7E;EACD,SAJD;;EAKA4E,QAAAA,WAAW,WAAI5E,GAAJ,OAAX,GAAyB,UAAA9K,CAAC,EAAI;EAC5B,cAAMuT,SAAS,GAAGtH,SAAS,CAAC5E,OAAV,CAAkBrH,CAAC,CAAC8I,EAApB,CAAlB;EAAA,cACM0K,aAAa,GAAG1H,YAAY,CAACzE,OAAb,CAAqBrH,CAAC,CAACJ,QAAvB,CADtB;EAEA,iBAAO2T,SAAS,IAAI,CAAb,GAAiB7T,KAAK,CAACsM,SAAS,CAACuH,SAAD,CAAT,CAAqBC,aAArB,EAAoC,CAApC,CAAD,CAAtB,GAAiE9T,KAAK,CAACqM,OAAO,CAACjB,GAAD,CAAP,CAAaA,GAAG,KAAK,GAAR,GAAc,CAAd,GAAkB,CAA/B,CAAD,CAA7E;EACD,SAJD;EAKD;;EAED,UAAM2I,MAAM,GAAGC,MAAM,CAAC7P,IAAP,CAAY,KAAK8P,GAAjB,CAAf;EACAjF,MAAAA,SAAS,CAAC9L,OAAV,CAAkB,UAAA5C,CAAC,EAAI;EAErB,YAAM6C,CAAC,GAAG,IAAIiQ,MAAM,CAAC9S,CAAC,CAAC2B,GAAH,CAAV,GAAoBW,MAApB,CAA2BoN,WAA3B,EAAwC/P,IAAxC,CAA6CK,CAAC,CAAC6B,MAA/C,CAAV;;EAEA,YAAI7B,CAAC,CAAC2B,GAAF,KAAU,KAAd,EAAqB;EAEnB,cAAIiS,KAAJ;;EACA,cAAMlU,MAAK,GAAG,MAAI,CAACyB,SAAL,KAAmB,GAAnB,GAAyBR,GAAzB,GAA6BC,GAA3C;;EACA,cAAMiT,SAAS,GAAG,MAAI,CAAC1S,SAAL,KAAmB,GAAnB,GAAyB4M,MAAzB,GAAkCM,MAApD;EACA,cAAMrL,IAAI,GAAG,MAAI,CAAC7B,SAAL,KAAmB,GAAnB,GAAyB0M,OAAzB,GAAmCM,OAAhD;;EACA,cAAMzL,MAAK,GAAG,MAAI,CAACvB,SAAL,KAAmB,GAAnB,GAAyB8Q,MAAzB,GAAkCD,MAAhD;;EACA,cAAI6B,SAAS,KAAK,OAAd,IAAyB7Q,IAAI,CAACqB,MAAL,KAAgB,CAA7C,EAAgD;EAC9CuP,YAAAA,KAAK,GAAG,CAAClU,MAAK,CAACM,CAAC,CAAC6B,MAAF,CAAS,MAAI,CAACV,SAAL,KAAmB,GAAnB,GAAyB,CAAzB,GAA6BnB,CAAC,CAAC6B,MAAF,CAASwC,MAAT,GAAkB,CAAxD,EAA2D,MAAI,CAAClD,SAAhE,CAAD,CAAL,GAAoFzB,MAAK,CAACsD,IAAI,CAAC,CAAD,CAAL,CAA1F,IAAuG,CAA/G;EACD,WAFD,MAGK,IAAIA,IAAI,CAACqB,MAAL,GAAc,CAAlB,EAAqBuP,KAAK,GAAGlU,MAAK,CAACsD,IAAI,CAAC,CAAD,CAAL,CAAL,GAAiBtD,MAAK,CAACsD,IAAI,CAAC,CAAD,CAAL,CAA9B,CAArB,KACA4Q,KAAK,GAAGlR,MAAK,CAACA,MAAK,CAAC2B,MAAN,GAAe,CAAhB,CAAL,GAA0B3B,MAAK,CAAC,CAAD,CAAvC;;EACL,cAAI,MAAI,CAACiD,aAAL,GAAqBiO,KAAzB,EAAgCA,KAAK,IAAI,MAAI,CAACjO,aAAd;EAEhC,cAAImO,OAAO,GAAGF,KAAK,IAAI,CAAvB;EAEA,cAAMG,MAAM,GAAGrS,iBAAI,GAChBC,GADY,CACR,UAAA3B,CAAC;EAAA,mBAAIA,CAAC,CAAC,MAAI,CAACmB,SAAN,CAAL;EAAA,WADO,EAEZQ,GAFY,CAER,UAAA3B,CAAC;EAAA,mBAAIA,CAAC,CAAC2J,KAAN;EAAA,WAFO,EAGZ/H,OAHY,CAGJ5B,CAAC,CAAC6B,MAHE,CAAf;EAKA,cAAM8K,GAAG,GAAGqH,aAAK,CAACD,MAAM,CAAChU,GAAP,CAAW,UAAAC,CAAC;EAAA,mBAAIA,CAAC,CAAC6B,MAAF,CAAS9B,GAAT,CAAa,UAAAgD,CAAC;EAAA,qBAAIA,CAAC,CAACpB,GAAN;EAAA,aAAd,CAAJ;EAAA,WAAZ,CAAD,CAAjB;EACA,cAAMsS,SAAS,GAAG1H,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQE,GAAR,CAAX,CAAlB;;EAEA,cAAI1K,WAAG,CAAC8R,MAAM,CAAChU,GAAP,CAAW,UAAAC,CAAC;EAAA,mBAAIA,CAAC,CAAC6B,MAAF,CAASwC,MAAb;EAAA,WAAZ,CAAD,CAAH,KAA0C,CAA9C,EAAiD;EAC/CxB,YAAAA,CAAC,CAAC,MAAI,CAAC1B,SAAN,CAAD,CAAkB,UAACnB,CAAD,EAAII,CAAJ;EAAA,qBAAUsP,WAAW,CAAC,MAAI,CAACvO,SAAN,CAAX,CAA4BnB,CAA5B,EAA+BI,CAA/B,CAAV;EAAA,aAAlB;EACD,WAFD,MAGK;EAEH0T,YAAAA,OAAO,GAAG,CAACA,OAAO,GAAG,MAAI,CAACnP,WAAL,GAAmBsP,SAAS,CAAC5P,MAAvC,GAAgD,CAAjD,IAAsD4P,SAAS,CAAC5P,MAA1E;EAEA,gBAAM4I,MAAM,GAAG2G,KAAK,GAAG,CAAR,GAAYE,OAAO,GAAG,CAArC;EAEA,gBAAMI,IAAI,GAAG9J,kBAAA,GACV7J,MADU,CACH,CAAC,CAAD,EAAI0T,SAAS,CAAC5P,MAAV,GAAmB,CAAvB,CADG,EAEV3B,KAFU,CAEJ,CAAC,CAACuK,MAAF,EAAUA,MAAV,CAFI,CAAb;;EAIApK,YAAAA,CAAC,CAAC,MAAI,CAAC1B,SAAN,CAAD,CAAkB,UAACnB,CAAD,EAAII,CAAJ;EAAA,qBAAUsP,WAAW,CAAC,MAAI,CAACvO,SAAN,CAAX,CAA4BnB,CAA5B,EAA+BI,CAA/B,IAAoC8T,IAAI,CAACD,SAAS,CAAC5M,OAAV,CAAkBrH,CAAC,CAAC2J,KAApB,CAAD,CAAlD;EAAA,aAAlB;EAED;;EAED9G,UAAAA,CAAC,CAACQ,KAAF,CAAQyQ,OAAR;EACAjR,UAAAA,CAAC,CAACM,MAAF,CAAS2Q,OAAT;EAED,SA5CD,MA6CK,IAAI9T,CAAC,CAAC2B,GAAF,KAAU,MAAd,EAAsB;EAEzBkB,UAAAA,CAAC,CAAC4B,QAAF,CAAWpB,KAAK,GAAG,GAAnB;;EAEA,cAAI,MAAI,CAACwG,WAAT,EAAsB;EACpB,gBAAMsK,UAAU,GAAGT,MAAM,CAAC5N,MAAP,CAAc,EAAd,EAAkB4J,WAAlB,CAAnB;EACA,gBAAM/N,GAAG,GAAG,MAAI,CAACR,SAAL,KAAmB,GAAnB,GAAyB,GAAzB,GAA+B,GAA3C;EACA,gBAAMiT,aAAa,GAAG,MAAI,CAACjT,SAAL,KAAmB,GAAnB,GAAyBP,GAAzB,GAA6BD,GAAnD;;EACAwT,YAAAA,UAAU,WAAIxS,GAAJ,OAAV,GAAwB,UAAA3B,CAAC;EAAA,qBAAIoU,aAAa,CAAC,MAAI,CAACvK,WAAL,CAAiB,CAAjB,IAAsB7J,CAAC,CAAC+J,GAAxB,GAA8B/J,CAAC,CAAC2B,GAAD,CAAhC,CAAjB;EAAA,aAAzB;;EACAwS,YAAAA,UAAU,WAAIxS,GAAJ,OAAV,GAAwB,UAAA3B,CAAC;EAAA,qBAAIoU,aAAa,CAAC,MAAI,CAACvK,WAAL,CAAiB,CAAjB,IAAsB7J,CAAC,CAAC4J,GAAxB,GAA8B5J,CAAC,CAAC2B,GAAD,CAAhC,CAAjB;EAAA,aAAzB;;EAEA,gBAAM0S,IAAI,GAAG,IAAIvB,WAAJ,GAAkBxQ,MAAlB,CAAyB6R,UAAzB,EAAqCxU,IAArC,CAA0CK,CAAC,CAAC6B,MAA5C,CAAb;EACA,gBAAMyS,gBAAgB,GAAGZ,MAAM,CAAC5N,MAAP,CAAc,MAAI,CAACD,YAAnB,EAAiC,MAAI,CAACN,iBAAtC,CAAzB;EACA8O,YAAAA,IAAI,CAAC/R,MAAL,CAAYiS,uBAAU,CAACzN,IAAX,CAAgB,MAAhB,EAAsBwN,gBAAtB,EAAwC,OAAxC,EAAiD,MAAjD,CAAZ,EAAsE3D,MAAtE;;EACA,YAAA,MAAI,CAAC6D,OAAL,CAAazH,IAAb,CAAkBsH,IAAlB;EACD;EAEF;;EAED,YAAMI,WAAW,GAAGhB,MAAM,CAAC1R,MAAP,CAAc,UAAA2S,CAAC;EAAA,iBAAIA,CAAC,CAAC7H,QAAF,YAAe7M,CAAC,CAAC2B,GAAjB,EAAJ;EAAA,SAAf,CAApB;EAAA,YACMgT,YAAY,GAAGlB,MAAM,CAAC1R,MAAP,CAAc,UAAA2S,CAAC;EAAA,iBAAI,CAACA,CAAC,CAAC7H,QAAF,CAAW,GAAX,CAAL;EAAA,SAAf,CADrB;EAAA,YAEM+H,WAAW,GAAGnB,MAAM,CAAC1R,MAAP,CAAc,UAAA2S,CAAC;EAAA,iBAAIA,CAAC,CAAC7H,QAAF,CAAW,QAAX,CAAJ;EAAA,SAAf,CAFpB;;EApEqB,mCAuEZ6H,CAvEY;EAuEyB7R,UAAAA,CAAC,CAACgS,EAAF,CAAKF,YAAY,CAACD,CAAD,CAAjB,EAAsB,UAAA1U,CAAC;EAAA,mBAAI,MAAI,CAAC2T,GAAL,CAASgB,YAAY,CAACD,CAAD,CAArB,EAA0B1U,CAAC,CAACL,IAA5B,EAAkCK,CAAC,CAACI,CAApC,CAAJ;EAAA,WAAvB;EAvEzB;;EAuErB,aAAK,IAAIsU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,YAAY,CAACtQ,MAAjC,EAAyCqQ,CAAC,EAA1C;EAAA,gBAASA,CAAT;EAAA;;EAvEqB,qCAwEZA,CAxEY;EAwEwB7R,UAAAA,CAAC,CAACgS,EAAF,CAAKD,WAAW,CAACF,CAAD,CAAhB,EAAqB,UAAA1U,CAAC;EAAA,mBAAI,MAAI,CAAC2T,GAAL,CAASiB,WAAW,CAACF,CAAD,CAApB,EAAyB1U,CAAC,CAACL,IAA3B,EAAiCK,CAAC,CAACI,CAAnC,CAAJ;EAAA,WAAtB;EAxExB;;EAwErB,aAAK,IAAIsU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,WAAW,CAACvQ,MAAhC,EAAwCqQ,CAAC,EAAzC;EAAA,iBAASA,CAAT;EAAA;;EAxEqB,qCAyEZA,CAzEY;EAyEwB7R,UAAAA,CAAC,CAACgS,EAAF,CAAKJ,WAAW,CAACC,CAAD,CAAhB,EAAqB,UAAA1U,CAAC;EAAA,mBAAI,MAAI,CAAC2T,GAAL,CAASc,WAAW,CAACC,CAAD,CAApB,EAAyB1U,CAAC,CAACL,IAA3B,EAAiCK,CAAC,CAACI,CAAnC,CAAJ;EAAA,WAAtB;EAzExB;;EAyErB,aAAK,IAAIsU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,WAAW,CAACpQ,MAAhC,EAAwCqQ,CAAC,EAAzC;EAAA,iBAASA,CAAT;EAAA;;EAEA,YAAMI,UAAU,GAAGP,uBAAU,CAACzN,IAAX,CAAgB,MAAhB,EAAsB,MAAI,CAACjB,YAA3B,EAAyC,OAAzC,EAAkD7F,CAAC,CAAC2B,GAApD,CAAnB;EACA,YAAI,MAAI,CAACkE,YAAL,CAAkBpB,QAAlB,KAA+B+B,SAAnC,EAA8C,OAAOsO,UAAU,CAACrQ,QAAlB;EAC9C5B,QAAAA,CAAC,CAACP,MAAF,CAASwS,UAAT,EAAqBnE,MAArB;;EAEA,QAAA,MAAI,CAAC6D,OAAL,CAAazH,IAAb,CAAkBlK,CAAlB;EAED,OAjFD;EAmFA,aAAO,IAAP;EAED;EAED;;;;;;;;;kCAMYkS,GAAG;EACb,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKE,YAAL,GAAoBwQ,CAAC,YAAYxI,KAAb,GAAqBwI,CAArB,GAAyB,CAACA,CAAD,CAA7C,EAAkD,IAAtE,IAA8E,KAAKxQ,YAA1F;EACD;EAED;;;;;;;;;uCAMiBwQ,GAAG;EAClB,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKG,iBAAL,GAAyBsB,mBAAM,CAAC,KAAKtB,iBAAN,EAAyBuQ,CAAzB,CAA/B,EAA4D,IAAhF,IAAwF,KAAKvQ,iBAApG;EACD;EAED;;;;;;;;;iCAMWuQ,GAAG;EACZ,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKM,WAAL,GAAmBoQ,CAAnB,EAAsB,IAA1C,IAAkD,KAAKpQ,WAA9D;EACD;EAED;;;;;;;;;+BAMSoQ,GAAG;EACV,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKoK,SAAL,GAAiBsG,CAAjB,EAAoB,IAAxC,IAAgD,KAAKtG,SAA5D;EACD;EAED;;;;;;;;;;;;;;;;iCAcWsG,GAAG;EACZ,UAAIC,SAAS,CAAC3Q,MAAV,IAAoB0Q,CAAC,YAAYxI,KAArC,EAA4C;EAC1C,aAAK1C,WAAL,GAAmB,EAAnB;EACA,YAAMoL,KAAK,GAAGF,CAAC,CAAC,CAAD,CAAf;EACA,aAAKlL,WAAL,CAAiB,CAAjB,IAAsB,OAAOoL,KAAP,KAAiB,UAAjB,IAA+B,CAACA,KAAhC,GAAwCA,KAAxC,GAAgDpN,qBAAQ,CAACoN,KAAD,CAA9E;EACA,YAAMC,KAAK,GAAGH,CAAC,CAAC,CAAD,CAAf;EACA,aAAKlL,WAAL,CAAiB,CAAjB,IAAsB,OAAOqL,KAAP,KAAiB,UAAjB,IAA+B,CAACA,KAAhC,GAAwCA,KAAxC,GAAgDrN,qBAAQ,CAACqN,KAAD,CAA9E;EAEA,eAAO,IAAP;EACD,OARD,MASK,OAAO,KAAKrL,WAAZ;EACN;EAED;;;;;;;;;uCAMiBkL,GAAG;EAClB,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKkB,iBAAL,GAAyBO,mBAAM,CAAC,KAAKP,iBAAN,EAAyBwP,CAAzB,CAA/B,EAA4D,IAAhF,IAAwF,KAAKxP,iBAApG;EACD;EAED;;;;;;;;;+BAMSwP,GAAG;EACV,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKlD,SAAL,GAAiB4T,CAAjB,EAAoB,IAAxC,IAAgD,KAAK5T,SAA5D;EACD;EAED;;;;;;;;;qCAMe4T,GAAG;EAChB,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKqB,eAAL,GAAuBqP,CAAvB,EAA0B,IAA9C,IAAsD,KAAKrP,eAAlE;EACD;EAED;;;;;;;;;mCAMaqP,GAAG;EACd,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKsB,aAAL,GAAqBoP,CAArB,EAAwB,IAA5C,IAAoD,KAAKpP,aAAhE;EACD;EAED;;;;;;;;;gCAMUoP,GAAG;EACX,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK+C,UAAL,GAAkB2N,CAAlB,EAAqB,IAAzC,IAAiD,KAAK3N,UAA7D;EACD;EAED;;;;;;;;;2BAMK2N,GAAG;EACN,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKb,KAAL,GAAa,OAAOuR,CAAP,KAAa,UAAb,IAA2B,CAACA,CAA5B,GAAgCA,CAAhC,GAAoClN,qBAAQ,CAACkN,CAAD,CAAzD,EAA8D,IAAlF,IAA0F,KAAKvR,KAAtG;EACD;EAED;;;;;;;;;8BAMQuR,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKiD,QAAL,GAAgByN,CAAhB,EAAmB,IAAvC,IAA+C,KAAKzN,QAA3D;EACD;EAED;;;;;;;;;8BAMQyN,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKkD,QAAL,GAAgBwN,CAAhB,EAAmB,IAAvC,IAA+C,KAAKxN,QAA3D;EACD;EAED;;;;;;;;;gCAMUwN,GAAG;EACX,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKmD,UAAL,GAAkBuN,CAAlB,EAAqB,IAAzC,IAAiD,KAAKvN,UAA7D;EACD;EAED;;;;;;;;;8BAMQuN,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK7C,QAAL,GAAgBuT,CAAhB,EAAmB,IAAvC,IAA+C,KAAKvT,QAA3D;EACD;EAED;;;;;;;;;kCAMYuT,GAAG;EACb,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKoD,YAAL,GAAoB,OAAOsN,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BhR,OAAO,sBAAegR,CAAC,CAAC1K,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4ByK,CAAC,CAACvU,KAAF,CAAQ,CAAR,CAA3C,EAAzD,EAAmH,IAAvI,IAA+I,KAAKiH,YAA3J;EACD;EAED;;;;;;;;;iCAMWsN,GAAG;EACZ,UAAIC,SAAS,CAAC3Q,MAAd,EAAsB;EACpB,YAAI,OAAO0Q,CAAP,KAAa,QAAjB,EAA2B,KAAKrN,WAAL,GAAmBqN,CAAC,KAAK,WAAN,GAAoBtR,mBAApB,GAA0CsR,CAAC,KAAK,YAAN,GAAqB5Q,oBAArB,GAA4CJ,OAAO,qBAAcgR,CAAC,CAAC1K,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4ByK,CAAC,CAACvU,KAAF,CAAQ,CAAR,CAA1C,EAAhH,CAA3B,KACK,KAAKkH,WAAL,GAAmBqN,CAAnB;EACL,eAAO,IAAP;EACD,OAJD,MAKK,OAAO,KAAKrN,WAAZ;EACN;EAED;;;;;;;;;wBAMEqN,GAAG;EACH,UAAIC,SAAS,CAAC3Q,MAAd,EAAsB;EACpB,YAAI,OAAO0Q,CAAP,KAAa,UAAjB,EAA6B,KAAKxO,EAAL,GAAUwO,CAAV,CAA7B,KACK;EACH,eAAKxO,EAAL,GAAUsB,qBAAQ,CAACkN,CAAD,CAAlB;;EACA,cAAI,CAAC,KAAKI,KAAL,CAAWJ,CAAX,CAAD,IAAkB,KAAK5T,SAAL,KAAmB,GAAzC,EAA8C;EAC5C,iBAAKgU,KAAL,CAAWJ,CAAX,IAAgB,UAAA9Q,CAAC,EAAI;EACnB,kBAAMlB,CAAC,GAAGwJ,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQxI,CAAR,CAAX,CAAV;EACA,qBAAOlB,CAAC,CAACsB,MAAF,KAAa,CAAb,GAAiBtB,CAAC,CAAC,CAAD,CAAlB,GAAwBA,CAA/B;EACD,aAHD;EAID;EACF;EACD,eAAO,IAAP;EACD,OAZD,MAaK,OAAO,KAAKwD,EAAZ;EACN;EAED;;;;;;;;;yBAMGwO,GAAG;EACJ,UAAIC,SAAS,CAAC3Q,MAAd,EAAsB;EACpB,YAAI,OAAO0Q,CAAP,KAAa,UAAjB,EAA6B,KAAKrO,GAAL,GAAWqO,CAAX,CAA7B,KACK;EACH,eAAKrO,GAAL,GAAWmB,qBAAQ,CAACkN,CAAD,CAAnB;;EACA,cAAI,CAAC,KAAKI,KAAL,CAAWJ,CAAX,CAAD,IAAkB,KAAK5T,SAAL,KAAmB,GAAzC,EAA8C;EAC5C,iBAAKgU,KAAL,CAAWJ,CAAX,IAAgB,UAAA9Q,CAAC,EAAI;EACnB,kBAAMlB,CAAC,GAAGwJ,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQxI,CAAR,CAAX,CAAV;EACA,qBAAOlB,CAAC,CAACsB,MAAF,KAAa,CAAb,GAAiBtB,CAAC,CAAC,CAAD,CAAlB,GAAwBA,CAA/B;EACD,aAHD;EAID;EACF;EACD,eAAO,IAAP;EACD,OAZD,MAaK,OAAO,KAAK2D,GAAZ;EACN;EAED;;;;;;;;;8BAMQqO,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK8D,QAAL,GAAgBrC,mBAAM,CAAC,KAAKqC,QAAN,EAAgB4M,CAAhB,CAAtB,EAA0C,IAA9D,IAAsE,KAAK5M,QAAlF;EACD;EAED;;;;;;;;;8BAMQ4M,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK+D,QAAL,GAAgB2M,CAAhB,EAAmB,IAAvC,IAA+C,KAAK3M,QAA3D;EACD;EAED;;;;;;;;;+BAMS2M,GAAG;EACV,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKmE,SAAL,GAAiB1C,mBAAM,CAAC,KAAK0C,SAAN,EAAiBuM,CAAjB,CAAvB,EAA4C,IAAhE,IAAwE,KAAKvM,SAApF;EACD;EAED;;;;;;;;;8BAMQuM,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKyJ,QAAL,GAAgBiH,CAAhB,EAAmB,IAAvC,IAA+C,KAAKjH,QAA3D;EACD;EAED;;;;;;;;;+BAMSiH,GAAG;EACV,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK4J,SAAL,GAAiB8G,CAAjB,EAAoB,IAAxC,IAAgD,KAAK9G,SAA5D;EACD;EAED;;;;;;;;;4BAMM8G,GAAG;EACP,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKoJ,MAAL,GAAcsH,CAAd,EAAiB,IAArC,IAA6C,KAAKtH,MAAzD;EACD;EAED;;;;;;;;;6BAMOsH,GAAG;EACR,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKqJ,OAAL,GAAeqH,CAAf,EAAkB,IAAtC,IAA8C,KAAKrH,OAA1D;EACD;EAED;;;;;;;;;wBAMEqH,GAAG;EACH,UAAIC,SAAS,CAAC3Q,MAAd,EAAsB;EACpB,YAAI,OAAO0Q,CAAP,KAAa,UAAjB,EAA6B,KAAKtO,EAAL,GAAUsO,CAAV,CAA7B,KACK;EACH,eAAKtO,EAAL,GAAUoB,qBAAQ,CAACkN,CAAD,CAAlB;;EACA,cAAI,CAAC,KAAKI,KAAL,CAAWJ,CAAX,CAAD,IAAkB,KAAK5T,SAAL,KAAmB,GAAzC,EAA8C;EAC5C,iBAAKgU,KAAL,CAAWJ,CAAX,IAAgB,UAAA9Q,CAAC,EAAI;EACnB,kBAAMlB,CAAC,GAAGwJ,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQxI,CAAR,CAAX,CAAV;EACA,qBAAOlB,CAAC,CAACsB,MAAF,KAAa,CAAb,GAAiBtB,CAAC,CAAC,CAAD,CAAlB,GAAwBA,CAA/B;EACD,aAHD;EAID;EACF;EACD,eAAO,IAAP;EACD,OAZD,MAaK,OAAO,KAAK0D,EAAZ;EACN;EAED;;;;;;;;;yBAMGsO,GAAG;EACJ,UAAIC,SAAS,CAAC3Q,MAAd,EAAsB;EACpB,YAAI,OAAO0Q,CAAP,KAAa,UAAjB,EAA6B,KAAKpO,GAAL,GAAWoO,CAAX,CAA7B,KACK;EACH,eAAKpO,GAAL,GAAWkB,qBAAQ,CAACkN,CAAD,CAAnB;;EACA,cAAI,CAAC,KAAKI,KAAL,CAAWJ,CAAX,CAAD,IAAkB,KAAK5T,SAAL,KAAmB,IAAzC,EAA+C;EAC7C,iBAAKgU,KAAL,CAAWJ,CAAX,IAAgB,UAAA9Q,CAAC,EAAI;EACnB,kBAAMlB,CAAC,GAAGwJ,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQxI,CAAR,CAAX,CAAV;EACA,qBAAOlB,CAAC,CAACsB,MAAF,KAAa,CAAb,GAAiBtB,CAAC,CAAC,CAAD,CAAlB,GAAwBA,CAA/B;EACD,aAHD;EAID;EACF;EACD,eAAO,IAAP;EACD,OAZD,MAaK,OAAO,KAAK4D,GAAZ;EACN;EAED;;;;;;;;;;8BAQQoO,GAAG;EACT,UAAIC,SAAS,CAAC3Q,MAAd,EAAsB;EACpB,YAAI0Q,CAAC,CAACxU,MAAN,EAAcwU,CAAC,CAACxU,MAAF,GAAWwU,CAAC,CAACxU,MAAF,CAASC,KAAT,GAAiBC,OAAjB,EAAX;EACd,aAAKmI,QAAL,GAAgB9C,mBAAM,CAAC,KAAK8C,QAAN,EAAgBmM,CAAhB,CAAtB;EACA,eAAO,IAAP;EACD;;EACD,aAAO,KAAKnM,QAAZ;EACD;EAED;;;;;;;;;8BAMQmM,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK0E,QAAL,GAAgBgM,CAAhB,EAAmB,IAAvC,IAA+C,KAAKhM,QAA3D;EACD;EAED;;;;;;;;;+BAMSgM,GAAG;EACV,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK8E,SAAL,GAAiBrD,mBAAM,CAAC,KAAKqD,SAAN,EAAiB4L,CAAjB,CAAvB,EAA4C,IAAhE,IAAwE,KAAK5L,SAApF;EACD;EAED;;;;;;;;;8BAMQ4L,GAAG;EACT,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK+J,QAAL,GAAgB2G,CAAhB,EAAmB,IAAvC,IAA+C,KAAK3G,QAA3D;EACD;EAED;;;;;;;;;+BAMS2G,GAAG;EACV,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKkK,SAAL,GAAiBwG,CAAjB,EAAoB,IAAxC,IAAgD,KAAKxG,SAA5D;EACD;EAED;;;;;;;;;4BAMMwG,GAAG;EACP,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKsJ,MAAL,GAAcoH,CAAd,EAAiB,IAArC,IAA6C,KAAKpH,MAAzD;EACD;EAED;;;;;;;;;6BAMOoH,GAAG;EACR,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKuJ,OAAL,GAAemH,CAAf,EAAkB,IAAtC,IAA8C,KAAKnH,OAA1D;EACD;;;;IA9uC+BwH;;ECzDlC;;;;;;;;;;;MAUqBC;;;;;EAEnB;;;;;EAKA,sBAAc;EAAA;;EAAA;;EAEZ;EACA,UAAK5G,SAAL,GAAiB,CAAjB;EACA,UAAKtN,SAAL,GAAiB,GAAjB;EACA,UAAKyE,MAAL,GAAcH,qBAAQ,CAAC,MAAD,CAAtB;;EACA,UAAK9E,CAAL,CAAO,GAAP;;EANY;EAQb;;;IAfmC2D;;ECVtC;;;;;;;;;;;MAUqBgR;;;;;EAEnB;;;;;EAKA,sBAAc;EAAA;;EAAA;;EAEZ;EACA,UAAK7G,SAAL,GAAiB,CAAjB;EACA,UAAKtN,SAAL,GAAiB,GAAjB;EACA,UAAKyE,MAAL,GAAcH,qBAAQ,CAAC,KAAD,CAAtB;;EACA,UAAK9E,CAAL,CAAO,GAAP;;EANY;EAQb;;;IAfmC2D;;ECVtC;;;;;;;;;;MASqBiR;;;;;EAEnB;;;;;EAKA,wBAAc;EAAA;;EAAA;;EAEZ;EACA,UAAKpU,SAAL,GAAiB,GAAjB;EACA,UAAKyE,MAAL,GAAcH,qBAAQ,CAAC,KAAD,CAAtB;;EACA,UAAK9E,CAAL,CAAO,GAAP;;EAEA,UAAK6U,cAAL,GAAsB1P,mBAAM,CAAC,MAAK0P,cAAN,EAAsB;EAChDxG,MAAAA,KAAK,EAAE,eAAChP,CAAD,EAAII,CAAJ,EAAU;EACf,YAAI,CAACJ,CAAL,EAAQ,OAAO,EAAP;;EACR,eAAOA,CAAC,CAAC0J,UAAF,IAAgB1J,CAAC,CAACL,IAAzB,EAA+B;EAC7BK,UAAAA,CAAC,GAAGA,CAAC,CAACL,IAAN;EACAS,UAAAA,CAAC,GAAGJ,CAAC,CAACI,CAAN;EACD;;EACD,YAAI,MAAKqV,MAAT,EAAiB,OAAO,MAAKA,MAAL,CAAYzV,CAAZ,EAAeI,CAAf,CAAP;;EACjB,YAAMsV,CAAC,GAAG,MAAKlM,IAAL,CAAUxJ,CAAV,EAAaI,CAAb,EAAgBI,KAAhB,CAAsB,CAAtB,EAAyB,MAAKsJ,UAA9B,CAAV;;EACA,eAAO4L,CAAC,CAACA,CAAC,CAACrR,MAAF,GAAW,CAAZ,CAAR;EACD;EAV+C,KAAtB,CAA5B;EAPY;EAoBb;;;IA3BqCC;;ECTxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA+BqBqR;;;;;EAEnB;;;;;EAKA,uBAAc;EAAA;;EAAA;;EAEZ;EACA,UAAKxU,SAAL,GAAiB,GAAjB;EACA,UAAKyE,MAAL,GAAcH,qBAAQ,CAAC,MAAD,CAAtB;;EACA,UAAK9E,CAAL,CAAO,GAAP;;EACA,UAAKG,EAAL,CAAQ,UAAAd,CAAC;EAAA,aAAI,MAAKyG,EAAL,CAAQzG,CAAR,CAAJ;EAAA,KAAT;;EAEA,UAAK4V,OAAL,CAAa;EACXC,MAAAA,UAAU,EAAE,oBAAAC,GAAG,EAAI;EACjB,YAAMnW,IAAI,GAAG,MAAKsK,cAAlB;EACA,YAAM8L,IAAI,GAAGpW,IAAI,CAAC,CAAD,CAAJ,CAAQgB,CAAR,YAAqBD,IAArB,GAA4Bf,IAAI,CAAC,CAAD,CAAJ,CAAQgB,CAAR,CAAUqV,OAAV,EAA5B,GAAkDrW,IAAI,CAAC,CAAD,CAAJ,CAAQgB,CAAvE;EACA,YAAMsV,SAAS,GAAGtW,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,iBAAI,CAACA,CAAC,CAACW,CAAF,YAAeD,IAAf,GAAsBV,CAAC,CAACW,CAAF,CAAIqV,OAAJ,EAAtB,GAAsChW,CAAC,CAACW,CAAzC,MAAgDoV,IAApD;EAAA,SAAb,CAAlB;EACA,YAAM/V,CAAC,GAAGiW,SAAS,CAACC,IAAV,CAAe,UAAAlW,CAAC;EAAA,iBAAIA,CAAC,CAACY,CAAF,KAAQkV,GAAZ;EAAA,SAAhB,CAAV;EACA,eAAO9V,CAAC,GAAG,MAAKiG,UAAL,CAAgBjG,CAAhB,EAAmBA,CAAC,CAACI,CAArB,CAAH,GAA6B,EAArC;EACD;EAPU,KAAb;;EASA,UAAK+V,QAAL,CAAc;EACZN,MAAAA,UAAU,EAAE,oBAAAC,GAAG,EAAI;EACjB,YAAMnW,IAAI,GAAG,MAAKsK,cAAlB;EACA,YAAMmM,IAAI,GAAGzW,IAAI,CAACA,IAAI,CAAC0E,MAAL,GAAc,CAAf,CAAJ,CAAsB1D,CAAtB,YAAmCD,IAAnC,GAA0Cf,IAAI,CAACA,IAAI,CAAC0E,MAAL,GAAc,CAAf,CAAJ,CAAsB1D,CAAtB,CAAwBqV,OAAxB,EAA1C,GAA8ErW,IAAI,CAACA,IAAI,CAAC0E,MAAL,GAAc,CAAf,CAAJ,CAAsB1D,CAAjH;EACA,YAAM0V,OAAO,GAAG1W,IAAI,CAACoC,MAAL,CAAY,UAAA/B,CAAC;EAAA,iBAAI,CAACA,CAAC,CAACW,CAAF,YAAeD,IAAf,GAAsBV,CAAC,CAACW,CAAF,CAAIqV,OAAJ,EAAtB,GAAsChW,CAAC,CAACW,CAAzC,MAAgDyV,IAApD;EAAA,SAAb,CAAhB;EACA,YAAMpW,CAAC,GAAGqW,OAAO,CAACH,IAAR,CAAa,UAAAlW,CAAC;EAAA,iBAAIA,CAAC,CAACY,CAAF,KAAQkV,GAAZ;EAAA,SAAd,CAAV;EACA,eAAO9V,CAAC,GAAG,MAAKiG,UAAL,CAAgBjG,CAAhB,EAAmBA,CAAC,CAACI,CAArB,CAAH,GAA6B,EAArC;EACD;EAPW,KAAd;;EASA,UAAKkW,KAAL,CAAW,UAACrS,CAAD,EAAIhB,CAAJ;EAAA,aAAU,MAAKwD,EAAL,CAAQxD,CAAR,IAAa,MAAKwD,EAAL,CAAQxC,CAAR,CAAvB;EAAA,KAAX;;EACA,UAAKsS,MAAL,CAAY,UAACtS,CAAD,EAAIhB,CAAJ;EAAA,aAAU,MAAKwD,EAAL,CAAQxD,CAAR,IAAa,MAAKwD,EAAL,CAAQxC,CAAR,CAAvB;EAAA,KAAZ;;EA3BY;EA4Bb;;;IAnCoCK;;EC/BvC;;;;;;;;;;MASqBkS;;;;;EAEnB;;;;;EAKA,sBAAc;EAAA;;EAAA;;EAEZ;EACA,UAAKrV,SAAL,GAAiB,GAAjB;EACA,UAAKyE,MAAL,GAAcH,qBAAQ,CAAC,MAAD,CAAtB;;EACA,UAAK9E,CAAL,CAAO,GAAP;;EALY;EAOb;;;IAdmC2D;;ECDtC,IAAMmS,GAAG,GAAGC,IAAI,CAACC,EAAL,GAAU,CAAtB;EAEA;;;;;;MAKqBC;;;;;EAEnB;;;;;EAKA,mBAAc;EAAA;;EAAA;;EACZ;EAEA,UAAKC,WAAL,GAAmB;EACjBnH,MAAAA,WAAW,EAAE;EACXhL,QAAAA,IAAI,EAAEe,qBAAQ,CAAC,MAAD,CADH;EAEXS,QAAAA,WAAW,EAAE;EACX4Q,UAAAA,SAAS,EAAE,MADA;EAEXjX,UAAAA,OAAO,EAAE,CAFE;EAGX+G,UAAAA,UAAU,EAAE,oBAAA5G,CAAC;EAAA,mBAAIA,CAAC,CAAC4G,UAAN;EAAA,WAHF;EAIXmQ,UAAAA,YAAY,EAAE,sBAAA/W,CAAC;EAAA,mBAAIA,CAAC,CAACL,IAAF,CAAOoX,YAAX;EAAA,WAJJ;EAKXlQ,UAAAA,aAAa,EAAE;EALJ,SAFF;EASXE,QAAAA,MAAM,EAAE,MATG;EAUXG,QAAAA,WAAW,EAAEzB,qBAAQ,CAAC,CAAD;EAVV;EADI,KAAnB;EAcA,UAAKtE,SAAL,GAAiB,QAAjB;EACA,UAAK6V,OAAL,GAAe,CAAf;EACA,UAAKC,OAAL,GAAepP,qBAAQ,CAAC,QAAD,CAAvB;EACA,UAAKqP,aAAL,GAAqB,GAArB;EACA,UAAKtR,MAAL,GAAcH,qBAAQ,CAAC,MAAD,CAAtB;EACA,UAAK0R,MAAL,GAActP,qBAAQ,CAAC,OAAD,CAAtB;EAtBY;EAuBb;EAED;;;;;;;;4BAIMuB,UAAU;EAAA;;EACd,uEAAYA,QAAZ;;EACA,UAAMjG,MAAM,GAAG,KAAKuH,OAAL,GAAe,KAAKC,OAAL,CAAaC,GAA5B,GAAkC,KAAKD,OAAL,CAAaE,MAA9D;EAAA,UACMxH,KAAK,GAAG,KAAKgI,MAAL,GAAc,KAAKV,OAAL,CAAaW,IAA3B,GAAkC,KAAKX,OAAL,CAAaY,KAD7D;;EAGA,UAAM6L,MAAM,GAAGhV,WAAG,CAAC,CAACe,MAAD,EAASE,KAAT,CAAD,CAAH,GAAuB,CAAvB,GAA2B,KAAK6T,aAA/C;EAAA,UACM/E,SAAS,uBAAgB9O,KAAK,GAAG,CAAxB,eAA8BF,MAAM,GAAG,CAAvC,MADf;;EAGA,UAAMkU,cAAc,GAAG3V,iBAAI,GACtBC,GADkB,CACd,KAAKsV,OADS,EAElBrV,OAFkB,CAEV,KAAKyH,aAFK,CAAvB;EAAA,UAGMiO,eAAe,GAAG5V,iBAAI,GACvBC,GADmB,CACf,KAAKsF,GADU,EAEnBtF,GAFmB,CAEf,KAAKsV,OAFU,EAGnBrV,OAHmB,CAGX,KAAKyH,aAHM,CAHxB;EAQA,UAAMkO,QAAQ,GAAGtV,WAAG,CAACqV,eAAe,CAACvX,GAAhB,CAAoB,UAAAmD,CAAC;EAAA,eAAIA,CAAC,CAACrB,MAAF,CAAS9B,GAAT,CAAa,UAAAC,CAAC;EAAA,iBAAI8B,WAAG,CAAC9B,CAAC,CAAC6B,MAAH,EAAW,UAAClB,CAAD,EAAIP,CAAJ;EAAA,mBAAU,MAAI,CAAC+W,MAAL,CAAYxW,CAAZ,EAAeP,CAAf,CAAV;EAAA,WAAX,CAAP;EAAA,SAAd,CAAJ;EAAA,OAArB,EAAwFoX,IAAxF,EAAD,CAApB;EAEA,UAAMC,YAAY,GAAGlL,KAAK,CAACC,IAAN,CAAWD,KAAK,CAAC,KAAKyK,OAAN,CAAL,CAAoBnT,IAApB,EAAX,EAAuC9D,GAAvC,CAA2C,UAAAC,CAAC;EAAA,eAAK;EACpE8I,UAAAA,EAAE,EAAE9I,CADgE;EAEpE8C,UAAAA,CAAC,EAAEsU,MAAM,IAAI,CAACpX,CAAC,GAAG,CAAL,IAAU,MAAI,CAACgX,OAAnB;EAF2D,SAAL;EAAA,OAA5C,CAArB;EAKA,UAAMU,YAAY,GAAGnD,uBAAU,CAACzN,IAAX,CAAgB,IAAhB,EAAsB,KAAK+P,WAAL,CAAiBnH,WAAvC,EAAoD,OAApD,EAA6D,QAA7D,CAArB;EACA,aAAOgI,YAAY,CAAC1R,KAApB;EAEA,UAAIf,aAAJ,GACGtF,IADH,CACQ8X,YADR,EAEGjH,MAFH,CAGIR,iBAAI,CAAC,+BAAD,EAAkC;EACpC/E,QAAAA,MAAM,EAAE,KAAKC,OADuB;EAEpC+E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAATA;EAAD,SAF6B;EAGpCG,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAATA;EAAD;EAH4B,OAAlC,CAAJ,CAIG1B,IAJH,EAHJ,EASGnO,MATH,CASUoV,YATV,EAUG/G,MAVH;EAYA,UAAMgH,SAAS,GAAGN,cAAc,CAAChT,MAAjC;EACA,UAAMuT,SAAS,GAAGP,cAAc,CAC7BtX,GADe,CACX,UAACC,CAAD,EAAII,CAAJ,EAAU;EACb,YAAMiD,KAAK,GAAG,MAAI,CAAC6T,aAAnB;EACA,YAAMzF,QAAQ,GACZ,MAAI,CAAC5L,YAAL,CAAkBK,WAAlB,CAA8BuL,QAA9B,IACE,MAAI,CAAC5L,YAAL,CAAkBK,WAAlB,CAA8BuL,QAA9B,CAAuCzR,CAAvC,EAA0CI,CAA1C,CADF,IAEA,EAHF;EAKA,YAAMyX,UAAU,GAAGpG,QAAQ,GAAG,GAA9B;EACA,YAAMtO,MAAM,GAAG0U,UAAU,GAAG,CAA5B;EACA,YAAMhY,OAAO,GAAG,EAAhB;EAAA,YACMiY,QAAQ,GAAGC,QAAQ,CAAC,MAAM,MAAMJ,SAAN,GAAkBvX,CAAlB,GAAsB,EAA7B,EAAiC,EAAjC,CAAR,GAA+C,CAA/C,GAAmD,CADpE;EAAA,YAEM4X,OAAO,GAAGvB,GAAG,GAAGkB,SAAN,GAAkBvX,CAFlC;EAIA,YAAI6X,KAAK,GAAG,MAAMN,SAAN,GAAkBvX,CAA9B;EAEA,YAAIwG,UAAU,GAAG,OAAjB;EACA,YAAIjG,CAAC,GAAGd,OAAR;;EAEA,YAAIiY,QAAQ,KAAK,CAAb,IAAkBA,QAAQ,KAAK,CAAnC,EAAsC;EACpCnX,UAAAA,CAAC,GAAG,CAAC0C,KAAD,GAASxD,OAAb;EACA+G,UAAAA,UAAU,GAAG,KAAb;EACAqR,UAAAA,KAAK,IAAI,GAAT;EACD;;EAED,YAAMtI,WAAW,GAAG;EAClBhP,UAAAA,CAAC,EAADA,CADkB;EAElBC,UAAAA,CAAC,EAAE,CAACuC,MAAD,GAAU,CAFK;EAGlBE,UAAAA,KAAK,EAALA,KAHkB;EAIlBF,UAAAA,MAAM,EAANA;EAJkB,SAApB;EAOA,eAAO;EACLuG,UAAAA,UAAU,EAAE,IADP;EAEL/J,UAAAA,IAAI,EAAEqU,kBAAK,CAAChU,CAAC,CAAC6B,MAAH,CAFN;EAGLzB,UAAAA,CAAC,EAADA,CAHK;EAIL0I,UAAAA,EAAE,EAAE9I,CAAC,CAAC2B,GAJD;EAKLsW,UAAAA,KAAK,EAALA,KALK;EAMLrR,UAAAA,UAAU,EAAVA,UANK;EAOL+I,UAAAA,WAAW,EAAXA,WAPK;EAQLoH,UAAAA,YAAY,EAAE,CAAC,CAACpW,CAAF,EAAKwC,MAAM,GAAG,CAAd,CART;EASLxC,UAAAA,CAAC,EAAEyW,MAAM,GAAGV,IAAI,CAACwB,GAAL,CAASF,OAAT,CATP;EAULpX,UAAAA,CAAC,EAAEwW,MAAM,GAAGV,IAAI,CAACyB,GAAL,CAASH,OAAT;EAVP,SAAP;EAYD,OA5Ce,EA6CfhU,IA7Ce,CA6CV,UAACC,CAAD,EAAIhB,CAAJ;EAAA,eAAUgB,CAAC,CAACtC,GAAF,GAAQsB,CAAC,CAACtB,GAApB;EAAA,OA7CU,CAAlB;EA+CA,UAAI0D,WAAJ,GACG1F,IADH,CACQiY,SADR,EAEGhI,MAFH,CAEU,UAAA5P,CAAC;EAAA,eAAIA,CAAC,CAACiY,KAAN;EAAA,OAFX,EAGG5U,KAHH,CAGS,CAHT,EAIGF,MAJH,CAIU,CAJV,EAKGxC,CALH,CAKK,UAAAX,CAAC;EAAA,eAAIA,CAAC,CAACW,CAAN;EAAA,OALN,EAMGC,CANH,CAMK,UAAAZ,CAAC;EAAA,eAAIA,CAAC,CAACY,CAAN;EAAA,OANN,EAOGoF,KAPH,CAOS,UAAAhG,CAAC;EAAA,eAAIA,CAAC,CAAC8I,EAAN;EAAA,OAPV,EAQG6G,WARH,CAQe,UAAA3P,CAAC;EAAA,eAAIA,CAAC,CAAC2P,WAAN;EAAA,OARhB,EASGzJ,WATH,CASe,KAAK2Q,WAAL,CAAiBnH,WAAjB,CAA6BxJ,WAT5C,EAUGsK,MAVH,CAWIR,iBAAI,CAAC,qBAAD,EAAwB;EAC1B/E,QAAAA,MAAM,EAAE,KAAKC,OADa;EAE1B+E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAATA;EAAD,SAFmB;EAG1BG,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAATA;EAAD;EAHkB,OAAxB,CAAJ,CAIG1B,IAJH,EAXJ,EAiBGE,MAjBH;EAmBA,UAAIyH,WAAJ,GACGzY,IADH,CACQiY,SADR,EAEG5X,CAFH,CAEK,UAAAA,CAAC;EAAA,0BAAQ,CAAR,OAAa,CAAb,OAAkB,CAACA,CAAC,CAACW,CAArB,cAA0B,CAACX,CAAC,CAACY,CAA7B;EAAA,OAFN,EAGG4P,MAHH,CAIIR,iBAAI,CAAC,qBAAD,EAAwB;EAC1B/E,QAAAA,MAAM,EAAE,KAAKC,OADa;EAE1B+E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAATA;EAAD,SAFmB;EAG1BG,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAATA;EAAD;EAHkB,OAAxB,CAAJ,CAIG1B,IAJH,EAJJ,EAUGnO,MAVH,CAUUiS,uBAAU,CAACzN,IAAX,CAAgB,IAAhB,EAAsB,KAAK+P,WAAL,CAAiBnH,WAAvC,EAAoD,OAApD,EAA6D,MAA7D,CAVV,EAWGiB,MAXH;EAaA,UAAM0H,SAAS,GAAGf,eAAe,CAACvX,GAAhB,CAAoB,UAAAmD,CAAC,EAAI;EAEzC,YAAMoV,CAAC,GAAGpV,CAAC,CAACrB,MAAF,CAAS9B,GAAT,CAAa,UAACC,CAAD,EAAII,CAAJ,EAAU;EAC/B,cAAM8M,KAAK,GAAGpL,WAAG,CAAC9B,CAAC,CAAC6B,MAAH,EAAW,UAAClB,CAAD,EAAIP,CAAJ;EAAA,mBAAU,MAAI,CAAC+W,MAAL,CAAYxW,CAAZ,EAAeP,CAAf,CAAV;EAAA,WAAX,CAAjB;EACA,cAAM0C,CAAC,GAAGoK,KAAK,GAAGqK,QAAR,GAAmBH,MAA7B;EAAA,cACMY,OAAO,GAAGvB,GAAG,GAAGkB,SAAN,GAAkBvX,CADlC;EAEA,iBAAO;EACLO,YAAAA,CAAC,EAAEmC,CAAC,GAAG4T,IAAI,CAACwB,GAAL,CAASF,OAAT,CADF;EAELpX,YAAAA,CAAC,EAAEkC,CAAC,GAAG4T,IAAI,CAACyB,GAAL,CAASH,OAAT;EAFF,WAAP;EAID,SARS,CAAV;EAUA,YAAMhY,CAAC,eAAQsY,CAAC,CAAC,CAAD,CAAD,CAAK3X,CAAb,cAAkB2X,CAAC,CAAC,CAAD,CAAD,CAAK1X,CAAvB,cAA4B0X,CAAC,CACjCvY,GADgC,CAC5B,UAAA2V,CAAC;EAAA,6BAASA,CAAC,CAAC/U,CAAX,cAAgB+U,CAAC,CAAC9U,CAAlB;EAAA,SAD2B,EAEhC6I,IAFgC,CAE3B,GAF2B,CAA5B,gBAEW6O,CAAC,CAAC,CAAD,CAAD,CAAK3X,CAFhB,cAEqB2X,CAAC,CAAC,CAAD,CAAD,CAAK1X,CAF1B,CAAP;EAIA,eAAO;EACLP,UAAAA,GAAG,EAAE6C,CAAC,CAACrB,MAAF,CAAS9B,GAAT,CAAa,UAAAC,CAAC;EAAA,mBAAIgU,kBAAK,CAAChU,CAAC,CAAC6B,MAAH,CAAT;EAAA,WAAd,CADA;EAELiH,UAAAA,EAAE,EAAE5F,CAAC,CAACvB,GAFD;EAGL4W,UAAAA,MAAM,EAAED,CAHH;EAILtY,UAAAA,CAAC,EAADA,CAJK;EAKL0J,UAAAA,UAAU,EAAE,IALP;EAML/J,UAAAA,IAAI,EAAEqU,kBAAK,CAAC9Q,CAAC,CAACrB,MAAF,CAAS9B,GAAT,CAAa,UAAAC,CAAC;EAAA,mBAAIgU,kBAAK,CAAChU,CAAC,CAAC6B,MAAH,CAAT;EAAA,WAAd,CAAD;EANN,SAAP;EASD,OAzBiB,CAAlB;EA2BA,UAAM2W,UAAU,GAAGjE,uBAAU,CAACzN,IAAX,CAAgB,IAAhB,EAAsB,KAAKjB,YAA3B,EAAyC,OAAzC,EAAkD,MAAlD,CAAnB;EACA,UAAM4N,MAAM,GAAGC,MAAM,CAAC7P,IAAP,CAAY2U,UAAU,CAAC3D,EAAvB,CAAf;EACA2D,MAAAA,UAAU,CAAC3D,EAAX,GAAgB,EAAhB;;EAnJc,iCAoJLH,CApJK;EAqJZ,YAAM+D,KAAK,GAAGhF,MAAM,CAACiB,CAAD,CAApB;;EACA8D,QAAAA,UAAU,CAAC3D,EAAX,CAAc4D,KAAd,IAAuB,UAACzY,CAAD,EAAII,CAAJ,EAAU;EAC/B,cAAMO,CAAC,GAAGX,CAAC,CAACuY,MAAF,CAASxY,GAAT,CAAa,UAAAoN,CAAC;EAAA,mBAAIA,CAAC,CAACxM,CAAF,GAAM0C,KAAK,GAAG,CAAlB;EAAA,WAAd,CAAV;EACA,cAAMzC,CAAC,GAAGZ,CAAC,CAACuY,MAAF,CAASxY,GAAT,CAAa,UAAAoN,CAAC;EAAA,mBAAIA,CAAC,CAACvM,CAAF,GAAMuC,MAAM,GAAG,CAAnB;EAAA,WAAd,CAAV;EACA,cAAMuV,MAAM,GAAGC,iBAAK,CAAC,MAAI,CAACzN,OAAL,CAAauF,IAAb,EAAD,CAApB;EACA,cAAMmI,KAAK,GAAGjY,CAAC,CAACZ,GAAF,CAAM,UAAAoN,CAAC;EAAA,mBAAIuJ,IAAI,CAACmC,GAAL,CAAS1L,CAAC,GAAGuL,MAAM,CAAC,CAAD,CAAnB,CAAJ;EAAA,WAAP,CAAd;EACA,cAAMI,KAAK,GAAGlY,CAAC,CAACb,GAAF,CAAM,UAAAoN,CAAC;EAAA,mBAAIuJ,IAAI,CAACmC,GAAL,CAAS1L,CAAC,GAAGuL,MAAM,CAAC,CAAD,CAAnB,CAAJ;EAAA,WAAP,CAAd;EACA,cAAMK,KAAK,GAAGH,KAAK,CAAC7Y,GAAN,CAAU,UAACC,CAAD,EAAII,CAAJ;EAAA,mBAAUJ,CAAC,GAAG8Y,KAAK,CAAC1Y,CAAD,CAAnB;EAAA,WAAV,CAAd;;EACA,UAAA,MAAI,CAACuT,GAAL,CAAS8E,KAAT,EAAgB3R,IAAhB,CAAqB,MAArB,EAA2B9G,CAAC,CAACK,GAAF,CAAM0Y,KAAK,CAAC1R,OAAN,CAAcjF,WAAG,CAAC2W,KAAD,CAAjB,CAAN,CAA3B,EAA6D3Y,CAA7D;EACD,SARD;EAtJY;;EAoJd,WAAK,IAAIsU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,MAAM,CAACpP,MAA3B,EAAmCqQ,CAAC,EAApC,EAAwC;EAAA,cAA/BA,CAA+B;EAWvC;;EAED,WAAKF,OAAL,CAAazH,IAAb,CACE,IAAIqL,WAAJ,GACGzY,IADH,CACQ0Y,SADR,EAEGrY,CAFH,CAEK,UAAAA,CAAC;EAAA,eAAIA,CAAC,CAACA,CAAN;EAAA,OAFN,EAGGwQ,MAHH,CAIIR,iBAAI,CAAC,sBAAD,EAAyB;EAC3B/E,QAAAA,MAAM,EAAE,KAAKC,OADc;EAE3B+E,QAAAA,KAAK,EAAE;EAACkC,UAAAA,SAAS,EAATA;EAAD,SAFoB;EAG3BG,QAAAA,MAAM,EAAE;EAACH,UAAAA,SAAS,EAATA;EAAD;EAHmB,OAAzB,CAAJ,CAIG1B,IAJH,EAJJ,EAUGnO,MAVH,CAUUkW,UAVV,EAWG7H,MAXH,EADF;;EAeA,aAAO,IAAP;EACD;EAED;;;;;;;;;iCAMWoE,GAAG;EACZ,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAKwS,WAAL,GAAmB/Q,mBAAM,CAAC,KAAK+Q,WAAN,EAAmB9B,CAAnB,CAAzB,EAAgD,IAApE,IAA4E,KAAK8B,WAAxF;EACD;EAED;;;;;;;;;6BAMO9B,GAAG;EACR,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK4S,OAAL,GAAe,OAAOlC,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BlN,qBAAQ,CAACkN,CAAD,CAArD,EAA0D,IAA9E,IAAsF,KAAKkC,OAAlG;EACD;EAED;;;;;;;;;mCAMalC,GAAG;EACd,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK6S,aAAL,GAAqBnC,CAArB,EAAwB,IAA5C,IAAoD,KAAKmC,aAAhE;EACD;EAED;;;;;;;;;;;;4BASMnC,GAAG;EACP,aAAOC,SAAS,CAAC3Q,MAAV,IAAoB,KAAK8S,MAAL,GAAc,OAAOpC,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BlN,qBAAQ,CAACkN,CAAD,CAApD,EAAyD,IAA7E,IAAqF,KAAKoC,MAAjG;EACD;;;;IAhQgC/B;;ECjBnC;;;;;;;;;MAQqB4D;;;;;EAEnB;;;;;EAKA,yBAAc;EAAA;;EAAA;;EAEZ;EACA,UAAKxX,QAAL,GAAgB,IAAhB;EAHY;EAKb;;;IAZsC6T;;;;;;;;;;;;;;;;;;;"}